import{a as ii}from"./chunk-ZRWWL7IO.js";import{b as Ft}from"./chunk-RGYFSMI6.js";import{a as $t,c as Jt}from"./chunk-OGF7L3WK.js";import{a as Xt,b as Zt,c as Yt,d as ei,e as ti}from"./chunk-CP2JDSGT.js";import{A as Kt,B as $e,C as Qt,E as At,F as Ut,H as jt,I as Gt,J as Wt,c as Ae,d as Ue,e as It,f as je,h as Ge,k as kt,l as Et,m as Mt,n as Rt,p as Nt,s as Ot,v as Se,y as Bt,z as Ht}from"./chunk-PL4JV4RC.js";import{b as qt}from"./chunk-NLSVLC3G.js";import{g as mt,i as ft,n as bt}from"./chunk-MGIYICR7.js";import{A as Ve,Aa as qe,B as yt,C as z,Ha as Lt,I as Tt,Ia as Dt,J as vt,K as Be,M as ce,Na as Pt,Pa as Vt,V as He,Y as L,Z as Ke,da as wt,ha as Ct,ma as ie,na as Qe,p as Re,q as Ne,qa as xt,r as Oe,sa as xe,ua as St,wa as We,ya as zt,z as _t}from"./chunk-RQNRJHRX.js";import{$a as j,$b as re,Ab as m,Ba as a,Bb as f,Bc as ae,Dc as pt,Eb as ne,Ec as X,Fb as K,Fc as Fe,Ga as D,Gb as at,Gc as se,Hb as Me,Ib as b,Jb as I,Jc as ht,Kb as be,Kc as ut,Lb as te,Lc as gt,Ma as U,Na as nt,Nc as we,Ob as ze,Pa as ue,Pb as Le,Qb as De,Ra as p,Rb as _e,Rc as Ce,Sb as ye,T as le,Ta as x,Tb as E,U as tt,Ua as ge,Ub as N,Vb as Pe,Wb as st,X as it,Y as A,ac as Te,ba as V,bb as G,bc as ct,ca as B,cb as W,da as ee,db as rt,dc as ve,f as Y,fb as me,gb as fe,hb as s,ib as h,jb as g,kb as S,ma as ot,na as Ee,ob as q,oc as dt,pa as lt,pb as $,qb as v,qc as w,rb as J,rc as Q,tb as H,vb as u,yb as y,zb as k}from"./chunk-I5ELLGFI.js";import{a as Z,b as et}from"./chunk-JKOY2XUY.js";var mi=["colgroup"],fi=["caption"],bi=["header"],_i=["body"],yi=["footer"],Ti=["summary"],vi=["emptymessage"],wi=["paginatorleft"],Ci=["paginatorright"],xi=["paginatordropdownitem"],Si=["frozenheader"],Ii=["frozenbody"],ki=["frozenfooter"],Ei=["frozencolgroup"],Mi=["loadingicon"],zi=["reorderindicatorupicon"],Li=["reorderindicatordownicon"],Di=["sorticon"],Pi=["checkboxicon"],Fi=["headercheckboxicon"],Ri=["togglericon"],Ni=["paginatorfirstpagelinkicon"],Oi=["paginatorlastpagelinkicon"],Vi=["paginatorpreviouspagelinkicon"],Bi=["paginatornextpagelinkicon"],Hi=["loader"],Ki=["resizeHelper"],Qi=["reorderIndicatorUp"],Ai=["reorderIndicatorDown"],Ui=["table"],ji=["scrollableView"],Gi=["scrollableFrozenView"],O=t=>({$implicit:t}),Wi=(t,r)=>({left:t,width:r}),qi=(t,r)=>[t,r],$i=t=>({width:t});function Ji(t,r){if(t&1&&S(0,"i"),t&2){let e=u(2);b(e.cn(e.cx("loadingIcon"),"pi-spin"+e.loadingIcon))}}function Xi(t,r){if(t&1&&(ee(),S(0,"svg",11)),t&2){let e=u(3);b(e.cx("loadingIcon")),s("spin",!0)}}function Zi(t,r){}function Yi(t,r){t&1&&p(0,Zi,0,0,"ng-template")}function eo(t,r){if(t&1&&(h(0,"span"),p(1,Yi,1,0,null,12),g()),t&2){let e=u(3);b(e.cx("loadingIcon")),a(),s("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function to(t,r){if(t&1&&(q(0),p(1,Xi,1,3,"svg",10)(2,eo,2,3,"span",6),$()),t&2){let e=u(2);a(),s("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),a(),s("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function io(t,r){if(t&1&&(h(0,"div")(1,"div"),p(2,Ji,1,2,"i",6)(3,to,3,2,"ng-container",9),g()()),t&2){let e=u();b(e.cx("loading")),a(),b(e.cx("mask")),a(),s("ngIf",e.loadingIcon),a(),s("ngIf",!e.loadingIcon)}}function oo(t,r){t&1&&v(0)}function lo(t,r){if(t&1&&(h(0,"div"),p(1,oo,1,0,"ng-container",12),g()),t&2){let e=u();b(e.cx("header")),a(),s("ngTemplateOutlet",e.captionTemplate||e._captionTemplate)}}function no(t,r){t&1&&v(0)}function ro(t,r){if(t&1&&p(0,no,1,0,"ng-container",12),t&2){let e=u(3);s("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate)}}function ao(t,r){t&1&&p(0,ro,1,1,"ng-template",14)}function so(t,r){t&1&&v(0)}function co(t,r){if(t&1&&p(0,so,1,0,"ng-container",12),t&2){let e=u(3);s("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate)}}function po(t,r){t&1&&p(0,co,1,1,"ng-template",15)}function ho(t,r){t&1&&v(0)}function uo(t,r){if(t&1&&p(0,ho,1,0,"ng-container",12),t&2){let e=u(3);s("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate)}}function go(t,r){t&1&&p(0,uo,1,1,"ng-template",16)}function mo(t,r){t&1&&v(0)}function fo(t,r){if(t&1&&p(0,mo,1,0,"ng-container",12),t&2){let e=u(3);s("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function bo(t,r){t&1&&p(0,fo,1,1,"ng-template",17)}function _o(t,r){if(t&1){let e=J();h(0,"p-paginator",13),H("onPageChange",function(i){V(e);let l=u();return B(l.onPageChange(i))}),p(1,ao,1,0,null,9)(2,po,1,0,null,9)(3,go,1,0,null,9)(4,bo,1,0,null,9),g()}if(t&2){let e=u();s("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("styleClass",e.cx("pcPaginator"))("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate??e._paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate??e._paginatorRightTemplate)("appendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate??e._paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("locale",e.paginatorLocale),a(),s("ngIf",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate),a(),s("ngIf",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate),a(),s("ngIf",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate),a(),s("ngIf",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function yo(t,r){t&1&&v(0)}function To(t,r){t&1&&v(0)}function vo(t,r){t&1&&v(0)}function wo(t,r){if(t&1&&(h(0,"div")(1,"table",18,0),p(3,yo,1,0,"ng-container",19),h(4,"thead",20),p(5,To,1,0,"ng-container",19),g(),S(6,"tbody",21),h(7,"tfoot",20),p(8,vo,1,0,"ng-container",19),g()()()),t&2){let e=u();b(e.cx("wrapper")),a(),s("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),a(2),s("ngTemplateOutlet",e.colGroupTemplate||e._colGroupTemplate)("ngTemplateOutletContext",E(18,O,e.columns)),a(),b(e.cx("thead")),a(),s("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)("ngTemplateOutletContext",E(20,O,e.columns)),a(),b(e.cx("tbody")),s("pTreeTableBody",e.columns)("pTreeTableBodyTemplate",e.bodyTemplate??e._bodyTemplate),a(),b(e.cx("tfoot")),a(),s("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)("ngTemplateOutletContext",E(22,O,e.columns))}}function Co(t,r){if(t&1&&S(0,"div",24,2),t&2){let e=u(2);s("ngClass",N(5,qi,e.cx("scrollableView"),e.cx("frozenView")))("ttScrollableView",e.frozenColumns)("frozen",!0)("ngStyle",E(8,$i,e.frozenWidth))("scrollHeight",e.scrollHeight)}}function xo(t,r){if(t&1&&(h(0,"div"),p(1,Co,2,10,"div",22),S(2,"div",23,1),g()),t&2){let e=u();b(e.cx("scrollableWrapper")),a(),s("ngIf",e.frozenColumns||e.frozenBodyTemplate||e._frozenBodyTemplate),a(),b(e.cx("scrollableView")),s("ttScrollableView",e.columns)("frozen",!1)("scrollHeight",e.scrollHeight)("ngStyle",N(9,Wi,e.frozenWidth,"calc(100% - "+e.frozenWidth+")"))}}function So(t,r){t&1&&v(0)}function Io(t,r){if(t&1&&p(0,So,1,0,"ng-container",12),t&2){let e=u(3);s("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate)}}function ko(t,r){t&1&&p(0,Io,1,1,"ng-template",14)}function Eo(t,r){t&1&&v(0)}function Mo(t,r){if(t&1&&p(0,Eo,1,0,"ng-container",12),t&2){let e=u(3);s("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate)}}function zo(t,r){t&1&&p(0,Mo,1,1,"ng-template",15)}function Lo(t,r){t&1&&v(0)}function Do(t,r){if(t&1&&p(0,Lo,1,0,"ng-container",12),t&2){let e=u(3);s("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate)}}function Po(t,r){t&1&&p(0,Do,1,1,"ng-template",16)}function Fo(t,r){t&1&&v(0)}function Ro(t,r){if(t&1&&p(0,Fo,1,0,"ng-container",12),t&2){let e=u(3);s("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function No(t,r){t&1&&p(0,Ro,1,1,"ng-template",17)}function Oo(t,r){if(t&1){let e=J();h(0,"p-paginator",13),H("onPageChange",function(i){V(e);let l=u();return B(l.onPageChange(i))}),p(1,ko,1,0,null,9)(2,zo,1,0,null,9)(3,Po,1,0,null,9)(4,No,1,0,null,9),g()}if(t&2){let e=u();s("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("styleClass",e.cx("pcPaginator"))("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate??e._paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate??e._paginatorRightTemplate)("appendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate??e._paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("locale",e.paginatorLocale),a(),s("ngIf",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate),a(),s("ngIf",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate),a(),s("ngIf",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate),a(),s("ngIf",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function Vo(t,r){t&1&&v(0)}function Bo(t,r){if(t&1&&(h(0,"div"),p(1,Vo,1,0,"ng-container",12),g()),t&2){let e=u();b(e.cx("footer")),a(),s("ngTemplateOutlet",e.summaryTemplate||e._summaryTemplate)}}function Ho(t,r){if(t&1&&S(0,"div",null,3),t&2){let e=u();b(e.cx("columnResizerHelper")),K("display","none")}}function Ko(t,r){t&1&&(ee(),S(0,"svg",26))}function Qo(t,r){}function Ao(t,r){t&1&&p(0,Qo,0,0,"ng-template")}function Uo(t,r){if(t&1&&(h(0,"span",null,4),p(2,Ko,1,0,"svg",25)(3,Ao,1,0,null,12),g()),t&2){let e=u();b(e.cx("reorderIndicatorUp")),K("display","none"),a(2),s("ngIf",!e.reorderIndicatorUpIconTemplate&&!e._reorderIndicatorUpIconTemplate),a(),s("ngTemplateOutlet",e.reorderIndicatorUpIconTemplate||e._reorderIndicatorUpIconTemplate)}}function jo(t,r){t&1&&(ee(),S(0,"svg",28))}function Go(t,r){}function Wo(t,r){t&1&&p(0,Go,0,0,"ng-template")}function qo(t,r){if(t&1&&(h(0,"span",null,5),p(2,jo,1,0,"svg",27)(3,Wo,1,0,null,12),g()),t&2){let e=u();b(e.cx("reorderIndicatorDown")),K("display","none"),a(2),s("ngIf",!e.reorderIndicatorDownIconTemplate&&!e._reorderIndicatorDownIconTemplate),a(),s("ngTemplateOutlet",e.reorderIndicatorDownIconTemplate||e._reorderIndicatorDownIconTemplate)}}var $o=["pTreeTableBody",""],Jo=(t,r,e,o)=>({$implicit:t,node:r,rowData:e,columns:o}),Xo=(t,r)=>({$implicit:t,frozen:r});function Zo(t,r){t&1&&v(0)}function Yo(t,r){if(t&1&&(q(0),p(1,Zo,1,0,"ng-container",2),$()),t&2){let e=u().$implicit,o=u();a(),s("ngTemplateOutlet",o.template)("ngTemplateOutletContext",st(2,Jo,e,e.node,e.node.data,o.columns))}}function el(t,r){if(t&1&&p(0,Yo,2,7,"ng-container",1),t&2){let e=r.$implicit;s("ngIf",e.visible)}}function tl(t,r){t&1&&v(0)}function il(t,r){if(t&1&&(q(0),p(1,tl,1,0,"ng-container",2),$()),t&2){let e=u();a(),s("ngTemplateOutlet",e.tt.emptyMessageTemplate)("ngTemplateOutletContext",N(2,Xo,e.columns,e.frozen))}}var ol=["scrollHeader"],ll=["scrollHeaderBox"],nl=["scrollBody"],rl=["scrollTable"],al=["loadingTable"],sl=["scrollFooter"],cl=["scrollFooterBox"],dl=["scrollableAligner"],pl=["scroller"],hl=["ttScrollableView",""],ul=t=>({height:t}),li=(t,r)=>({$implicit:t,options:r}),gl=t=>({options:t}),ml=(t,r)=>({"max-height":t,"overflow-y":r}),fl=()=>({});function bl(t,r){t&1&&v(0)}function _l(t,r){t&1&&v(0)}function yl(t,r){t&1&&v(0)}function Tl(t,r){if(t&1&&p(0,yl,1,0,"ng-container",12),t&2){let e=r.$implicit,o=r.options;u(2);let i=ne(11);s("ngTemplateOutlet",i)("ngTemplateOutletContext",N(2,li,e,o))}}function vl(t,r){t&1&&v(0)}function wl(t,r){if(t&1&&p(0,vl,1,0,"ng-container",12),t&2){let e=r.options,o=u(3);s("ngTemplateOutlet",o.tt.loaderTemplate||o.tt._loaderTemplate)("ngTemplateOutletContext",E(2,gl,e))}}function Cl(t,r){t&1&&(q(0),p(1,wl,1,4,"ng-template",null,5,ve),$())}function xl(t,r){if(t&1){let e=J();h(0,"p-scroller",17,3),H("onLazyLoad",function(i){V(e);let l=u();return B(l.tt.onLazyItemLoad(i))}),p(2,Tl,1,5,"ng-template",null,4,ve)(4,Cl,3,0,"ng-container",15),g()}if(t&2){let e=u();Me(E(9,ul,e.tt.scrollHeight!=="flex"?e.tt.scrollHeight:void 0)),s("items",e.tt.serializedValue)("styleClass",e.cx("scrollableBody"))("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.tt.virtualScrollItemSize||e.tt._virtualRowHeight)("lazy",e.tt.lazy)("options",e.tt.virtualScrollOptions),a(4),s("ngIf",e.tt.loaderTemplate||e.tt._loaderTemplate)}}function Sl(t,r){t&1&&v(0)}function Il(t,r){if(t&1&&(q(0),h(1,"div",11,6),p(3,Sl,1,0,"ng-container",12),g(),$()),t&2){let e=u(),o=ne(11);a(),b(e.cx("scrollableBody")),s("ngStyle",N(5,ml,e.tt.scrollHeight!=="flex"?e.scrollHeight:void 0,!e.frozen&&e.tt.scrollHeight?"scroll":void 0)),a(2),s("ngTemplateOutlet",o)("ngTemplateOutletContext",N(9,li,e.serializedValue,ye(8,fl)))}}function kl(t,r){t&1&&v(0)}function El(t,r){t&1&&S(0,"div",null,8),t&2&&K("background-color","transparent")}function Ml(t,r){if(t&1&&(h(0,"table",18,7),p(2,kl,1,0,"ng-container",12),S(3,"tbody",19),g(),p(4,El,2,2,"div",20)),t&2){let e=r.$implicit,o=r.options,i=u();Me(o.contentStyle),b(i.tt.tableStyleClass),s("ngClass",o.contentStyleClass)("ngStyle",i.tt.tableStyle),a(2),s("ngTemplateOutlet",i.frozen?i.tt.frozenColGroupTemplate||i.tt._frozenColGroupTemplate||i.tt.colGroupTemplate||i.tt._colGroupTemplate:i.tt.colGroupTemplate||i.tt._colGroupTemplate)("ngTemplateOutletContext",E(15,O,i.columns)),a(),b(i.cx("tbody")),s("pTreeTableBody",i.columns)("pTreeTableBodyTemplate",i.frozen?i.tt.frozenBodyTemplate||i.tt._frozenBodyTemplate||i.tt.bodyTemplate||i.tt._bodyTemplate:i.tt.bodyTemplate||i.tt._bodyTemplate)("serializedNodes",e)("frozen",i.frozen),a(),s("ngIf",i.frozen)}}function zl(t,r){t&1&&v(0)}function Ll(t,r){t&1&&v(0)}function Dl(t,r){if(t&1&&(h(0,"div",null,9)(2,"div",null,10)(4,"table",21),p(5,zl,1,0,"ng-container",12),h(6,"tfoot",13),p(7,Ll,1,0,"ng-container",12),g()()()()),t&2){let e=u();b(e.cx("scrollableFooter")),a(2),b(e.cx("scrollableFooterBox")),a(2),b(e.cx("scrollableFooterTable")),s("ngClass",e.tt.tableStyleClass)("ngStyle",e.tt.tableStyle),a(),s("ngTemplateOutlet",e.frozen?e.tt.frozenColGroupTemplate||e.tt._frozenColGroupTemplate||e.tt.colGroupTemplate||e.tt._colGroupTemplate:e.tt.colGroupTemplate||e.tt._colGroupTemplate)("ngTemplateOutletContext",E(14,O,e.columns)),a(),b(e.cx("tfoot")),a(),s("ngTemplateOutlet",e.frozen?e.tt.frozenFooterTemplate||e.tt._frozenFooterTemplate||e.tt.footerTemplate||e.tt._footerTemplate:e.tt.footerTemplate||e.tt._footerTemplate)("ngTemplateOutletContext",E(16,O,e.columns))}}function Pl(t,r){t&1&&(ee(),S(0,"svg",5)),t&2&&j("aria-hidden",!0)}function Fl(t,r){t&1&&(ee(),S(0,"svg",6)),t&2&&j("aria-hidden",!0)}function Rl(t,r){if(t&1&&(q(0),p(1,Pl,1,1,"svg",3)(2,Fl,1,1,"svg",4),$()),t&2){let e=u();a(),s("ngIf",e.rowNode.node.expanded),a(),s("ngIf",!e.rowNode.node.expanded)}}function Nl(t,r){}function Ol(t,r){t&1&&p(0,Nl,0,0,"ng-template")}var Vl=`
/* For PrimeNG */
.p-treetable {
    position: relative;
}

.p-treetable table {
    border-collapse: collapse;
    width: 100%;
    table-layout: fixed;
}

.p-treetable .p-sortable-column {
    cursor: pointer;
    user-select: none;
}

.p-treetable .p-sortable-column .p-column-title,
.p-treetable .p-sortable-column .p-sortable-column-icon,
.p-treetable .p-sortable-column .p-sortable-column-badge {
    vertical-align: middle;
}

.p-treetable-sort-icon {
    color: dt('treetable.sort.icon.color');
    font-size: dt('treetable.sort.icon.size');
    width: dt('treetable.sort.icon.size');
    height: dt('treetable.sort.icon.size');
    transition: color dt('treetable.transition.duration');
}

.p-treetable .p-sortable-column .p-sortable-column-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.p-treetable-auto-layout>.p-treetable-wrapper {
    overflow-x: auto;
}

.p-treetable-auto-layout>.p-treetable-wrapper>table {
    table-layout: auto;
}

.p-treetable-hoverable-rows .p-treetable-tbody>tr {
    cursor: pointer;
}

.p-treetable-toggler {
    cursor: pointer;
    user-select: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    vertical-align: middle;
    overflow: hidden;
    position: relative;
}


/* Scrollable */
.p-treetable-scrollable-wrapper {
    position: relative;
}

.p-treetable-scrollable-header,
.p-treetable-scrollable-footer {
    overflow: hidden;
    flex-shrink: 0;
}

.p-treetable-scrollable-body {
    overflow: auto;
    position: relative;
}

.p-treetable-virtual-table {
    position: absolute;
}

/* Frozen Columns */
.p-treetable-frozen-view .p-treetable-scrollable-body {
    overflow: hidden;
}

.p-treetable-frozen-view>.p-treetable-scrollable-body>table>.p-treetable-tbody>tr>td:last-child {
    border-right: 0 none;
}

.p-treetable-unfrozen-view {
    position: absolute;
    top: 0;
}

/* Flex Scrollable */
.p-treetable-flex-scrollable {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}

.p-treetable-flex-scrollable .p-treetable-scrollable-wrapper,
.p-treetable-flex-scrollable .p-treetable-scrollable-view {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}

.p-treetable-flex-scrollable .p-treetable-virtual-scrollable-body {
    flex: 1;
}

/* Resizable */
.p-treetable-resizable>.p-treetable-wrapper {
    overflow-x: auto;
}

.p-treetable-resizable .p-treetable-thead>tr>th,
.p-treetable-resizable .p-treetable-tfoot>tr>td,
.p-treetable-resizable .p-treetable-tbody>tr>td {
    overflow: hidden;
}

.p-treetable-resizable .p-resizable-column {
    background-clip: padding-box;
    position: relative;
}

.p-treetable-resizable-fit .p-resizable-column:last-child .p-column-resizer {
    display: none;
}

.p-treetable .p-column-resizer {
    display: block;
    position: absolute;
    top: 0;
    right: 0;
    margin: 0;
    width: dt('treetable.column.resizer.width');
    height: 100%;
    padding: 0px;
    cursor: col-resize;
    border: 1px solid transparent;
}

.p-treetable .p-column-resizer-helper {
    width: dt('treetable.resize.indicator.width');
    position: absolute;
    z-index: 10;
    display: none;
    background: dt('treetable.resize.indicator.color');
}

.p-treetable .p-row-editor-init,
.p-treetable .p-row-editor-save,
.p-treetable .p-row-editor-cancel {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}


/* Reorder */
.p-treetable-reorder-indicator-up,
.p-treetable-reorder-indicator-down {
    position: absolute;
    display: none;
}

[ttReorderableColumn] {
    cursor: move;
}

/* Loader */
.p-treetable-mask {
    position: absolute !important;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

.p-treetable-loading-icon {
    font-size: dt('treetable.loading.icon.size');
    width: dt('treetable.loading.icon.size');
    height: dt('treetable.loading.icon.size');
}

/* Virtual Scroll */
.p-treetable .p-scroller-loading {
    transform: none !important;
    min-height: 0;
    position: sticky;
    top: 0;
    left: 0;
}

.p-treetable .p-paginator-top {
    border-color: dt('treetable.paginator.top.border.color');
    border-style: solid;
    border-width: dt('treetable.paginator.top.border.width');
}

.p-treetable .p-paginator-bottom {
    border-color: dt('treetable.paginator.bottom.border.color');
    border-style: solid;
    border-width: dt('treetable.paginator.bottom.border.width');
}

.p-treetable .p-treetable-header {
    background: dt('treetable.header.background');
    color: dt('treetable.header.color');
    border-color: dt('treetable.header.border.color');
    border-style: solid;
    border-width: dt('treetable.header.border.width');
    padding: dt('treetable.header.padding');
    font-weight: dt('treetable.column.title.font.weight');
}

.p-treetable .p-treetable-footer {
    background: dt('treetable.footer.background');
    color: dt('treetable.footer.color');
    border-color: dt('treetable.footer.border.color');
    border-style: solid;
    border-width: dt('treetable.footer.border.width');
    padding: dt('treetable.footer.padding');
    font-weight: dt('treetable.column.footer.font.weight');
}

.p-treetable .p-treetable-thead>tr>th {
    padding: dt('treetable.header.cell.padding');
    background: dt('treetable.header.cell.background');
    border-color: dt('treetable.header.cell.border.color');
    border-style: solid;
    border-width: 0 0 1px 0;
    color: dt('treetable.header.cell.color');
    font-weight: dt('treetable.column.title.font.weight');
    text-align: start;
    transition: background dt('treetable.transition.duration'), color dt('treetable.transition.duration'), border-color dt('treetable.transition.duration'),
            outline-color dt('treetable.transition.duration'), box-shadow dt('treetable.transition.duration');
}

.p-treetable .p-treetable-tfoot>tr>td {
    text-align: start;
    padding: dt('treetable.footer.cell.padding');
    border-color: dt('treetable.footer.cell.border.color');
    border-style: solid;
    border-width: 0 0 1px 0;
    color: dt('treetable.footer.cell.color');
    background: dt('treetable.footer.cell.background');
    font-weight: dt('treetable.column.footer.font.weight');
}

.p-treetable .p-sortable-column {
    cursor: pointer;
    user-select: none;
    outline-color: transparent;
    vertical-align: middle;
}

.p-treetable .p-sortable-column .p-sortable-column-icon {
    color: dt('treetable.sort.icon.color');
    transition: color dt('treetable.transition.duration');
}


.p-treetable .p-sortable-column:not(.p-treetable-column-sorted):hover {
    background: dt('treetable.header.cell.hover.background');
    color: dt('treetable.header.cell.hover.color');
}

.p-treetable .p-sortable-column:not(.p-treetable-column-sorted):hover .p-sortable-column-icon {
    color: dt('treetable.sort.icon.hover.color');
}

.p-treetable .p-sortable-column.p-treetable-column-sorted {
    background: dt('treetable.header.cell.selected.background');
    color: dt('treetable.header.cell.selected.color');
}

.p-treetable .p-sortable-column.p-treetable-column-sorted .p-sortable-column-icon {
    color: dt('treetable.header.cell.selected.color');
}

.p-treetable .p-sortable-column:focus-visible {
    box-shadow: dt('treetable.header.cell.focus.ring.shadow');
    outline: dt('treetable.header.cell.focus.ring.width') dt('treetable.header.cell.focus.ring.style') dt('treetable.header.cell.focus.ring.color');
    outline-offset: dt('treetable.header.cell.focus.ring.offset');
}

.p-treetable-hoverable .p-treetable-selectable-row {
    cursor: pointer;
}

.p-treetable .p-treetable-tbody > tr {
    outline-color: transparent;
    background: dt('treetable.row.background');
    color: dt('treetable.row.color');
    transition: background dt('treetable.transition.duration'), color dt('treetable.transition.duration'), border-color dt('treetable.transition.duration'),
            outline-color dt('treetable.transition.duration'), box-shadow dt('treetable.transition.duration');
}

.p-treetable .p-treetable-tbody>tr>td {
    text-align: start;
    border-color: dt('treetable.body.cell.border.color');
    border-style: solid;
    border-width: 0 0 1px 0;
    padding: dt('treetable.body.cell.padding');
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    width: dt('treetable.node.toggle.button.size');
    height: dt('treetable.node.toggle.button.size');
    color: dt('treetable.node.toggle.button.color');
    border: 0 none;
    background: transparent;
    cursor: pointer;
    border-radius: dt('treetable.node.toggle.button.border.radius');
    transition: background dt('treetable.transition.duration'), color dt('treetable.transition.duration'), border-color dt('treetable.transition.duration'),
            outline-color dt('treetable.transition.duration'), box-shadow dt('treetable.transition.duration');
    outline-color: transparent;
    user-select: none;
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler:enabled:hover {
    color: dt('treetable.node.toggle.button.hover.color');
    background: dt('treetable.node.toggle.button.hover.background');
}

.p-treetable .p-treetable-tbody>tr>tr.treetable-row-selected .p-treetable-toggler:hover {
    background: dt('treetable.node.toggle.button.selected.hover.background');
    color: dt('treetable.node.toggle.button.selected.hover.color');
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler:focus-visible {
    box-shadow: dt('treetable.node.toggle.button.focus.ring.shadow');
    outline: dt('treetable.node.toggle.button.focus.ring.width') dt('treetable.node.toggle.button.focus.ring.style') dt('treetable.node.toggle.button.focus.ring.color');
    outline-offset: dt('treetable.node.toggle.button.focus.ring.offset');
}


.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected {
    background: dt('treetable.row.selected.background');
    color: dt('treetable.row.selected.color');
}

.p-treetable-tbody > tr:focus-visible,
.p-treetable-tbody > tr.p-treetable-contextmenu-row-selected {
    box-shadow: dt('treetable.row.focus.ring.shadow');
    outline: dt('treetable.row.focus.ring.width') dt('treetable.row.focus.ring.style') dt('treetable.row.focus.ring.color');
    outline-offset: dt('treetable.row.focus.ring.offset');
}

.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected .p-treetable-toggler {
    color: inherit;
}

.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected .p-treetable-toggler:hover {
    background: dt('treetable.node.toggle.button.selected.hover.background');
    color: dt('treetable.node.toggle.button.selected.hover.color');
}

.p-treetable.p-treetable-hoverable-rows .p-treetable-tbody>tr:not(.p-treetable-row-selected):hover {
    background: dt('treetable.row.hover.background');
    color: dt('treetable.row.hover.color');
}

.p-treetable-gridlines .p-treetable-header {
    border-width: 1px 1px 0 1px;
}

.p-treetable-gridlines .p-treetable-footer {
    border-width: 0 1px 1px 1px;
}

.p-treetable-gridlines .p-treetable-paginator-top {
    border-width: 1px 1px 0 1px;
}

.p-treetable-gridlines .p-treetable-paginator-bottom {
    border-width: 0 1px 1px 1px;
}

.p-treetable-gridlines .p-treetable-thead > tr > th {
    border-width: 1px 0 1px 1px;
}

.p-treetable-gridlines .p-treetable-thead > tr > th:last-child {
    border-width: 1px;
}

.p-treetable-gridlines .p-treetable-tbody > tr > td {
    border-width: 1px 0 0 1px;
}

.p-treetable-gridlines .p-treetable-tbody > tr > td:last-child {
    border-width: 1px 1px 0 1px;
}

.p-treetable-gridlines .p-treetable-tbody > tr:last-child > td {
    border-width: 1px 0 1px 1px;
}

.p-treetable-gridlines .p-treetable-tbody > tr:last-child > td:last-child {
    border-width: 1px;
}

.p-treetable-gridlines .p-treetable-tfoot > tr > td {
    border-width: 1px 0 1px 1px;
}

.p-treetable-gridlines .p-treetable-tfoot > tr > td:last-child {
    border-width: 1px 1px 1px 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-thead + .p-treetable-tfoot > tr > td {
    border-width: 0 0 1px 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-thead + .p-treetable-tfoot > tr > td:last-child {
    border-width: 0 1px 1px 1px;
}

.p-treetable.p-treetable-gridlines:has(.p-treetable-thead):has(.p-treetable-tbody) .p-treetable-tbody > tr > td {
    border-width: 0 0 1px 1px;
}

.p-treetable.p-treetable-gridlines:has(.p-treetable-thead):has(.p-treetable-tbody) .p-treetable-tbody > tr > td:last-child {
    border-width: 0 1px 1px 1px;
}

.p-treetable.p-treetable-gridlines:has(.p-treetable-tbody):has(.p-treetable-tfoot) .p-treetable-tbody > tr:last-child > td {
    border-width: 0 0 0 1px;
}

.p-treetable.p-treetable-gridlines:has(.p-treetable-tbody):has(.p-treetable-tfoot) .p-treetable-tbody > tr:last-child > td:last-child {
    border-width: 0 1px 0 1px;
}

.p-treetable.p-treetable-sm .p-treetable-header {
    padding: 0.65625rem 0.875rem;
}

.p-treetable.p-treetable-sm .p-treetable-thead>tr>th {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-tbody>tr>td {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-tfoot>tr>td {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-footer {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-lg .p-treetable-header {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-thead>tr>th {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-tbody>tr>td {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-tfoot>tr>td {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-footer {
    padding: 0.9375rem 1.25rem;
}

p-treetabletoggler + p-treetablecheckbox .p-checkbox,
p-treetable-toggler + p-treetable-checkbox .p-checkbox,
p-tree-table-toggler + p-tree-table-checkbox .p-checkbox {
    vertical-align: middle;
}

p-treetabletoggler + p-treetablecheckbox + span,
p-treetable-toggler + p-treetable-checkbox + span,
p-tree-table-toggler + p-tree-table-checkbox + span {
    vertical-align: middle;
}

p-treetable-sort-icon {
    display: inline-flex;
    align-items: center;
    gap: dt('treetable.header.cell.gap');
}
`,Bl={root:({instance:t})=>["p-treetable p-component",{"p-treetable-gridlines":t.showGridlines,"p-treetable-hoverable-rows":t.rowHover||t.selectionMode==="single"||t.selectionMode==="multiple","p-treetable-auto-layout":t.autoLayout,"p-treetable-resizable":t.resizableColumns,"p-treetable-resizable-fit":t.resizableColumns&&t.columnResizeMode==="fit","p-treetable-flex-scrollable":t.scrollable&&t.scrollHeight==="flex"}],loading:"p-treetable-loading",mask:"p-treetable-mask p-overlay-mask",loadingIcon:"p-treetable-loading-icon",header:"p-treetable-header",pcPaginator:({instance:t})=>["p-treetable-paginator-"+t.paginatorPosition,t.paginatorStyleClass],tableContainer:"p-treetable-table-container",table:({instance:t})=>({"p-treetable-table":!0,"p-treetable-scrollable-table":t.scrollable,"p-treetable-resizable-table":t.resizableColumns,"p-treetable-resizable-table-fit":t.resizableColumns&&t.columnResizeMode==="fit"}),thead:"p-treetable-thead",sortableColumn:({instance:t})=>({"p-sortable-column":t.isEnabled(),"p-treetable-column-sorted":t.sorted}),sortableColumnIcon:"p-treetable-sort-icon",sortableColumnBadge:"p-sortable-column-badge",columnResizer:"p-treetable-column-resizer",columnHeaderContent:"p-treetable-column-header-content",columnTitle:"p-treetable-column-title",sortIcon:"p-treetable-sort-icon",pcSortBadge:"p-treetable-sort-badge",tbody:"p-treetable-tbody",row:({instance:t})=>({"p-treetable-row-selected":t.selected}),contextMenuRow:({instance:t})=>({"p-treetable-contextmenu-row-selected":t.selected}),toggler:"p-treetable-toggler",nodeToggleButton:"p-treetable-node-toggle-button",nodeToggleIcon:"p-treetable-node-toggle-icon",pcNodeCheckbox:"p-treetable-node-checkbox",tfoot:"p-treetable-tfoot",footerCell:({instance:t})=>({"p-treetable-frozen-column":t.columnProp("frozen")}),footer:"p-treetable-footer",columnResizeIndicator:"p-treetable-column-resize-indicator",wrapper:"p-treetable-wrapper",scrollableWrapper:"p-treetable-scrollable-wrapper",scrollableView:"p-treetable-scrollable-view",frozenView:"p-treetable-frozen-view",columnResizerHelper:"p-column-resizer-helper",reorderIndicatorUp:"p-treetable-reorder-indicator-up",reorderIndicatorDown:"p-treetable-reorder-indicator-down",scrollableHeader:"p-treetable-scrollable-header",scrollableHeaderBox:"p-treetable-scrollable-header-box",scrollableHeaderTable:"p-treetable-scrollable-header-table",scrollableBody:"p-treetable-scrollable-body",scrollableFooter:"p-treetable-scrollable-footer",scrollableFooterBox:"p-treetable-scrollable-footer-box",scrollableFooterTable:"p-treetable-scrollable-footer-table"},oe=(()=>{class t extends xt{name="treetable";theme=Vl;classes=Bl;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Ee(t)))(i||t)}})();static \u0275prov=le({token:t,factory:t.\u0275fac})}return t})();var Je=(()=>{class t{sortSource=new Y;selectionSource=new Y;contextMenuSource=new Y;uiUpdateSource=new Y;totalRecordsSource=new Y;sortSource$=this.sortSource.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();uiUpdateSource$=this.uiUpdateSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onUIUpdate(e){this.uiUpdateSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}static \u0275fac=function(o){return new(o||t)};static \u0275prov=le({token:t,factory:t.\u0275fac})}return t})(),de=(()=>{class t extends xe{_componentStyle=A(oe);columns;styleClass;tableStyle;tableStyleClass;autoLayout;lazy=!1;lazyLoadOnInit=!0;paginator;rows;first=0;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;customSort;selectionMode;contextMenuSelection;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!1;compareSelectionBy="deepEquals";rowHover;loading;loadingIcon;showLoader=!0;scrollable;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=150;frozenWidth;frozenColumns;resizableColumns;columnResizeMode="fit";reorderableColumns;contextMenu;rowTrackBy=(e,o)=>o;filters={};globalFilterFields;filterDelay=300;filterMode="lenient";filterLocale;paginatorLocale;get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get value(){return this._value}set value(e){this._value=e}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.log("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}get selectionKeys(){return this._selectionKeys}set selectionKeys(e){this._selectionKeys=e,this.selectionKeysChange.emit(this._selectionKeys)}showGridlines=!1;selectionChange=new x;contextMenuSelectionChange=new x;onFilter=new x;onNodeExpand=new x;onNodeCollapse=new x;onPage=new x;onSort=new x;onLazyLoad=new x;sortFunction=new x;onColResize=new x;onColReorder=new x;onNodeSelect=new x;onNodeUnselect=new x;onContextMenuSelect=new x;onHeaderCheckboxToggle=new x;onEditInit=new x;onEditComplete=new x;onEditCancel=new x;selectionKeysChange=new x;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;tableViewChild;scrollableViewChild;scrollableFrozenViewChild;_value=[];_virtualRowHeight=28;_selectionKeys;serializedValue;_totalRecords=0;_multiSortMeta;_sortField;_sortOrder=1;filteredNodes;filterTimeout;_colGroupTemplate;colGroupTemplate;_captionTemplate;captionTemplate;_headerTemplate;headerTemplate;_bodyTemplate;bodyTemplate;_footerTemplate;footerTemplate;_summaryTemplate;summaryTemplate;_emptyMessageTemplate;emptyMessageTemplate;_paginatorLeftTemplate;paginatorLeftTemplate;_paginatorRightTemplate;paginatorRightTemplate;_paginatorDropdownItemTemplate;paginatorDropdownItemTemplate;_frozenHeaderTemplate;frozenHeaderTemplate;_frozenBodyTemplate;frozenBodyTemplate;_frozenFooterTemplate;frozenFooterTemplate;_frozenColGroupTemplate;frozenColGroupTemplate;_loadingIconTemplate;loadingIconTemplate;_reorderIndicatorUpIconTemplate;reorderIndicatorUpIconTemplate;_reorderIndicatorDownIconTemplate;reorderIndicatorDownIconTemplate;_sortIconTemplate;sortIconTemplate;_checkboxIconTemplate;checkboxIconTemplate;_headerCheckboxIconTemplate;headerCheckboxIconTemplate;_togglerIconTemplate;togglerIconTemplate;_paginatorFirstPageLinkIconTemplate;paginatorFirstPageLinkIconTemplate;_paginatorLastPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;_paginatorPreviousPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;_paginatorNextPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;_loaderTemplate;loaderTemplate;lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;dropPosition;preventSelectionSetterPropagation;_selection;selectedKeys={};rowTouched;editingCell;editingCellData;editingCellField;editingCellClick;documentEditListener;initialized;toggleRowIndex;ngOnInit(){super.ngOnInit(),this.lazy&&this.lazyLoadOnInit&&!this.virtualScroll&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.initialized=!0}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=e.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=e.template;break;case"sorticon":this.sortIconTemplate=e.template;break;case"checkboxicon":this.checkboxIconTemplate=e.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break;case"togglericon":this.togglerIconTemplate=e.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=e.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=e.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=e.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break}})}filterService=A(Ct);tableService=A(Je);zone=A(ge);ngOnChanges(e){super.ngOnChanges(e),e.value&&(this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,this.sortMode=="single"&&this.sortField?this.sortSingle():this.sortMode=="multiple"&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.updateSerializedValue(),this.tableService.onUIUpdate(this.value)),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,this.sortMode==="multiple"&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateselectedKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}updateSerializedValue(){this.serializedValue=[],this.paginator?this.serializePageNodes():this.serializeNodes(null,this.filteredNodes||this.value,0,!0)}serializeNodes(e,o,i,l){if(o&&o.length)for(let n of o){n.parent=e;let c={node:n,parent:e,level:i,visible:l&&(e?e.expanded:!0)};this.serializedValue.push(c),c.visible&&n.expanded&&this.serializeNodes(n,n.children,i+1,c.visible)}}serializePageNodes(){let e=this.filteredNodes||this.value;if(this.serializedValue=[],e&&e.length){let o=this.lazy?0:this.first;for(let i=o;i<o+this.rows;i++){let l=e[i];l&&(this.serializedValue.push({node:l,parent:null,level:0,visible:!0}),this.serializeNodes(l,l.children,1,!0))}}}updateselectedKeys(){if(this.dataKey&&this._selection)if(this.selectedKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectedKeys[String(L(e.data,this.dataKey))]=1;else this.selectedKeys[String(L(this._selection.data,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.serializePageNodes(),this.onPage.emit({first:this.first,rows:this.rows}),this.tableService.onUIUpdate(this.value),this.scrollable&&this.resetScrollTop()}sort(e){let o=e.originalEvent;if(this.sortMode==="single"&&(this._sortOrder=this.sortField===e.field?this.sortOrder*-1:this.defaultSortOrder,this._sortField=e.field,this.sortSingle(),this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.sortMode==="multiple"){let i=o.metaKey||o.ctrlKey,l=this.getSortMeta(e.field);l?i?l.order=l.order*-1:(this._multiSortMeta=[{field:e.field,order:l.order*-1}],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()):((!i||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}}sortSingle(){if(this.sortField&&this.sortOrder){this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortNodes(this.value),this.hasFilter()&&this._filter());let e={field:this.sortField,order:this.sortOrder};this.onSort.emit(e),this.tableService.onSort(e),this.updateSerializedValue()}}sortNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:e,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):e.sort((o,i)=>{let l=L(o.data,this.sortField),n=L(i.data,this.sortField),c=null;return l==null&&n!=null?c=-1:l!=null&&n==null?c=1:l==null&&n==null?c=0:typeof l=="string"&&typeof n=="string"?c=l.localeCompare(n,void 0,{numeric:!0}):c=l<n?-1:l>n?1:0,this.sortOrder*c});for(let o of e)this.sortNodes(o.children)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortMultipleNodes(this.value),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.updateSerializedValue(),this.tableService.onSort(this.multiSortMeta))}sortMultipleNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):e.sort((o,i)=>this.multisortField(o,i,this.multiSortMeta,0));for(let o of e)this.sortMultipleNodes(o.children)}}multisortField(e,o,i,l){if(He(this.multiSortMeta)||He(i[l]))return 0;let n=L(e.data,i[l].field),c=L(o.data,i[l].field),d=null;if(n==null&&c!=null?d=-1:n!=null&&c==null?d=1:n==null&&c==null&&(d=0),typeof n=="string"||n instanceof String){if(n.localeCompare&&n!=c)return i[l].order*n.localeCompare(c,void 0,{numeric:!0})}else d=n<c?-1:1;return n==c?i.length-1>l?this.multisortField(e,o,i,l+1):0:i[l].order*d}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length){for(let o=0;o<this.multiSortMeta.length;o++)if(this.multiSortMeta[o].field===e)return this.multiSortMeta[o]}return null}isSorted(e){if(this.sortMode==="single")return this.sortField&&this.sortField===e;if(this.sortMode==="multiple"){let o=!1;if(this.multiSortMeta){for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field==e){o=!0;break}}return o}}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}onLazyItemLoad(e){this.onLazyLoad.emit(et(Z(Z({},this.createLazyLoadMetadata()),e),{rows:e.last-e.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.scrollableViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e)}scrollTo(e){this.scrollableViewChild&&this.scrollableViewChild.scrollTo(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollTo(e)}isEmpty(){let e=this.filteredNodes||this.value;return e==null||e.length==0}getBlockableElement(){return this.el.nativeElement.children[0]}onColumnResizeBegin(e){let o=ce(this.el?.nativeElement).left;this.lastResizerHelperX=e.pageX-o+this.el?.nativeElement.scrollLeft,e.preventDefault()}onColumnResize(e){let o=ce(this.el?.nativeElement).left;Ne(this.el?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.el?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-o+this.el?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(e,o){let i=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,l=o.offsetWidth,n=l+i,c=o.style.minWidth||15;if(l+i>parseInt(c)){if(this.columnResizeMode==="fit"){let d=o.nextElementSibling;for(;!d.offsetParent;)d=d.nextElementSibling;if(d){let T=d.offsetWidth-i,_=d.style.minWidth||15;if(n>15&&T>parseInt(_))if(this.scrollable){let M=this.findParentScrollableView(o),C=z(M,".p-treetable-scrollable-body table")||z(M,".p-scroller-viewport table"),P=z(M,"table.p-treetable-scrollable-header-table"),F=z(M,"table.p-treetable-scrollable-footer-table"),R=Be(o);this.resizeColGroup(P,R,n,T),this.resizeColGroup(C,R,n,T),this.resizeColGroup(F,R,n,T)}else o.style.width=n+"px",d&&(d.style.width=T+"px")}}else if(this.columnResizeMode==="expand")if(this.scrollable){let d=this.findParentScrollableView(o),T=z(d,".p-treetable-scrollable-body")||z(d,".p-scroller-viewport"),_=z(d,".p-treetable-scrollable-header"),M=z(d,".p-treetable-scrollable-footer"),C=z(d,".p-treetable-scrollable-body table")||z(d,".p-scroller-viewport table"),P=z(d,"table.p-treetable-scrollable-header-table"),F=z(d,"table.p-treetable-scrollable-footer-table");C.style.width=C.offsetWidth+i+"px",P.style.width=P.offsetWidth+i+"px",F&&(F.style.width=F.offsetWidth+i+"px");let R=Be(o),pe=o?C.offsetWidth+i:n,he=o?P.offsetWidth+i:n,Ie=this.el?.nativeElement.offsetWidth>=pe,ke=(Xe,Ze,Ye,hi)=>{Xe&&Ze&&(Xe.style.width=hi?Ye+Ve(T)+"px":"auto",Ze.style.width=Ye+"px")};ke(T,C,pe,Ie),ke(_,P,he,Ie),ke(M,F,he,Ie),this.resizeColGroup(P,R,n,null),this.resizeColGroup(C,R,n,null),this.resizeColGroup(F,R,n,null)}else{this.tableViewChild.nativeElement.style.width=this.tableViewChild?.nativeElement.offsetWidth+i+"px",o.style.width=n+"px";let d=this.tableViewChild?.nativeElement.style.width;this.el.nativeElement.style.width=d+"px"}this.onColResize.emit({element:o,delta:i})}this.resizeHelperViewChild.nativeElement.style.display="none",Oe(this.el?.nativeElement,"p-unselectable-text")}findParentScrollableView(e){if(e){let o=e.parentElement;for(;o&&!Re(o,"p-treetable-scrollable-view");)o=o.parentElement;return o}else return null}resizeColGroup(e,o,i,l){if(e){let n=e.children[0].nodeName==="COLGROUP"?e.children[0]:null;if(n){let c=n.children[o],d=c.nextElementSibling;c.style.width=i+"px",d&&l&&(d.style.width=l+"px")}else throw"Scrollable tables require a colgroup to support resizable columns"}}onColumnDragStart(e,o){this.reorderIconWidth=vt(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=Tt(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=o,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,o){if(this.reorderableColumns&&this.draggedColumn&&o){e.preventDefault();let i=ce(this.el?.nativeElement),l=ce(o);if(this.draggedColumn!=o){let n=l.left-i.left,c=i.top-l.top,d=l.left+o.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=l.top-i.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=l.top-i.top+o.offsetHeight+"px",e.pageX>d?(this.reorderIndicatorUpViewChild.nativeElement.style.left=n+o.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=n+o.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=n-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=n-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,o){if(e.preventDefault(),this.draggedColumn){let i=qe.indexWithinGroup(this.draggedColumn,"ttreorderablecolumn"),l=qe.indexWithinGroup(o,"ttreorderablecolumn"),n=i!=l;n&&(l-i==1&&this.dropPosition===-1||i-l==1&&this.dropPosition===1)&&(n=!1),n&&l<i&&this.dropPosition===1&&(l=l+1),n&&l>i&&this.dropPosition===-1&&(l=l-1),n&&(wt(this.columns,i,l),this.onColReorder.emit({dragIndex:i,dropIndex:l,columns:this.columns})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}handleRowClick(e){let o=e.originalEvent.target.nodeName;if(!(o=="INPUT"||o=="BUTTON"||o=="A"||Re(e.originalEvent.target,"p-clickable"))){if(this.selectionMode){this.preventSelectionSetterPropagation=!0;let i=e.rowNode,l=this.isSelected(i.node),n=this.rowTouched?!1:this.metaKeySelection,c=this.dataKey?String(L(i.node.data,this.dataKey)):null;if(n){let d=e.originalEvent,T=d.metaKey||d.ctrlKey;if(l&&T){if(this.isSingleSelectionMode())this._selection=null,this.selectedKeys={},this.selectionChange.emit(null);else{let _=this.findIndexInSelection(i.node);this._selection=this.selection.filter((M,C)=>C!=_),this.selectionChange.emit(this.selection),c&&delete this.selectedKeys[c]}this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:i.node,type:"row"})}else this.isSingleSelectionMode()?(this._selection=i.node,this.selectionChange.emit(i.node),c&&(this.selectedKeys={},this.selectedKeys[c]=1)):this.isMultipleSelectionMode()&&(T?this._selection=this.selection||[]:(this._selection=[],this.selectedKeys={}),this._selection=[...this.selection,i.node],this.selectionChange.emit(this.selection),c&&(this.selectedKeys[c]=1)),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:i.node,type:"row",index:e.rowIndex})}else if(this.selectionMode==="single")l?(this._selection=null,this.selectedKeys={},this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:i.node,type:"row"})):(this._selection=i.node,this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:i.node,type:"row",index:e.rowIndex}),c&&(this.selectedKeys={},this.selectedKeys[c]=1));else if(this.selectionMode==="multiple")if(l){let d=this.findIndexInSelection(i.node);this._selection=this.selection.filter((T,_)=>_!=d),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:i.node,type:"row"}),c&&delete this.selectedKeys[c]}else this._selection=this.selection?[...this.selection,i.node]:[i.node],this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:i.node,type:"row",index:e.rowIndex}),c&&(this.selectedKeys[c]=1);this.tableService.onSelectionChange()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){let o=e.rowNode.node;if(this.contextMenuSelectionMode==="separate")this.contextMenuSelection=o,this.contextMenuSelectionChange.emit(o),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:o}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(o);else if(this.contextMenuSelectionMode==="joint"){this.preventSelectionSetterPropagation=!0;let i=this.isSelected(o),l=this.dataKey?String(L(o.data,this.dataKey)):null;i||(this.isSingleSelectionMode()?(this.selection=o,this.selectionChange.emit(o)):this.isMultipleSelectionMode()&&(this.selection=[o],this.selectionChange.emit(this.selection)),l&&(this.selectedKeys[l]=1)),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:o})}}}toggleNodeWithCheckbox(e){this.selection=this.selection||[],this.preventSelectionSetterPropagation=!0;let o=e.rowNode.node;this.isSelected(o)?(this.propagateSelectionDown(o,!1),e.rowNode.parent&&this.propagateSelectionUp(o.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:o})):(this.propagateSelectionDown(o,!0),e.rowNode.parent&&this.propagateSelectionUp(o.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:o})),this.tableService.onSelectionChange()}toggleNodesWithCheckbox(e,o){let i=this.filteredNodes||this.value;this._selection=o&&i?i.slice():[],this.toggleAll(o),o||(this._selection=[],this.selectedKeys={}),this.preventSelectionSetterPropagation=!0,this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:o})}toggleAll(e){let o=this.filteredNodes||this.value;if(this.selectionKeys){if(o&&o.length){for(let i of o)this.propagateDown(i,e);this.selectionKeysChange.emit(this.selectionKeys)}}else if(o&&o.length)for(let i of o)this.propagateSelectionDown(i,e)}propagateSelectionUp(e,o){if(e.children&&e.children.length){let l=0,n=!1,c=this.dataKey?String(L(e.data,this.dataKey)):null;for(let d of e.children)this.isSelected(d)?l++:d.partialSelected&&(n=!0);if(o&&l==e.children.length)this._selection=[...this.selection||[],e],e.partialSelected=!1,c&&(this.selectedKeys[c]=1);else{if(!o){let d=this.findIndexInSelection(e);d>=0&&(this._selection=this.selection.filter((T,_)=>_!=d),c&&delete this.selectedKeys[c])}n||l>0&&l!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}}let i=e.parent;e.checked=o,i&&this.propagateSelectionUp(i,o)}propagateSelectionDown(e,o){let i=this.findIndexInSelection(e),l=this.dataKey?String(L(e.data,this.dataKey)):null;if(o&&i==-1?(this._selection=[...this.selection||[],e],l&&(this.selectedKeys[l]=1)):!o&&i>-1&&(this._selection=this.selection.filter((n,c)=>c!=i),l&&delete this.selectedKeys[l]),e.partialSelected=!1,e.checked=o,e.children&&e.children.length)for(let n of e.children)this.propagateSelectionDown(n,o)}isSelected(e){return e&&this.selection?this.dataKey?e.hasOwnProperty("checked")?e.checked:this.selectedKeys[L(e.data,this.dataKey)]!==void 0:Array.isArray(this.selection)?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1}isNodeSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.checked===!0:!1}isNodePartialSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.partialChecked===!0:!1}nodeKey(e){return L(e,this.dataKey)||L(e?.data,this.dataKey)}toggleCheckbox(e){let{rowNode:o,check:i,originalEvent:l}=e,n=o.node;this.selectionKeys?(this.propagateDown(n,i),n.parent&&this.propagateUp(n.parent,i),this.selectionKeysChange.emit(this.selectionKeys)):this.toggleNodeWithCheckbox({originalEvent:l,rowNode:o}),this.tableService.onSelectionChange()}propagateDown(e,o){if(o?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:delete this.selectionKeys[this.nodeKey(e)],e.children&&e.children.length)for(let i of e.children)this.propagateDown(i,o)}propagateUp(e,o){let i=0,l=!1;for(let c of e.children)this.selectionKeys[this.nodeKey(c)]&&this.selectionKeys[this.nodeKey(c)].checked?i++:this.selectionKeys[this.nodeKey(c)]&&this.selectionKeys[this.nodeKey(c)].partialChecked&&(l=!0);o&&i===e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:(o||delete this.selectionKeys[this.nodeKey(e)],l||i>0&&i!==e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!0}:this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!1});let n=e.parent;n&&this.propagateUp(n,o)}findIndexInSelection(e){let o=-1;if(this.selection&&this.selection.length){for(let i=0;i<this.selection.length;i++)if(this.equals(e,this.selection[i])){o=i;break}}return o}isSingleSelectionMode(){return this.selectionMode==="single"}isMultipleSelectionMode(){return this.selectionMode==="multiple"}equals(e,o){return this.compareSelectionBy==="equals"?Ke(e,o):Ke(e.data,o.data,this.dataKey)}filter(e,o,i){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[o]&&delete this.filters[o]:this.filters[o]={value:e,matchMode:i},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay)}filterGlobal(e,o){this.filter(e,"global",o)}isFilterBlank(e){return e!=null?!!(typeof e=="string"&&e.trim().length==0||Array.isArray(e)&&e.length==0):!0}_filter(){if(this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(!this.hasFilter())this.filteredNodes=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0);else{let o;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");o=this.globalFilterFields||this.columns}this.filteredNodes=[];let i=this.filterMode==="strict",l=!1;for(let n of this.value){let c=Z({},n),d=!0,T=!1,_;for(let C in this.filters)if(this.filters.hasOwnProperty(C)&&C!=="global"){let P=this.filters[C],F=C,R=P.value,pe=P.matchMode||"startsWith",he=this.filterService.filters[pe];if(_={filterField:F,filterValue:R,filterConstraint:he,isStrictMode:i},(i&&!(this.findFilteredNodes(c,_)||this.isFilterMatched(c,_))||!i&&!(this.isFilterMatched(c,_)||this.findFilteredNodes(c,_)))&&(d=!1),!d)break}if(this.filters.global&&!T&&o){let C=Z({},c),P,F=this.filters.global.value,R=this.filterService.filters[this.filters.global.matchMode];_={filterField:P,filterValue:F,filterConstraint:R,isStrictMode:i,globalFilterFieldsArray:o},(i&&(this.findFilteredNodes(C,_)||this.isFilterMatched(C,_))||!i&&(this.isFilterMatched(C,_)||this.findFilteredNodes(C,_)))&&(T=!0,c=C)}let M=d;this.filters.global&&(M=d&&T),M&&this.filteredNodes.push(c),l=l||!d||T||d&&this.filteredNodes.length>0||!T&&this.filteredNodes.length===0}l||(this.filteredNodes=null),this.paginator&&(this.totalRecords=this.filteredNodes?this.filteredNodes.length:this.value?this.value.length:0)}this.cd.markForCheck()}this.first=0;let e=this.filteredNodes||this.value;this.onFilter.emit({filters:this.filters,filteredValue:e}),this.tableService.onUIUpdate(e),this.updateSerializedValue(),this.scrollable&&this.resetScrollTop()}findFilteredNodes(e,o){if(e){let i=!1;if(e.children){let l=[...e.children];e.children=[];for(let n of l){let c=Z({},n);this.isFilterMatched(c,o)&&(i=!0,e.children.push(c))}}if(i)return!0}}isFilterMatched(e,o){let{filterField:i,filterValue:l,filterConstraint:n,isStrictMode:c,globalFilterFieldsArray:d}=o,T=!1,_=M=>n(L(e.data,M),l,this.filterLocale);return T=d?.length?d.some(M=>_(M.field||M)):_(i),(!T||c&&!this.isNodeLeaf(e))&&(T=this.findFilteredNodes(e,{filterField:i,filterValue:l,filterConstraint:n,isStrictMode:c,globalFilterFieldsArray:d})||T),T}isNodeLeaf(e){return e.leaf===!1?!1:!(e.children&&e.children.length)}hasFilter(){let e=!0;for(let o in this.filters)if(this.filters.hasOwnProperty(o)){e=!1;break}return!e}reset(){this._sortField=null,this._sortOrder=1,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredNodes=null,this.filters={},this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}updateEditingCell(e,o,i){this.editingCell=e,this.editingCellData=o,this.editingCellField=i,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&yt(this.editingCell,".ng-invalid.ng-dirty").length===0}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",e=>{this.editingCell&&!this.editingCellClick&&this.isEditingCellValid()&&(Oe(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData}),this.editingCellField=null,this.editingCellData=null,this.unbindDocumentEditListener()),this.editingCellClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.editingCellField=null,this.editingCellData=null,this.initialized=null,super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Ee(t)))(i||t)}})();static \u0275cmp=U({type:t,selectors:[["p-treeTable"],["p-treetable"],["p-tree-table"]],contentQueries:function(o,i,l){if(o&1&&(y(l,mi,4),y(l,fi,4),y(l,bi,4),y(l,_i,4),y(l,yi,4),y(l,Ti,4),y(l,vi,4),y(l,wi,4),y(l,Ci,4),y(l,xi,4),y(l,Si,4),y(l,Ii,4),y(l,ki,4),y(l,Ei,4),y(l,Mi,4),y(l,zi,4),y(l,Li,4),y(l,Di,4),y(l,Pi,4),y(l,Fi,4),y(l,Ri,4),y(l,Ni,4),y(l,Oi,4),y(l,Vi,4),y(l,Bi,4),y(l,Hi,4),y(l,ie,4)),o&2){let n;m(n=f())&&(i._colGroupTemplate=n.first),m(n=f())&&(i._captionTemplate=n.first),m(n=f())&&(i._headerTemplate=n.first),m(n=f())&&(i._bodyTemplate=n.first),m(n=f())&&(i._footerTemplate=n.first),m(n=f())&&(i._summaryTemplate=n.first),m(n=f())&&(i._emptyMessageTemplate=n.first),m(n=f())&&(i._paginatorLeftTemplate=n.first),m(n=f())&&(i._paginatorRightTemplate=n.first),m(n=f())&&(i._paginatorDropdownItemTemplate=n.first),m(n=f())&&(i._frozenHeaderTemplate=n.first),m(n=f())&&(i._frozenBodyTemplate=n.first),m(n=f())&&(i._frozenFooterTemplate=n.first),m(n=f())&&(i._frozenColGroupTemplate=n.first),m(n=f())&&(i._loadingIconTemplate=n.first),m(n=f())&&(i._reorderIndicatorUpIconTemplate=n.first),m(n=f())&&(i._reorderIndicatorDownIconTemplate=n.first),m(n=f())&&(i._sortIconTemplate=n.first),m(n=f())&&(i._checkboxIconTemplate=n.first),m(n=f())&&(i._headerCheckboxIconTemplate=n.first),m(n=f())&&(i._togglerIconTemplate=n.first),m(n=f())&&(i._paginatorFirstPageLinkIconTemplate=n.first),m(n=f())&&(i._paginatorLastPageLinkIconTemplate=n.first),m(n=f())&&(i._paginatorPreviousPageLinkIconTemplate=n.first),m(n=f())&&(i._paginatorNextPageLinkIconTemplate=n.first),m(n=f())&&(i._loaderTemplate=n.first),m(n=f())&&(i.templates=n)}},viewQuery:function(o,i){if(o&1&&(k(Ki,5),k(Qi,5),k(Ai,5),k(Ui,5),k(ji,5),k(Gi,5)),o&2){let l;m(l=f())&&(i.resizeHelperViewChild=l.first),m(l=f())&&(i.reorderIndicatorUpViewChild=l.first),m(l=f())&&(i.reorderIndicatorDownViewChild=l.first),m(l=f())&&(i.tableViewChild=l.first),m(l=f())&&(i.scrollableViewChild=l.first),m(l=f())&&(i.scrollableFrozenViewChild=l.first)}},hostVars:3,hostBindings:function(o,i){o&2&&(j("data-scrollselectors",".p-treetable-scrollable-body"),b(i.cn(i.cx("root"),i.styleClass)))},inputs:{columns:"columns",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",autoLayout:[2,"autoLayout","autoLayout",w],lazy:[2,"lazy","lazy",w],lazyLoadOnInit:[2,"lazyLoadOnInit","lazyLoadOnInit",w],paginator:[2,"paginator","paginator",w],rows:[2,"rows","rows",Q],first:[2,"first","first",Q],pageLinks:[2,"pageLinks","pageLinks",Q],rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:[2,"alwaysShowPaginator","alwaysShowPaginator",w],paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[2,"showCurrentPageReport","showCurrentPageReport",w],showJumpToPageDropdown:[2,"showJumpToPageDropdown","showJumpToPageDropdown",w],showFirstLastIcon:[2,"showFirstLastIcon","showFirstLastIcon",w],showPageLinks:[2,"showPageLinks","showPageLinks",w],defaultSortOrder:[2,"defaultSortOrder","defaultSortOrder",Q],sortMode:"sortMode",resetPageOnSort:[2,"resetPageOnSort","resetPageOnSort",w],customSort:[2,"customSort","customSort",w],selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:[2,"metaKeySelection","metaKeySelection",w],compareSelectionBy:"compareSelectionBy",rowHover:[2,"rowHover","rowHover",w],loading:[2,"loading","loading",w],loadingIcon:"loadingIcon",showLoader:[2,"showLoader","showLoader",w],scrollable:[2,"scrollable","scrollable",w],scrollHeight:"scrollHeight",virtualScroll:[2,"virtualScroll","virtualScroll",w],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Q],virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:[2,"virtualScrollDelay","virtualScrollDelay",Q],frozenWidth:"frozenWidth",frozenColumns:"frozenColumns",resizableColumns:[2,"resizableColumns","resizableColumns",w],columnResizeMode:"columnResizeMode",reorderableColumns:[2,"reorderableColumns","reorderableColumns",w],contextMenu:"contextMenu",rowTrackBy:"rowTrackBy",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:[2,"filterDelay","filterDelay",Q],filterMode:"filterMode",filterLocale:"filterLocale",paginatorLocale:"paginatorLocale",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",value:"value",virtualRowHeight:"virtualRowHeight",selectionKeys:"selectionKeys",showGridlines:[2,"showGridlines","showGridlines",w]},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onFilter:"onFilter",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onPage:"onPage",onSort:"onSort",onLazyLoad:"onLazyLoad",sortFunction:"sortFunction",onColResize:"onColResize",onColReorder:"onColReorder",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onContextMenuSelect:"onContextMenuSelect",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",selectionKeysChange:"selectionKeysChange"},standalone:!1,features:[_e([Je,oe]),ue,ot],decls:10,vars:10,consts:[["table",""],["scrollableView",""],["scrollableFrozenView",""],["resizeHelper",""],["reorderIndicatorUp",""],["reorderIndicatorDown",""],[3,"class",4,"ngIf"],[3,"rows","first","totalRecords","pageLinkSize","styleClass","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","appendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","locale","onPageChange",4,"ngIf"],[3,"class","display",4,"ngIf"],[4,"ngIf"],["data-p-icon","spinner",3,"spin","class",4,"ngIf"],["data-p-icon","spinner",3,"spin"],[4,"ngTemplateOutlet"],[3,"onPageChange","rows","first","totalRecords","pageLinkSize","styleClass","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","appendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","locale"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],["role","table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup"],["role","rowgroup",3,"pTreeTableBody","pTreeTableBodyTemplate"],[3,"ngClass","ttScrollableView","frozen","ngStyle","scrollHeight",4,"ngIf"],[3,"ttScrollableView","frozen","scrollHeight","ngStyle"],[3,"ngClass","ttScrollableView","frozen","ngStyle","scrollHeight"],["data-p-icon","arrow-down",4,"ngIf"],["data-p-icon","arrow-down"],["data-p-icon","arrow-up",4,"ngIf"],["data-p-icon","arrow-up"]],template:function(o,i){o&1&&p(0,io,4,6,"div",6)(1,lo,2,3,"div",6)(2,_o,5,21,"p-paginator",7)(3,wo,9,24,"div",6)(4,xo,4,12,"div",6)(5,Oo,5,21,"p-paginator",7)(6,Bo,2,3,"div",6)(7,Ho,2,4,"div",8)(8,Uo,4,6,"span",8)(9,qo,4,6,"span",8),o&2&&(s("ngIf",i.loading&&i.showLoader),a(),s("ngIf",i.captionTemplate||i._captionTemplate),a(),s("ngIf",i.paginator&&(i.paginatorPosition==="top"||i.paginatorPosition=="both")),a(),s("ngIf",!i.scrollable),a(),s("ngIf",i.scrollable),a(),s("ngIf",i.paginator&&(i.paginatorPosition==="bottom"||i.paginatorPosition=="both")),a(),s("ngIf",i.summaryTemplate||i._summaryTemplate),a(),s("ngIf",i.resizableColumns),a(),s("ngIf",i.reorderableColumns),a(),s("ngIf",i.reorderableColumns))},dependencies:()=>[ae,X,se,Fe,At,ie,We,Ae,Ue,Hl,ni],encapsulation:2})}return t})(),ni=(()=>{class t{tt;treeTableService;cd;columns;template;frozen;serializedNodes;scrollerOptions;subscription;constructor(e,o,i){this.tt=e,this.treeTableService=o,this.cd=i,this.subscription=this.tt.tableService.uiUpdateSource$.subscribe(()=>{this.tt.virtualScroll&&this.cd.detectChanges()})}getScrollerOption(e,o){return this.tt.virtualScroll?(o=o||this.scrollerOptions,o?o[e]:null):null}getRowIndex(e){let o=this.getScrollerOption("getItemOptions");return o?o(e).index:e}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||t)(D(de),D(Je),D(dt))};static \u0275cmp=U({type:t,selectors:[["","pTreeTableBody",""]],inputs:{columns:[0,"pTreeTableBody","columns"],template:[0,"pTreeTableBodyTemplate","template"],frozen:[2,"frozen","frozen",w],serializedNodes:"serializedNodes",scrollerOptions:"scrollerOptions"},standalone:!1,attrs:$o,decls:2,vars:3,consts:[["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,i){o&1&&p(0,el,1,1,"ng-template",0)(1,il,2,5,"ng-container",1),o&2&&(s("ngForOf",i.serializedNodes||i.tt.serializedValue)("ngForTrackBy",i.tt.rowTrackBy),a(),s("ngIf",i.tt.isEmpty()))},dependencies:[pt,X,se],encapsulation:2})}return t})(),Hl=(()=>{class t extends xe{tt;el;zone;columns;frozen;scrollHeaderViewChild;scrollHeaderBoxViewChild;scrollBodyViewChild;scrollTableViewChild;scrollLoadingTableViewChild;scrollFooterViewChild;scrollFooterBoxViewChild;scrollableAlignerViewChild;scroller;headerScrollListener;bodyScrollListener;footerScrollListener;frozenSiblingBody;totalRecordsSubscription;_scrollHeight;preventBodyScrollPropagation;_componentStyle=A(oe);get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e,e!=null&&(e.includes("%")||e.includes("calc"))&&console.log('Percentage scroll height calculation is removed in favor of the more performant CSS based flex mode, use scrollHeight="flex" instead.')}constructor(e,o,i){super(),this.tt=e,this.el=o,this.zone=i}ngAfterViewInit(){if(super.ngAfterViewInit(),Ce(this.platformId)){if(this.frozen)this.scrollableAlignerViewChild&&this.scrollableAlignerViewChild.nativeElement&&(this.scrollableAlignerViewChild.nativeElement.style.height=_t()+"px");else{(this.tt.frozenColumns||this.tt.frozenBodyTemplate||this.tt._frozenBodyTemplate)&&Ne(this.el.nativeElement,"p-treetable-unfrozen-view");let e=this.el.nativeElement.previousElementSibling;if(e&&(this.tt.virtualScroll?this.frozenSiblingBody=z(e,".p-scroller-viewport"):this.frozenSiblingBody=z(e,".p-treetable-scrollable-body")),this.scrollHeight){let o=Ve();this.scrollHeaderBoxViewChild.nativeElement.style.paddingRight=o+"px",this.scrollFooterBoxViewChild&&this.scrollFooterBoxViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.paddingRight=o+"px")}}this.bindEvents()}}bindEvents(){Ce(this.platformId)&&this.zone.runOutsideAngular(()=>{this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.headerScrollListener=this.renderer.listen(this.scrollHeaderBoxViewChild?.nativeElement,"scroll",this.onHeaderScroll.bind(this))),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.footerScrollListener=this.renderer.listen(this.scrollFooterViewChild.nativeElement,"scroll",this.onFooterScroll.bind(this))),this.frozen||(this.tt.virtualScroll?this.bodyScrollListener=this.renderer.listen((this.scroller?.getElementRef()).nativeElement,"scroll",this.onBodyScroll.bind(this)):this.bodyScrollListener=this.renderer.listen(this.scrollBodyViewChild?.nativeElement,"scroll",this.onBodyScroll.bind(this)))})}unbindEvents(){Ce(this.platformId)&&(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&this.headerScrollListener&&(this.headerScrollListener(),this.headerScrollListener=null),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&this.footerScrollListener&&(this.footerScrollListener(),this.footerScrollListener=null),this.scrollBodyViewChild&&this.scrollBodyViewChild.nativeElement&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null),this.scroller&&this.scroller.getElementRef()&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null))}onHeaderScroll(){let e=this.scrollHeaderViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onFooterScroll(){let e=this.scrollFooterViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onBodyScroll(e){if(this.preventBodyScrollPropagation){this.preventBodyScrollPropagation=!1;return}this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.frozenSiblingBody&&(this.frozenSiblingBody.scrollTop=e.target.scrollTop)}scrollToVirtualIndex(e){this.scroller&&this.scroller.scrollToIndex(e)}scrollTo(e){this.scroller?this.scroller.scrollTo(e):this.scrollBodyViewChild?.nativeElement.scrollTo?this.scrollBodyViewChild.nativeElement.scrollTo(e):(this.scrollBodyViewChild.nativeElement.scrollLeft=e.left,this.scrollBodyViewChild.nativeElement.scrollTop=e.top)}ngOnDestroy(){super.ngOnDestroy(),this.unbindEvents(),this.frozenSiblingBody=null}static \u0275fac=function(o){return new(o||t)(D(de),D(lt),D(ge))};static \u0275cmp=U({type:t,selectors:[["","ttScrollableView",""]],viewQuery:function(o,i){if(o&1&&(k(ol,5),k(ll,5),k(nl,5),k(rl,5),k(al,5),k(sl,5),k(cl,5),k(dl,5),k(pl,5)),o&2){let l;m(l=f())&&(i.scrollHeaderViewChild=l.first),m(l=f())&&(i.scrollHeaderBoxViewChild=l.first),m(l=f())&&(i.scrollBodyViewChild=l.first),m(l=f())&&(i.scrollTableViewChild=l.first),m(l=f())&&(i.scrollLoadingTableViewChild=l.first),m(l=f())&&(i.scrollFooterViewChild=l.first),m(l=f())&&(i.scrollFooterBoxViewChild=l.first),m(l=f())&&(i.scrollableAlignerViewChild=l.first),m(l=f())&&(i.scroller=l.first)}},inputs:{columns:[0,"ttScrollableView","columns"],frozen:[2,"frozen","frozen",w],scrollHeight:"scrollHeight"},standalone:!1,features:[_e([oe]),ue],attrs:hl,decls:13,vars:20,consts:[["scrollHeader",""],["scrollHeaderBox",""],["buildInItems",""],["scroller",""],["content",""],["loader",""],["scrollBody",""],["scrollTable",""],["scrollableAligner",""],["scrollFooter",""],["scrollFooterBox",""],[3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup"],[3,"items","styleClass","style","scrollHeight","itemSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],[3,"class",4,"ngIf"],[3,"onLazyLoad","items","styleClass","scrollHeight","itemSize","lazy","options"],["role","table",3,"ngClass","ngStyle"],["role","rowgroup",3,"pTreeTableBody","pTreeTableBodyTemplate","serializedNodes","frozen"],[3,"background-color",4,"ngIf"],[3,"ngClass","ngStyle"]],template:function(o,i){o&1&&(h(0,"div",null,0)(2,"div",null,1)(4,"table",11),p(5,bl,1,0,"ng-container",12),h(6,"thead",13),p(7,_l,1,0,"ng-container",12),g()()()(),p(8,xl,5,11,"p-scroller",14)(9,Il,4,12,"ng-container",15)(10,Ml,5,17,"ng-template",null,2,ve)(12,Dl,8,18,"div",16)),o&2&&(b(i.cx("scrollableHeader")),a(2),b(i.cx("scrollableHeaderBox")),a(2),b(i.cn(i.cx("scrollableHeaderTable"),i.tt.tableStyleClass)),s("ngStyle",i.tt.tableStyle),a(),s("ngTemplateOutlet",i.frozen?i.tt.frozenColGroupTemplate||i.tt._frozenColGroupTemplate||i.tt.colGroupTemplate||i.tt._colGroupTemplate:i.tt.colGroupTemplate||i.tt._colGroupTemplate)("ngTemplateOutletContext",E(16,O,i.columns)),a(),b(i.cx("thead")),a(),s("ngTemplateOutlet",i.frozen?i.tt.frozenHeaderTemplate||i.tt._frozenHeaderTemplate||i.tt.headerTemplate||i.tt._headerTemplate:i.tt.headerTemplate||i.tt._headerTemplate)("ngTemplateOutletContext",E(18,O,i.columns)),a(),s("ngIf",i.tt.virtualScroll),a(),s("ngIf",!i.tt.virtualScroll),a(3),s("ngIf",i.tt.footerTemplate||i.tt._footerTemplate))},dependencies:()=>[ae,X,se,Fe,$e,ni],encapsulation:2})}return t})();var ri=(()=>{class t extends xe{tt;rowNode;_componentStyle=A(oe);constructor(e){super(),this.tt=e}get toggleButtonAriaLabel(){return this.config.translation?this.rowNode.expanded?this.config.translation.aria.collapseRow:this.config.translation.aria.expandRow:void 0}onClick(e){this.rowNode.node.expanded=!this.rowNode.node.expanded,this.rowNode.node.expanded?this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node}):this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node}),this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),e.preventDefault()}static \u0275fac=function(o){return new(o||t)(D(de))};static \u0275cmp=U({type:t,selectors:[["p-treeTableToggler"],["p-treetabletoggler"],["p-treetable-toggler"]],inputs:{rowNode:"rowNode"},standalone:!1,features:[_e([oe]),ue],decls:3,vars:14,consts:[["type","button","tabindex","-1","pRipple","",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","chevron-down",4,"ngIf"],["data-p-icon","chevron-right",4,"ngIf"],["data-p-icon","chevron-down"],["data-p-icon","chevron-right"]],template:function(o,i){o&1&&(h(0,"button",0),H("click",function(n){return i.onClick(n)}),p(1,Rl,3,2,"ng-container",1)(2,Ol,1,0,null,2),g()),o&2&&(b(i.cx("toggler")),K("visibility",i.rowNode.node.leaf===!1||i.rowNode.node.children&&i.rowNode.node.children.length?"visible":"hidden")("margin-inline-start",i.rowNode.level*16+"px"),j("data-pc-section","rowtoggler")("data-pc-group-section","rowactionbutton")("aria-label",i.toggleButtonAriaLabel),a(),s("ngIf",!i.tt.togglerIconTemplate&&!i.tt._togglerIconTemplate),a(),s("ngTemplateOutlet",i.tt.togglerIconTemplate||i.tt._togglerIconTemplate)("ngTemplateOutletContext",E(12,O,i.rowNode.node.expanded)))},dependencies:()=>[X,se,zt,je,Ge],encapsulation:2})}return t})(),ai=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=nt({type:t});static \u0275inj=tt({imports:[we,Ut,$e,We,Ae,Ue,kt,Mt,Et,St,It,je,Ge,Bt,Qe,Se,Qe]})}return t})();var si=(()=>{let r=class r{constructor(o){this.apiService=o,this.endpoint="/api/v1/index"}createIndex(o){return this.apiService.post(this.endpoint,o)}getAllIndices(){return this.apiService.get(this.endpoint)}getIndexById(o){return this.apiService.get(`${this.endpoint}/${o}`)}getIndexBySymbol(o){return this.apiService.get(`${this.endpoint}/symbol/${o}`)}getIndexByName(o){return this.apiService.get(`${this.endpoint}/name/${o}`)}getIndexByKeyCategory(o){return this.apiService.get(`${this.endpoint}/category/${o}`)}};r.\u0275fac=function(i){return new(i||r)(it(Ft))},r.\u0275prov=le({token:r,factory:r.\u0275fac,providedIn:"root"});let t=r;return t})();var Al=()=>["keyCategory","symbol"],Ul=(t,r)=>({"category-row":t,"selected-row":r}),di=t=>({"font-bold":t}),pi=(t,r,e)=>({"font-bold":t,"text-green-500":r,"text-red-500":e}),ci=(t,r)=>r.id;function jl(t,r){if(t&1&&(h(0,"p-tab",5)(1,"span"),I(2),g()()),t&2){let e=r.$index;s("value",e.toString()),a(2),be(e===0?"Indices":e+1)}}function Gl(t,r){t&1&&(h(0,"p-tab",6)(1,"span"),I(2,"Indices"),g()())}function Wl(t,r){t&1&&(h(0,"div",9)(1,"p"),I(2,"Loading market indices..."),g()())}function ql(t,r){t&1&&(h(0,"tr")(1,"th",21),I(2," Category "),S(3,"p-sortIcon",22),g(),h(4,"th",23),I(5," Symbol "),S(6,"p-sortIcon",24),g(),h(7,"th",25),I(8," Last Price "),S(9,"p-sortIcon",26),g(),h(10,"th",27),I(11," Variation "),S(12,"p-sortIcon",28),g(),h(13,"th",29),I(14," Change (%) "),S(15,"p-sortIcon",30),g()())}function $l(t,r){if(t&1&&S(0,"p-treeTableToggler",35),t&2){let e=u().$implicit;s("rowNode",e)}}function Jl(t,r){if(t&1&&(h(0,"td")(1,"span",33),I(2),re(3,"currency"),g()()),t&2){let e=u().rowData;a(),s("ngClass",E(4,di,e.isCategory)),a(),te(" ",e.lastPrice?Te(3,2,e.lastPrice):""," ")}}function Xl(t,r){if(t&1&&(h(0,"td")(1,"span",33),I(2),re(3,"number"),g()()),t&2){let e=u().rowData;a(),s("ngClass",Pe(5,pi,e.isCategory,!e.isCategory&&e.variation>=0,!e.isCategory&&e.variation<0)),a(),te(" ",e.variation?ct(3,2,e.variation,"1.2-2"):""," ")}}function Zl(t,r){if(t&1&&(h(0,"td")(1,"span",33),I(2),g()()),t&2){let e=u().rowData;a(),s("ngClass",Pe(2,pi,e.isCategory,!e.isCategory&&e.percentChange>=0,!e.isCategory&&e.percentChange<0)),a(),te(" ",e.percentChange?e.percentChange+"%":""," ")}}function Yl(t,r){if(t&1){let e=J();h(0,"tr",31),H("click",function(){let i=V(e).rowData,l=u(3);return B(l.onRowClick(i))}),h(1,"td"),p(2,$l,1,1,"p-treeTableToggler",32),h(3,"span",33),I(4),g()(),p(5,Jl,4,6,"td",34)(6,Xl,4,9,"td",34)(7,Zl,3,6,"td",34),g()}if(t&2){let e=r.rowData,o=u(3);K("cursor",e.isCategory?"default":"pointer"),at("clickable-row",!e.isCategory),s("ngClass",N(12,Ul,e.isCategory,!e.isCategory&&o.selectedIndexSymbol===e.symbol)),a(),j("colspan",e.isCategory?5:2),a(),s("ngIf",e.isCategory),a(),s("ngClass",E(15,di,e.isCategory)),a(),te(" ",e.isCategory?e.keyCategory:e.symbol," "),a(),s("ngIf",!e.isCategory),a(),s("ngIf",!e.isCategory),a(),s("ngIf",!e.isCategory)}}function en(t,r){if(t&1){let e=J();h(0,"div",10)(1,"div",13)(2,"h3",14),I(3,"Market Indices"),g(),h(4,"div",15)(5,"span",16)(6,"input",17),De("ngModelChange",function(i){V(e);let l=u(2);return Le(l.globalFilterValue,i)||(l.globalFilterValue=i),B(i)}),H("input",function(i){V(e);let l=ne(8);return B(l.filterGlobal(i.target.value,"contains"))}),g()()()(),h(7,"p-treeTable",18,0),p(9,ql,16,0,"ng-template",19)(10,Yl,8,17,"ng-template",20),g()()}if(t&2){let e=u(2);a(6),ze("ngModel",e.globalFilterValue),a(),s("value",e.indicesTreeData)("scrollable",!0)("sortMode","multiple")("globalFilterFields",ye(6,Al))("filterMode","lenient")}}function tn(t,r){if(t&1&&(h(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",15)(4,"div",39),I(5),g()()(),h(6,"div",40)(7,"div",41)(8,"div",42),I(9),re(10,"currency"),g(),h(11,"div",43),I(12),re(13,"percent"),g()()()()()),t&2){let e=r.$implicit;s("pTooltip",e.name),a(5),be(e.symbol),a(4),be(Te(10,5,e.price)),a(2),s("ngClass",e.change>=0?"text-green-500":"text-red-500"),a(),te(" ",Te(13,7,e.change)," ")}}function on(t,r){if(t&1&&(h(0,"div",11),me(1,tn,14,9,"div",36,rt),g()),t&2){let e=u().$implicit;a(),fe(e.items)}}function ln(t,r){t&1&&(h(0,"div",12)(1,"p"),I(2,"No indices in this list yet. Use the search box above to add indices."),g()())}function nn(t,r){if(t&1&&(h(0,"p-tabpanel",5)(1,"div",7)(2,"div",8),G(3,Wl,3,0,"div",9),G(4,en,11,7,"div",10),G(5,on,3,0,"div",11),G(6,ln,3,0,"div",12),g()()()),t&2){let e=r.$implicit,o=r.$index,i=u();s("value",o.toString()),a(3),W(o===0&&i.isLoadingIndices?3:-1),a(),W(o===0&&i.indicesTreeData.length>0&&!i.isLoadingIndices?4:-1),a(),W(o!==0&&e.items.length>0&&!(o===0&&i.isLoadingIndices)?5:-1),a(),W(e.items.length===0&&!(o===0&&i.isLoadingIndices)?6:-1)}}function rn(t,r){t&1&&(h(0,"p-tabpanel",6)(1,"div",44)(2,"p"),I(3,"No indices list found. Create your first indices list to get started."),g()()())}var mr=(()=>{let r=class r{getCurrentIndicesListIndex(){return parseInt(this.activeTab,10)}trackBySymbol(o,i){return i.symbol}constructor(o,i,l,n){this.route=o,this.router=i,this.indicesService=l,this.componentCommunicationService=n,this.indicesLists=[],this.indices=[],this.isLoadingIndices=!1,this.indicesTreeData=[],this.searchQuery="",this.isSearching=!1,this.searchResults=[],this.globalFilterValue="",this.activeTab="0",this.selectedIndexSymbol=null}ngOnInit(){try{this.loadIndicesLists()}catch(o){console.error("Error in ngOnInit:",o)}}searchIndices(o){if(!o||o.trim()===""){this.searchResults=[];return}this.isSearching=!0;let i=o.toLowerCase().trim();this.searchResults=this.indices.filter(l=>l.indexSymbol?.toLowerCase().includes(i)||l.indexName?.toLowerCase().includes(i)).map(l=>({symbol:l.indexSymbol,name:l.indexName,price:l.lastPrice||0,change:(l.percentChange||0)/100})),this.isSearching=!1}addIndexFromSearch(o){let i=this.getCurrentIndicesListIndex();if(i===0)return;let l=this.indicesLists[i];!l||l.items.some(c=>c.symbol===o.symbol)||(l.items.push(o),this.searchResults=[],this.searchQuery="")}transformToTreeData(o){let i={};o.filter(c=>c.indexSymbol&&c.lastPrice!==null&&c.lastPrice!==void 0&&(c.variation!==null&&c.variation!==void 0||c.percentChange!==null&&c.percentChange!==void 0)).forEach(c=>{let d=c.keyCategory||"Uncategorized";i[d]||(i[d]=[]),i[d].push(c)});let n=[];return Object.keys(i).forEach(c=>{let d=i[c];if(d.length>0){let T={data:{keyCategory:c,symbol:"",lastPrice:null,variation:null,percentChange:null,isCategory:!0},children:d.map(_=>({data:{keyCategory:c,symbol:_.indexSymbol,lastPrice:_.lastPrice,variation:_.variation,percentChange:_.percentChange,isCategory:!1}})),expanded:!0};n.push(T)}}),n}onRowClick(o){if(o.isCategory)return;this.selectedIndexSymbol=o.symbol;let i={id:o.symbol||"unknown",symbol:o.symbol||"",name:o.symbol||"",lastPrice:o.lastPrice||0,variation:o.variation||0,percentChange:o.percentChange||0,keyCategory:o.keyCategory||"Index"};this.componentCommunicationService.setSelectedIndex(i),this.router.navigate(["/dashboard/overall"])}loadIndicesLists(){this.isLoadingIndices=!0,this.indicesService.getAllIndices().subscribe({next:o=>{this.indices=o,this.isLoadingIndices=!1,this.indicesTreeData=this.transformToTreeData(o);let l={id:"main-indices",name:"Market Indices",description:"All market indices from the indices API",items:o.map(n=>({symbol:n.indexSymbol,name:n.indexName,price:n.lastPrice||0,change:(n.percentChange||0)/100}))};this.indicesLists=[l],this.activeTab="0"},error:o=>{console.error("Failed to load indices:",o),this.isLoadingIndices=!1;let i={id:"main-indices",name:"Market Indices",description:"All market indices from the indices API",items:[]};this.indicesLists=[i],this.activeTab="0"}})}};r.\u0275fac=function(i){return new(i||r)(D(mt),D(ft),D(si),D(ii))},r.\u0275cmp=U({type:r,selectors:[["app-indices"]],decls:11,vars:3,consts:[["tt",""],[1,"container","mx-auto","p-3"],[1,"indices-view-container"],[3,"valueChange","value"],[1,"flex"],[3,"value"],["value","0"],[1,"indices-container","mt-2"],[1,"flex","justify-between","items-center","mb-2"],[1,"p-2","text-center","w-full"],[1,"treetable-container"],[1,"indices-list"],[1,"p-2","text-center"],[1,"flex","justify-content-between","align-items-center","mb-2"],[1,"m-0"],[1,"flex","align-items-center"],[1,"p-input-icon-left"],["type","text","pInputText","","placeholder","Search indices...",1,"p-inputtext-sm",2,"width","250px",3,"ngModelChange","input","ngModel"],["scrollHeight","85vh","styleClass","p-treetable-sm",3,"value","scrollable","sortMode","globalFilterFields","filterMode"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","keyCategory",2,"width","25%"],["field","keyCategory"],["pSortableColumn","symbol",2,"width","20%"],["field","symbol"],["pSortableColumn","lastPrice",2,"width","15%"],["field","lastPrice"],["pSortableColumn","variation",2,"width","15%"],["field","variation"],["pSortableColumn","percentChange",2,"width","15%"],["field","percentChange"],[3,"click","ngClass"],[3,"rowNode",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],[3,"rowNode"],["tooltipPosition","top",1,"index-item","p-2","mb-2","border-round","surface-card",3,"pTooltip"],[1,"grid"],[1,"col-12","md:col-6"],[1,"index-symbol","mr-2"],[1,"col-12","md:col-4"],[1,"flex","align-items-center","justify-content-end"],[1,"index-price","mr-2"],[1,"index-change",3,"ngClass"],[1,"p-4","text-center"]],template:function(i,l){i&1&&(h(0,"div",1)(1,"div",2)(2,"p-tabs",3),De("valueChange",function(c){return Le(l.activeTab,c)||(l.activeTab=c),c}),h(3,"p-tablist")(4,"div",4),me(5,jl,3,2,"p-tab",5,ci),G(7,Gl,3,0,"p-tab",6),g()(),me(8,nn,7,5,"p-tabpanel",5,ci),G(10,rn,4,0,"p-tabpanel",6),g()()()),i&2&&(a(2),ze("value",l.activeTab),a(3),fe(l.indicesLists),a(2),W(l.indicesLists.length===0?7:-1),a(),fe(l.indicesLists),a(2),W(l.indicesLists.length===0?10:-1))},dependencies:[we,ae,X,Se,Rt,Nt,Ot,bt,Vt,ie,Pt,Wt,jt,Gt,ai,de,ri,qt,Kt,Ht,Qt,$t,Jt,ti,ei,Yt,Xt,Zt,Dt,Lt,ht,ut,gt],styles:["[_nghost-%COMP%]{display:block;height:100%}.text-green-500[_ngcontent-%COMP%]{color:var(--success-color)!important;font-weight:500}.text-red-500[_ngcontent-%COMP%]{color:var(--danger-color)!important;font-weight:500}.container[_ngcontent-%COMP%]{height:75%;display:flex;flex-direction:column}.indices-view-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-height:0}  .bottom-tabs{display:flex;flex-direction:column-reverse;flex:1;min-height:0}  .bottom-tabs .p-tabview-panels{flex:1;overflow:auto;display:flex;flex-direction:column;border-bottom:1px solid var(--surface-border, #dee2e6);border-top:none}  .bottom-tabs .p-tabview-panel{height:100%;overflow:auto}  .bottom-tabs .p-tabview-nav{justify-content:center;margin-top:var(--spacing-xl);border-top:1px solid var(--surface-border, #dee2e6);border-bottom:none}  .bottom-tabs .p-tabview-nav li{margin-top:-1px}  .bottom-tabs .p-tabview-nav li .p-tabview-nav-link{border-radius:0 0 4px 4px;border-top:none;border-bottom:1px solid var(--surface-border, #dee2e6);padding:var(--p-tabs-tab-padding)}  .bottom-tabs .p-tabview-nav li.p-highlight .p-tabview-nav-link{border-color:var(--surface-border, #dee2e6);border-top:none;border-bottom-color:var(--info-color, #3B82F6)}.selected-row[_ngcontent-%COMP%]{background-color:var(--primary-color-text)!important;background:linear-gradient(135deg,#3b82f61a,#3b82f60d)!important;border-left:3px solid var(--primary-color)!important}.selected-row[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f626,#3b82f614)!important}.indices-list[_ngcontent-%COMP%]{flex:1;overflow:auto}.index-item[_ngcontent-%COMP%]{transition:all .2s;box-shadow:0 2px 4px #0000000d}.index-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.indices-container[_ngcontent-%COMP%]{padding:var(--spacing-xl);height:100%;display:flex;flex-direction:column;overflow:auto}.view-mode-selector[_ngcontent-%COMP%]{display:flex;align-items:center}.inline-radio[_ngcontent-%COMP%]{display:inline-flex;align-items:center;margin-right:var(--spacing-xl)}  .p-radiobutton{margin-right:var(--spacing-md)}  .p-radiobutton-label{margin-bottom:0}  .p-scrollpanel .p-scrollpanel-wrapper{border-radius:4px}  .p-scrollpanel .p-scrollpanel-bar{background-color:#3b82f64d;border-radius:4px}  .p-scrollpanel .p-scrollpanel-bar:hover{background-color:#3b82f680}.search-input[_ngcontent-%COMP%]{width:200px;font-size:.875rem;min-width:150px}@media (max-width: 768px){.search-input[_ngcontent-%COMP%]{width:150px;min-width:120px}}@media (max-width: 576px){.search-input[_ngcontent-%COMP%]{width:120px;min-width:100px}}  .p-treetable .category-row{background-color:var(--surface-100);font-weight:700}  .p-treetable .category-row td{border-bottom:2px solid var(--surface-border)}  .p-treetable .p-treetable-thead>tr>th{background-color:var(--surface-50);font-weight:600;border-bottom:2px solid var(--primary-color)}  .p-treetable .p-treetable-tbody>tr:hover{background-color:var(--surface-hover)}  .p-treetable .p-treetable-tbody>tr.category-row:hover{background-color:var(--surface-200)}  .p-treetable .p-treetable-toggler{margin-right:.5rem}  .p-treetable .p-treetable-tbody>tr>td:first-child{padding-left:1rem}  .p-treetable .p-treetable-toggler-icon{color:var(--primary-color)}.font-bold[_ngcontent-%COMP%]{font-weight:600}.clickable-row[_ngcontent-%COMP%]{transition:background-color .2s ease}.clickable-row[_ngcontent-%COMP%]:hover{background-color:var(--surface-hover)!important}.clickable-row[_ngcontent-%COMP%]:active{background-color:var(--surface-200)!important}"]});let t=r;return t})();export{mr as a};
