.vis-chart-container {
  background-color: white;
  min-height: 2000px;
  width: 100%;
  margin: 0px;
  padding: 0px;
}

/* High contrast mode support */
@media (forced-colors: active) {
  :root {
    --dashboard-bg: Canvas;
    --dashboard-text: CanvasText;
    --dashboard-border: CanvasText;
    --dashboard-toolbar-bg: Canvas;
    --dashboard-toolbar-border: CanvasText;
    --dashboard-widget-bg: Canvas;
    --dashboard-widget-border: CanvasText;
    --dashboard-widget-header-bg: Canvas;
    --dashboard-widget-header-text: CanvasText;
    --dashboard-primary: Highlight;
    --dashboard-primary-text: HighlightText;
  }
}

/* Default theme variables */
:root {
  --dashboard-bg: var(--surface-100, #f8f9fa);
  --dashboard-text: var(--text-color, #212529);
  --dashboard-border: var(--surface-300, #dee2e6);
  --dashboard-toolbar-bg: var(--surface-200, #e9ecef);
  --dashboard-toolbar-border: var(--surface-300, #dee2e6);
  --dashboard-widget-bg: var(--surface-0, #ffffff);
  --dashboard-widget-border: var(--surface-200, #e9ecef);
  --dashboard-widget-header-bg: var(--surface-100, #f8f9fa);
  --dashboard-widget-header-text: var(--text-color, #212529);
  --dashboard-primary: var(--primary-color, #007bff);
  --dashboard-primary-text: var(--primary-color-text, #ffffff);
}

.dashboard-container {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  background-color: var(--dashboard-bg);
  color: var(--dashboard-text);
}

.dashboard-toolbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.5rem 1rem;
  background-color: var(--dashboard-toolbar-bg);
  border-bottom: 1px solid var(--dashboard-toolbar-border);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  z-index: 10;
}

.toolbar-actions {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.edit-mode-indicator {
  margin-left: 1rem;
  font-size: 0.9rem;
  font-weight: 500;
  color: var(--dashboard-primary);
}

.template-manager-container {
  margin-left: auto;
  display: flex;
  align-items: center;
}

/* Focus styles for better keyboard navigation */
:focus-visible {
  outline: 2px solid var(--dashboard-primary);
  outline-offset: 2px;
}

.gridster-container {
  width: 100%;
  height: 120vh;
  flex: 1;
  overflow: auto;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .dashboard-toolbar {
    flex-direction: column;
    padding: 0.5rem;
  }

  .toolbar-actions {
    width: 100%;
    justify-content: space-between;
    margin-bottom: 0.5rem;
  }

  .edit-mode-indicator {
    margin-left: 0;
    text-align: center;
    width: 100%;
  }

  .gridster-container {
    height: calc(100vh - 60px);
    -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
  }

  /* Adjust widget styles for mobile */
  ::ng-deep gridster-item {
    overflow-x: auto !important;
    touch-action: pan-y; /* Enable vertical touch scrolling */
    -webkit-tap-highlight-color: rgba(0,0,0,0); /* Remove tap highlight on iOS */
  }

  /* Make sure charts are responsive */
  ::ng-deep .echart-container {
    min-height: 200px;
    height: 100% !important;
    width: 100% !important;
  }

  /* Improve touch targets */
  ::ng-deep .p-button {
    min-width: 44px;
    min-height: 44px;
    padding: 0.75rem !important; /* Larger padding for better touch targets */
  }

  /* Improve widget headers for touch */
  ::ng-deep .widget-header {
    padding: 0.75rem !important;
  }

  /* Add spacing between widgets */
  ::ng-deep gridster-item {
    margin-bottom: 1rem !important;
  }

  /* Improve scrolling performance */
  ::ng-deep gridster {
    will-change: transform;
    transform: translateZ(0);
    backface-visibility: hidden;
  }
}

/* Small mobile devices */
@media (max-width: 480px) {
  .dashboard-toolbar {
    padding: 0.25rem;
  }

  /* Stack widgets vertically on very small screens */
  ::ng-deep gridster {
    grid-template-columns: repeat(1, 1fr) !important;
  }

  /* Ensure minimum height for widgets */
  ::ng-deep gridster-item {
    min-height: 200px !important;
  }
}

/* Portrait orientation */
@media (max-width: 768px) and (orientation: portrait) {
  ::ng-deep gridster-item {
    min-height: 250px !important; /* Taller widgets in portrait mode */
  }

  /* Adjust filter widgets to be more compact in portrait */
  ::ng-deep gridster-item[data-component="filter"] {
    min-height: 100px !important;
  }
}

/* Landscape orientation */
@media (max-width: 768px) and (orientation: landscape) {
  .gridster-container {
    height: calc(100vh - 50px); /* Slightly smaller in landscape to avoid scrolling */
  }

  ::ng-deep gridster-item {
    min-height: 180px !important; /* Shorter widgets in landscape mode */
  }
}

.editMode {
  color: red;
}

.print-body {
  width: 95%;
}

@media print {
  #dashboard {
    width: 95%;
    overflow-y: visible !important;
    position: relative;
  }

  @page {
    size: landscape;
  }
}


.vis-filter-component {
  font-size: 0.8rem !important;
  width: 100%;
  height: 40px;
}

::ng-deep .p-dropdown-custom {
  width: 100% !important;

  &.p-dropdown .p-component {
    width: 100% !important;
  }
}

:host ::ng-deep .p-dialog .p-dialog-content {
  padding: 1rem 1.5rem 1rem 1.5rem;
}

:host ::ng-deep .p-dialog .p-dialog-header,
:host ::ng-deep .p-dialog .p-dialog-footer {
  background: #f8f9fa;
}

.dashboard-gridster {
  background-color: var(--surface-100);
}


:host ::ng-deep .no-border .p-panel-content {
  border: none !important;
  background: transparent !important;
}

:host ::ng-deep {
  .hide-panel-header {
    .p-panel-header {
      display: none !important;
    }
  }
}
