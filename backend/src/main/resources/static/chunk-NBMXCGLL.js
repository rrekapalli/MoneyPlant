import{a as d,b as l}from"./chunk-6DF6NXBA.js";import{c as s,d as p,e as c}from"./chunk-AR7LHXST.js";import{U as n,Y as o,m as a,z as i}from"./chunk-53IN4TFO.js";var w=(()=>{let e=class e{constructor(t,r){this.http=t,this.authService=r,this.apiUrl=d.apiUrl}getHeaders(){try{let t=this.authService?.getToken(),r=new s;return t?r.set("Authorization",`Bearer ${t}`):r}catch(t){return console.warn("Error getting auth token, proceeding without authentication:",t),new s}}get(t,r=new p){return this.http.get(`${this.apiUrl}${t}`,{params:r,headers:this.getHeaders()}).pipe(i(this.handleError))}post(t,r){return this.http.post(`${this.apiUrl}${t}`,r,{headers:this.getHeaders()}).pipe(i(this.handleError))}put(t,r){return this.http.put(`${this.apiUrl}${t}`,r,{headers:this.getHeaders()}).pipe(i(this.handleError))}patch(t,r){return this.http.patch(`${this.apiUrl}${t}`,r,{headers:this.getHeaders()}).pipe(i(this.handleError))}delete(t){return this.http.delete(`${this.apiUrl}${t}`,{headers:this.getHeaders()}).pipe(i(this.handleError))}handleError(t){return console.error("API error",t),a(()=>t)}};e.\u0275fac=function(r){return new(r||e)(o(c),o(l))},e.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"});let h=e;return h})();export{w as a};
