import{a as de,b as lt}from"./chunk-6GLF275V.js";import{a as fe}from"./chunk-66GBNY6X.js";import{a as Gt}from"./chunk-DWNJGCYI.js";import"./chunk-PUWSDGFS.js";import{a as ge}from"./chunk-2EE42365.js";import{b as se}from"./chunk-SOYPA3PZ.js";import{a as te,b as ee,c as ne}from"./chunk-XIRLSLUI.js";import{a as me,b as _e}from"./chunk-P23JUVL4.js";import{b as pe}from"./chunk-SFZTUWEP.js";import{a as qt}from"./chunk-NBMXCGLL.js";import{a as oe,b as ie,c as re,d as ce,e as ae,f as le}from"./chunk-ZIWCRGVR.js";import{l as at,m as U,p as Xt,s as Zt}from"./chunk-4EIXSAPM.js";import{f as Jt,g as Kt,h as ct,i as G}from"./chunk-E2A6ZCMF.js";import{a as Wt,b as nt}from"./chunk-YETWNNB4.js";import{Ba as H,Ra as Qt,Sa as $,ba as tt,ca as et,fa as Nt,ha as Ht,xa as $t,za as N}from"./chunk-IDZOVNAK.js";import{b as jt}from"./chunk-6DF6NXBA.js";import{c as ot,f as it,j as rt,l as Ut,s as Yt,v as W}from"./chunk-RSWLFW5Q.js";import{p as Dt}from"./chunk-AR7LHXST.js";import{Ab as pt,Cb as mt,Da as l,Db as _t,Fc as At,H as Mt,Hb as w,Hc as Lt,Ia as vt,Ib as Et,Ic as q,Jb as Tt,Kb as y,Lb as a,Mb as M,Nb as u,Nc as Ft,Oa as A,Ob as B,P as ut,Pa as xt,Qb as S,Qc as Bt,Ra as yt,Rb as E,Sb as T,Ta as k,Tb as ft,U as Z,Uc as L,V as Ot,Va as x,Vb as zt,Wb as Q,Xb as It,Z as D,bb as F,ca as f,da as C,db as b,dc as z,ea as dt,eb as v,f as Pt,fa as ht,fc as I,hb as kt,ib as wt,jb as _,kb as o,lb as r,mb as m,oa as bt,pa as Y,sb as St,tb as h,uc as Rt,vb as P,vc as Vt,xb as d}from"./chunk-53IN4TFO.js";import{a as R,b as gt}from"./chunk-GAL4ENT6.js";var be=["content"],ve=c=>({$implicit:c});function xe(c,g){if(c&1&&(o(0,"div"),a(1),r()),c&2){let n=d(2);w("display",n.value!=null&&n.value!==0?"flex":"none"),F("data-pc-section","label"),l(),B("",n.value,"",n.unit)}}function ye(c,g){c&1&&St(0)}function ke(c,g){if(c&1&&(o(0,"div")(1,"div"),k(2,xe,2,5,"div",2)(3,ye,1,0,"ng-container",3),r()()),c&2){let n=d();y(n.cn(n.cx("value"),n.valueStyleClass)),w("width",n.value+"%")("display","flex")("background",n.color),F("data-pc-section","value"),l(),y(n.cx("label")),l(),_("ngIf",n.showValue&&!n.contentTemplate&&!n._contentTemplate),l(),_("ngTemplateOutlet",n.contentTemplate||n._contentTemplate)("ngTemplateOutletContext",It(14,ve,n.value))}}function we(c,g){if(c&1&&m(0,"div"),c&2){let n=d();y(n.cn(n.cx("value"),n.valueStyleClass)),w("background",n.color),F("data-pc-section","value")}}var Se={root:({instance:c})=>["p-progressbar p-component",{"p-progressbar-determinate":c.mode=="determinate","p-progressbar-indeterminate":c.mode=="indeterminate"}],value:"p-progressbar-value",label:"p-progressbar-label"},Ce=(()=>{class c extends Nt{name="progressbar";theme=$t;classes=Se;static \u0275fac=(()=>{let n;return function(e){return(n||(n=Y(c)))(e||c)}})();static \u0275prov=Z({token:c,factory:c.\u0275fac})}return c})();var Ee=(()=>{class c extends Ht{value;showValue=!0;styleClass;valueStyleClass;unit="%";mode="determinate";color;contentTemplate;_componentStyle=D(Ce);templates;_contentTemplate;ngAfterContentInit(){this.templates?.forEach(n=>{switch(n.getType()){case"content":this._contentTemplate=n.template;break;default:this._contentTemplate=n.template}})}static \u0275fac=(()=>{let n;return function(e){return(n||(n=Y(c)))(e||c)}})();static \u0275cmp=A({type:c,selectors:[["p-progressBar"],["p-progressbar"],["p-progress-bar"]],contentQueries:function(t,e,i){if(t&1&&(pt(i,be,4),pt(i,tt,4)),t&2){let s;mt(s=_t())&&(e.contentTemplate=s.first),mt(s=_t())&&(e.templates=s)}},hostVars:8,hostBindings:function(t,e){t&2&&(F("aria-valuemin",0)("aria-valuenow",e.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root")("aria-level",e.value+e.unit),y(e.cn(e.cx("root"),e.styleClass)))},inputs:{value:[2,"value","value",Vt],showValue:[2,"showValue","showValue",Rt],styleClass:"styleClass",valueStyleClass:"valueStyleClass",unit:"unit",mode:"mode",color:"color"},features:[zt([Ce]),yt],decls:2,vars:2,consts:[[3,"class","width","display","background",4,"ngIf"],[3,"class","background",4,"ngIf"],[3,"display",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){t&1&&k(0,ke,4,16,"div",0)(1,we,1,5,"div",1),t&2&&(_("ngIf",e.mode==="determinate"),l(),_("ngIf",e.mode==="indeterminate"))},dependencies:[L,q,Ft,et],encapsulation:2,changeDetection:0})}return c})(),Me=(()=>{class c{static \u0275fac=function(t){return new(t||c)};static \u0275mod=xt({type:c});static \u0275inj=Ot({imports:[Ee,et,et]})}return c})();function Re(c,g){c&1&&(o(0,"div",1),m(1,"i",5),o(2,"p",6),a(3,"Loading portfolios..."),r()())}function Ve(c,g){if(c&1){let n=h();o(0,"div",2),m(1,"i",7),o(2,"h3"),a(3,"Authentication Required"),r(),o(4,"p",8),a(5),r(),o(6,"p",9),a(7,"Please log in to access portfolio data."),r(),o(8,"button",10),P("click",function(){f(n);let e=d();return C(e.onGoToLogin())}),r()()}if(c&2){let n=d();l(5),M(n.error)}}function Ae(c,g){if(c&1&&(dt(),m(0,"circle",72)),c&2){let n=g.$implicit,t=d(3).$implicit,e=d(2);F("cx",n)("cy",e.getRebalanceYPosition(t.performanceData.portfolio,n))}}function Le(c,g){if(c&1&&(o(0,"div",64)(1,"div",65),dt(),o(2,"svg",66),m(3,"path",67)(4,"path",68),k(5,Ae,1,2,"circle",69),r(),ht(),o(6,"div",70)(7,"span",71),a(8,"6M"),r(),o(9,"span",71),a(10,"Now"),r()()()()),c&2){let n=d(2).$implicit,t=d(2);l(3),F("d",t.getChartPath(n.performanceData.portfolio))("stroke",t.getPortfolioColor(n.riskProfile)),l(),F("d",t.getChartPath(n.performanceData.benchmark)),l(),_("ngForOf",t.getRebalancePositions(n.rebalanceEvents||0))}}function Fe(c,g){if(c&1){let n=h();o(0,"p-card",37)(1,"div",38)(2,"div",39)(3,"div",40),m(4,"i",41),o(5,"h3",42),a(6),r()(),o(7,"p",43),a(8,"NAV vs Nifty 500 Performance"),r()(),o(9,"div",44)(10,"div",45)(11,"div",46),a(12),r(),o(13,"div",47),a(14),r()(),o(15,"div",48)(16,"div",49),a(17),r(),o(18,"div",50),a(19),r()()(),k(20,Le,11,4,"div",51),o(21,"div",52)(22,"div",53)(23,"div",54),m(24,"div",55),o(25,"span",56),a(26),r()(),o(27,"div",54),m(28,"div",57),o(29,"span",56),a(30,"Nifty 500"),r()()(),o(31,"div",58),m(32,"i",59),o(33,"span",60),a(34),r()()(),o(35,"div",61)(36,"button",62),P("click",function(){f(n);let e=d().$implicit,i=d(2);return C(i.onConfigurePortfolio(e))}),r(),o(37,"button",63),P("click",function(){f(n);let e=d().$implicit,i=d(2);return C(i.onOptimizePortfolio(e))}),r()()()()}if(c&2){let n=d().$implicit,t=d(2);l(6),M(n.name),l(5),w("color",t.getPerformanceColor(n.totalReturn||0)),l(),u(" ",t.formatReturn(n.totalReturn||0)," "),l(2),u(" vs Nifty 500: ",t.formatReturn(n.benchmarkReturn||0)," "),l(3),u("",n.stockCount||0," Stocks"),l(),w("color",t.getPerformanceColor(n.outperformance||0)),l(),u(" ",t.formatReturn(n.outperformance||0)," outperformance "),l(),_("ngIf",n.performanceData),l(4),w("background",t.getPortfolioColor(n.riskProfile)),l(2),M(n.name),l(8),B("Rebalance Events (",n.rebalanceEvents||0,") \u2022 Last: ",n.lastRebalance||"N/A")}}function Be(c,g){if(c&1){let n=h();o(0,"div",73)(1,"div",74),m(2,"p-checkbox",75),r(),o(3,"div",76)(4,"div",77)(5,"h3",78),a(6),r(),o(7,"p",79),a(8),r()(),o(9,"div",80)(10,"button",62),P("click",function(){f(n);let e=d().$implicit,i=d(2);return C(i.onConfigurePortfolio(e))}),r(),o(11,"button",63),P("click",function(){f(n);let e=d().$implicit,i=d(2);return C(i.onOptimizePortfolio(e))}),r()(),o(12,"div",81)(13,"div",82)(14,"span",83),a(15,"Last Executed:"),r(),o(16,"span",84),a(17),r()(),o(18,"div",82)(19,"span",83),a(20,"Risk Profile:"),r(),o(21,"span",84),a(22),r()(),o(23,"div",82)(24,"span",83),a(25,"Status:"),r(),o(26,"span",84),a(27),r()()()(),o(28,"div",85)(29,"div",86)(30,"span",87),a(31,"Total Return"),r(),o(32,"span",88),a(33),r()(),o(34,"div",86)(35,"span",87),a(36,"Stock Count"),r(),o(37,"span",88),a(38),r()(),o(39,"div",86)(40,"span",87),a(41,"Outperformance"),r(),o(42,"span",88),a(43),r()()()()}if(c&2){let n=d().$implicit,t=d(2);l(2),_("binary",!0),l(4),M(n.name),l(2),M(n.description),l(9),M(t.formatDate(n.inceptionDate)),l(5),M(t.getRiskProfileLabel(n.riskProfile)),l(4),y(n.isActive?"status-active":"status-inactive"),l(),u(" ",n.isActive?"Active":"Inactive"," "),l(5),w("color",t.getPerformanceColor(n.totalReturn||0)),l(),u(" ",t.formatReturn(n.totalReturn||0)," "),l(5),M(n.stockCount||0),l(4),w("color",t.getPerformanceColor(n.outperformance||0)),l(),u(" ",t.formatReturn(n.outperformance||0)," ")}}function De(c,g){if(c&1&&(o(0,"div",34),k(1,Fe,38,15,"p-card",35)(2,Be,44,15,"div",36),r()),c&2){let n=d(2);l(),_("ngIf",n.layout==="grid"),l(),_("ngIf",n.layout==="list")}}function Ne(c,g){if(c&1){let n=h();o(0,"div",3)(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14),m(5,"i",15),o(6,"input",16),T("ngModelChange",function(e){f(n);let i=d();return E(i.searchText,e)||(i.searchText=e),C(e)}),P("input",function(){f(n);let e=d();return C(e.onSearchChange())}),r()()(),o(7,"div",17)(8,"span",18),a(9,"Sort by:"),r(),o(10,"div",19)(11,"button",20),P("click",function(){f(n);let e=d();return C(e.onSortChange("name"))}),r(),o(12,"button",21),P("click",function(){f(n);let e=d();return C(e.onSortChange("riskProfile"))}),r(),o(13,"button",22),P("click",function(){f(n);let e=d();return C(e.onSortChange("inceptionDate"))}),r()()(),o(14,"div",23)(15,"p-select",24),T("ngModelChange",function(e){f(n);let i=d();return E(i.selectedRiskProfile,e)||(i.selectedRiskProfile=e),C(e)}),P("onChange",function(){f(n);let e=d();return C(e.onRiskProfileChange())}),r(),o(16,"button",25),P("click",function(){f(n);let e=d();return C(e.onClearFilters())}),r()(),o(17,"div",26)(18,"button",27),P("click",function(){f(n);let e=d();return C(e.onLayoutChange("grid"))}),r(),o(19,"button",28),P("click",function(){f(n);let e=d();return C(e.onLayoutChange("list"))}),r()()()(),o(20,"p-scrollPanel",29)(21,"div",30)(22,"div",31),k(23,De,3,2,"div",32),r(),o(24,"div",33)(25,"span"),a(26),r()()()()()}if(c&2){let n=d();l(6),S("ngModel",n.searchText),l(5),y(n.sortField==="name"?"p-button-text p-button-sm":"p-button-link p-button-sm"),_("icon",n.sortField==="name"?n.sortOrder===1?"pi pi-sort-up":"pi pi-sort-down":"pi pi-sort"),l(),y(n.sortField==="riskProfile"?"p-button-text p-button-sm":"p-button-link p-button-sm"),_("icon",n.sortField==="riskProfile"?n.sortOrder===1?"pi pi-sort-up":"pi pi-sort-down":"pi pi-sort"),l(),y(n.sortField==="inceptionDate"?"p-button-text p-button-sm":"p-button-link p-button-sm"),_("icon",n.sortField==="inceptionDate"?n.sortOrder===1?"pi pi-sort-up":"pi pi-sort-down":"pi pi-sort"),l(2),_("options",n.riskProfileOptions),S("ngModel",n.selectedRiskProfile),_("showClear",!0),l(3),y(n.layout==="grid"?"p-button-primary":"p-button-outlined"),l(),y(n.layout==="list"?"p-button-primary":"p-button-outlined"),l(3),y(n.layout==="grid"?"grid-layout":"list-layout"),l(),_("ngForOf",n.filteredPortfolios)("ngForTrackBy",n.trackPortfolioById),l(3),B("Showing ",n.filteredPortfolios.length," of ",n.portfolios.length," portfolios")}}function He(c,g){if(c&1){let n=h();o(0,"div",4),m(1,"i",89),o(2,"h3"),a(3,"No portfolios found"),r(),o(4,"p"),a(5,"No portfolios have been created yet. Create your first portfolio to get started."),r(),o(6,"button",90),P("click",function(){f(n);let e=d();return C(e.onCreatePortfolio())}),r()()}}var ue=(()=>{let g=class g{constructor(){this.portfolios=[],this.filteredPortfolios=[],this.loading=!1,this.error=null,this.searchText="",this.selectedRiskProfile=null,this.layout="grid",this.sortField="name",this.sortOrder=1,this.riskProfileOptions=[],this.searchChange=new x,this.riskProfileChange=new x,this.clearFilters=new x,this.sortChange=new x,this.layoutChange=new x,this.configurePortfolio=new x,this.optimizePortfolio=new x,this.createPortfolio=new x,this.goToLogin=new x}trackPortfolioById(t,e){return e.id}getPortfolioColor(t){switch(t){case"CONSERVATIVE":return"#ff9800";case"AGGRESSIVE":return"#9c27b0";default:return"#4caf50"}}formatReturn(t){return t==null?"N/A":`${t>0?"+":""}${t.toFixed(1)}%`}getPerformanceColor(t){return t==null?"var(--text-color-secondary)":t>=0?"var(--green-600)":"var(--red-600)"}formatDate(t){try{return new Date(t).toLocaleDateString()}catch{return t}}getRiskProfileLabel(t){return{CONSERVATIVE:"Low Risk",MODERATE:"Medium Risk",AGGRESSIVE:"High Risk"}[t]||t}getChartPath(t){return!t||t.length<2?"":`M ${t.map((i,s)=>{let p=s/(t.length-1)*100,O=100-(i-Math.min(...t))/(Math.max(...t)-Math.min(...t))*80;return`${p},${O}`}).join(" L ")}`}getRebalancePositions(t){if(!t||t===0)return[];let e=[];for(let i=0;i<t;i++){let s=20+(i+1)*(60/(t+1));e.push(s)}return e}getRebalanceYPosition(t,e){if(!t||t.length===0)return 50;let i=Math.floor(e/100*(t.length-1)),s=t[i]||t[t.length-1],p=Math.min(...t),V=Math.max(...t)-p;return V===0?50:100-((s-p)/V*80+10)}onSearchChange(){this.searchChange.emit()}onRiskProfileChange(){this.riskProfileChange.emit()}onClearFilters(){this.clearFilters.emit()}onSortChange(t){this.sortChange.emit(t)}onLayoutChange(t){this.layoutChange.emit(t)}onConfigurePortfolio(t){this.configurePortfolio.emit(t)}onOptimizePortfolio(t){this.optimizePortfolio.emit(t)}onCreatePortfolio(){this.createPortfolio.emit()}onGoToLogin(){this.goToLogin.emit()}};g.\u0275fac=function(e){return new(e||g)},g.\u0275cmp=A({type:g,selectors:[["app-portfolio-overview"]],inputs:{portfolios:"portfolios",filteredPortfolios:"filteredPortfolios",loading:"loading",error:"error",searchText:"searchText",selectedRiskProfile:"selectedRiskProfile",layout:"layout",sortField:"sortField",sortOrder:"sortOrder",riskProfileOptions:"riskProfileOptions"},outputs:{searchChange:"searchChange",riskProfileChange:"riskProfileChange",clearFilters:"clearFilters",sortChange:"sortChange",layoutChange:"layoutChange",configurePortfolio:"configurePortfolio",optimizePortfolio:"optimizePortfolio",createPortfolio:"createPortfolio",goToLogin:"goToLogin"},decls:5,vars:1,consts:[[1,"content-section"],[1,"loading-container"],[1,"error-container"],[1,"portfolio-display-container"],[1,"empty-message"],[1,"pi","pi-spin","pi-spinner","loading-spinner"],[1,"loading-text"],[1,"pi","pi-exclamation-triangle","error-icon"],[1,"error-message"],[1,"demo-note"],["pButton","","label","Go to Login","icon","pi pi-sign-in",1,"p-button-primary",3,"click"],[1,"controls-section"],[1,"controls-row"],[1,"search-box"],[1,"search-input-wrapper"],[1,"pi","pi-search","search-icon"],["pInputText","","type","text","placeholder","Search portfolios...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"sort-controls"],[1,"sort-label"],[1,"sort-buttons"],["pButton","","label","Name",3,"click","icon"],["pButton","","label","Risk Profile",3,"click","icon"],["pButton","","label","Inception Date",3,"click","icon"],[1,"filter-controls"],["placeholder","Risk Profile","optionLabel","label","optionValue","value",1,"filter-dropdown",3,"ngModelChange","onChange","options","ngModel","showClear"],["pButton","","label","Clear","icon","pi pi-filter",1,"p-button-outlined","clear-btn",3,"click"],[1,"view-toggle"],["pButton","","icon","pi pi-th-large","pTooltip","Grid View",1,"layout-btn",3,"click"],["pButton","","icon","pi pi-list","pTooltip","List View",1,"layout-btn",3,"click"],[1,"portfolio-scroll-panel"],[1,"portfolio-cards"],[1,"grid"],["class","portfolio-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"pagination-info"],[1,"portfolio-item"],["class","portfolio-card",4,"ngIf"],["class","portfolio-list-card",4,"ngIf"],[1,"portfolio-card"],[1,"portfolio-performance-card"],[1,"card-header"],[1,"title-row"],[1,"pi","pi-trending-up","chart-icon"],[1,"portfolio-name"],[1,"portfolio-subtitle"],[1,"performance-row"],[1,"left-metrics"],[1,"main-return"],[1,"benchmark-info"],[1,"right-metrics"],[1,"stock-count"],[1,"outperformance"],["class","chart-section",4,"ngIf"],[1,"chart-legend"],[1,"legend-row"],[1,"legend-item"],[1,"legend-line","portfolio-legend"],[1,"legend-label"],[1,"legend-line","benchmark-legend"],[1,"rebalance-info"],[1,"pi","pi-circle-fill","rebalance-icon"],[1,"rebalance-text"],[1,"card-actions"],["pButton","","label","Configure","icon","pi pi-cog",1,"p-button-outlined","configure-btn",3,"click"],["pButton","","label","Optimize","icon","pi pi-chart-bar",1,"p-button-outlined","optimize-btn",3,"click"],[1,"chart-section"],[1,"chart-container"],["width","100%","height","120","viewBox","0 0 100 100",1,"chart-svg"],["stroke-width","3","fill","none",1,"portfolio-line"],["stroke","#999","stroke-width","2","stroke-dasharray","4,2","fill","none",1,"benchmark-line"],["r","4","class","rebalance-dot","fill","#ff9500",4,"ngFor","ngForOf"],[1,"chart-time-labels"],[1,"time-label"],["r","4","fill","#ff9500",1,"rebalance-dot"],[1,"portfolio-list-card"],[1,"list-checkbox"],[3,"binary"],[1,"list-main-content"],[1,"list-title-section"],[1,"list-portfolio-name"],[1,"list-portfolio-description"],[1,"list-action-buttons"],[1,"list-metadata"],[1,"metadata-item"],[1,"metadata-label"],[1,"metadata-value"],[1,"list-right-metrics"],[1,"metric-item"],[1,"metric-label"],[1,"metric-value"],[1,"pi","pi-info-circle","empty-icon"],["pButton","","label","Create Portfolio","icon","pi pi-plus",1,"p-button-primary",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0),b(1,Re,4,0,"div",1)(2,Ve,9,1,"div",2)(3,Ne,27,23,"div",3)(4,He,7,0,"div",4),r()),e&2&&(l(),v(i.loading?1:i.error?2:!i.loading&&i.filteredPortfolios.length>0?3:!i.loading&&i.filteredPortfolios.length===0&&!i.error?4:-1))},dependencies:[L,Lt,q,H,N,$,Qt,G,ct,U,at,nt,Wt,Kt,Jt,se,ne,ee,W,ot,it,rt],styles:[".content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;height:100%}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]{background:var(--surface-card, white);border:1px solid var(--surface-border, #e9ecef);border-radius:8px;padding:.5rem;box-shadow:0 1px 3px #0000001a}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:nowrap}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{flex:1;min-width:100px}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;color:var(--text-color-secondary, #6c757d);font-size:.875rem;z-index:1}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem .75rem .75rem 2.5rem;border:1px solid var(--surface-border, #e9ecef);border-radius:8px;font-size:.875rem;background:var(--surface-ground, #f8f9fa);transition:all .3s ease}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color, #2196f3);background:var(--surface-card, white);box-shadow:0 0 0 2px #2196f31a}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:var(--text-color-placeholder, #adb5bd)}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-shrink:0}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--text-color, #495057);white-space:nowrap}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:nowrap}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem .75rem;border-radius:6px;min-height:36px;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .3s ease;white-space:nowrap}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex-shrink:0}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]     .p-dropdown{width:140px;min-height:36px}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]     .p-dropdown .p-dropdown-label{font-size:.875rem;padding:.5rem .75rem}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]     .p-dropdown .p-dropdown-trigger{width:2rem}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem .75rem;min-height:36px;border-radius:6px;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .3s ease;white-space:nowrap}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-shrink:0}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .layout-btn[_ngcontent-%COMP%]{width:36px;height:36px;padding:0;border-radius:6px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .layout-btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .layout-btn[_ngcontent-%COMP%]   .p-button-icon[_ngcontent-%COMP%]{font-size:.875rem}.content-section[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:var(--text-color-secondary, #6c757d);margin-bottom:.5rem;line-height:1.2}.content-section[_ngcontent-%COMP%]   .portfolio-scroll-panel[_ngcontent-%COMP%]{flex:1;height:calc(90vh - 200px)}.content-section[_ngcontent-%COMP%]   .portfolio-scroll-panel[_ngcontent-%COMP%]     .p-scrollpanel{height:100%;border:1px solid var(--surface-border, #e9ecef);border-radius:8px;background:var(--surface-ground, #f8f9fa)}.content-section[_ngcontent-%COMP%]   .portfolio-scroll-panel[_ngcontent-%COMP%]     .p-scrollpanel .p-scrollpanel-wrapper{height:100%}.content-section[_ngcontent-%COMP%]   .portfolio-scroll-panel[_ngcontent-%COMP%]     .p-scrollpanel .p-scrollpanel-wrapper .p-scrollpanel-content{padding:1.5rem;height:100%}.content-section[_ngcontent-%COMP%]   .portfolio-scroll-panel[_ngcontent-%COMP%]     .p-scrollpanel .p-scrollpanel-bar{background:var(--surface-border, #e9ecef);border-radius:4px}.content-section[_ngcontent-%COMP%]   .portfolio-scroll-panel[_ngcontent-%COMP%]     .p-scrollpanel .p-scrollpanel-bar.p-scrollpanel-bar-y{width:8px}.content-section[_ngcontent-%COMP%]   .portfolio-scroll-panel[_ngcontent-%COMP%]     .p-scrollpanel .p-scrollpanel-bar.p-scrollpanel-bar-x{height:8px}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{display:grid!important;gap:1.5rem;width:100%}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .grid.grid-layout[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)!important;grid-auto-rows:minmax(320px,auto)}@media (max-width: 1400px){.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .grid.grid-layout[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)!important}}@media (max-width: 1100px){.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .grid.grid-layout[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 768px){.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .grid.grid-layout[_ngcontent-%COMP%]{grid-template-columns:1fr!important}}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .grid.grid-layout[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]{margin:1rem;min-height:320px;width:100%}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .grid.list-layout[_ngcontent-%COMP%]{grid-template-columns:1fr!important}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .grid.list-layout[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]{margin-bottom:0;width:100%}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-card[_ngcontent-%COMP%]{height:100%}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-card[_ngcontent-%COMP%]     .p-card{height:100%;border-radius:12px;border:1px solid var(--surface-border, #e9ecef);box-shadow:var(--card-shadow, 0 2px 12px rgba(0, 0, 0, .08));transition:all .3s ease}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-card[_ngcontent-%COMP%]     .p-card:hover{transform:translateY(-4px);box-shadow:var(--card-shadow-hover, 0 8px 25px rgba(0, 0, 0, .15))}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-card[_ngcontent-%COMP%]     .p-card .p-card-body{padding:1.5rem!important;height:100%;display:flex;flex-direction:column}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-card[_ngcontent-%COMP%]     .p-card .p-card-content{flex:1;display:flex;flex-direction:column}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;gap:1rem;padding:1.5rem}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.5rem 0}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.5rem}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .chart-icon[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--primary-color, #2196f3)}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .portfolio-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--text-color, #495057);margin:0;line-height:1.2}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .portfolio-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-color-secondary, #6c757d);margin:0;line-height:1.2}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .performance-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem;padding:.75rem 0}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .performance-row[_ngcontent-%COMP%]   .left-metrics[_ngcontent-%COMP%], .content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .performance-row[_ngcontent-%COMP%]   .right-metrics[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .performance-row[_ngcontent-%COMP%]   .left-metrics[_ngcontent-%COMP%]   .main-return[_ngcontent-%COMP%], .content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .performance-row[_ngcontent-%COMP%]   .right-metrics[_ngcontent-%COMP%]   .main-return[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;line-height:1.2}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .performance-row[_ngcontent-%COMP%]   .left-metrics[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%], .content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .performance-row[_ngcontent-%COMP%]   .left-metrics[_ngcontent-%COMP%]   .stock-count[_ngcontent-%COMP%], .content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .performance-row[_ngcontent-%COMP%]   .left-metrics[_ngcontent-%COMP%]   .outperformance[_ngcontent-%COMP%], .content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .performance-row[_ngcontent-%COMP%]   .right-metrics[_ngcontent-%COMP%]   .benchmark-info[_ngcontent-%COMP%], .content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .performance-row[_ngcontent-%COMP%]   .right-metrics[_ngcontent-%COMP%]   .stock-count[_ngcontent-%COMP%], .content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .performance-row[_ngcontent-%COMP%]   .right-metrics[_ngcontent-%COMP%]   .outperformance[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-color-secondary, #6c757d);line-height:1.2}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]{padding:.5rem 0;background-color:#2196f314;border-radius:8px;margin:.5rem 0}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{position:relative;padding:.5rem}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-svg[_ngcontent-%COMP%]{width:100%;height:80px}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-time-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .chart-section[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .chart-time-labels[_ngcontent-%COMP%]   .time-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-color-secondary, #6c757d)}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]{padding:.5rem 0}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:.5rem}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-row[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-row[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-line[_ngcontent-%COMP%]{width:20px;height:3px;border-radius:2px}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-row[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-line.portfolio-legend[_ngcontent-%COMP%]{background:var(--primary-color, #2196f3)}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-row[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-line.benchmark-legend[_ngcontent-%COMP%]{background:#999}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-row[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-line.rebalance-dot[_ngcontent-%COMP%]{background:#ff9500}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-row[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-color-secondary, #6c757d)}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .rebalance-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .rebalance-info[_ngcontent-%COMP%]   .rebalance-icon[_ngcontent-%COMP%]{font-size:.75rem;color:#ff9500}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .rebalance-info[_ngcontent-%COMP%]   .rebalance-text[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-color-secondary, #6c757d)}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-top:auto;padding:.75rem 0}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;font-size:.875rem;padding:.75rem;border-radius:8px;min-height:40px;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .3s ease}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   button.configure-btn[_ngcontent-%COMP%]{border-color:var(--orange-500, #ff9500)!important;color:var(--orange-500, #ff9500)!important}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-performance-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   button.configure-btn[_ngcontent-%COMP%]:hover{background-color:var(--orange-500, #ff9500)!important;color:#fff!important}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]{background:var(--surface-card, white);border:1px solid var(--surface-border, #e9ecef);border-radius:12px;padding:1.5rem;display:flex;align-items:center;gap:1.5rem;box-shadow:var(--card-shadow, 0 2px 12px rgba(0, 0, 0, .08));transition:all .3s ease}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--card-shadow-hover, 0 8px 25px rgba(0, 0, 0, .15))}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-checkbox[_ngcontent-%COMP%]{flex-shrink:0}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]   .list-title-section[_ngcontent-%COMP%]   .list-portfolio-name[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--text-color, #495057);margin:0 0 .25rem;line-height:1.2}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]   .list-title-section[_ngcontent-%COMP%]   .list-portfolio-description[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-color-secondary, #6c757d);margin:0;line-height:1.2}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]   .list-action-buttons[_ngcontent-%COMP%]{display:flex;gap:.75rem}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]   .list-action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem .75rem;border-radius:6px;min-height:36px;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .3s ease}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]   .list-action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]   .list-action-buttons[_ngcontent-%COMP%]   button.configure-btn[_ngcontent-%COMP%]{border-color:var(--orange-500, #ff9500)!important;color:var(--orange-500, #ff9500)!important}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]   .list-action-buttons[_ngcontent-%COMP%]   button.configure-btn[_ngcontent-%COMP%]:hover{background-color:var(--orange-500, #ff9500)!important;color:#fff!important}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]   .list-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]   .list-metadata[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]{display:flex;gap:.5rem}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]   .list-metadata[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]   .metadata-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-color-secondary, #6c757d);min-width:80px}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]   .list-metadata[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]   .metadata-value[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-color, #495057)}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]   .list-metadata[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]   .metadata-value.status-active[_ngcontent-%COMP%]{color:var(--success-color, #28a745)}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]   .list-metadata[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]   .metadata-value.status-inactive[_ngcontent-%COMP%]{color:var(--danger-color, #dc3545)}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-right-metrics[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;align-items:flex-end;min-width:120px}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-right-metrics[_ngcontent-%COMP%]   .metric-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.25rem}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-right-metrics[_ngcontent-%COMP%]   .metric-item[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-color-secondary, #6c757d)}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-right-metrics[_ngcontent-%COMP%]   .metric-item[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--text-color, #495057)}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{text-align:center;padding:1rem 0;margin-top:1rem;border-top:1px solid var(--surface-border, #e9ecef);height:10%}.content-section[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-color-secondary, #6c757d)}.content-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;background:var(--surface-card, white);border-radius:12px;box-shadow:var(--card-shadow, 0 2px 12px rgba(0, 0, 0, .08))}.content-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{font-size:3rem;color:var(--primary-color, #667eea);margin-bottom:1rem}.content-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-color-secondary, #6c757d);margin:0}.content-section[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;background:var(--surface-card, white);border-radius:12px;box-shadow:var(--card-shadow, 0 2px 12px rgba(0, 0, 0, .08));border:2px solid var(--red-200, #ffebee)}.content-section[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:3rem;color:var(--red-500, #f44336);margin-bottom:1rem}.content-section[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--red-700, #d32f2f);margin:0 0 1rem;font-size:1.5rem}.content-section[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:var(--text-color, #666);margin:0 0 1rem;font-size:1.1rem}.content-section[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .demo-note[_ngcontent-%COMP%]{color:var(--blue-700, #1976d2);margin:0;font-size:1rem;font-style:italic;background:var(--blue-50, #e3f2fd);padding:.5rem 1rem;border-radius:6px}.content-section[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;background:var(--surface-card, white);border-radius:12px;border:1px solid var(--surface-border, #e9ecef)}.content-section[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;color:var(--surface-border, #dee2e6);margin-bottom:1rem}.content-section[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-color, #495057);margin-bottom:.5rem}.content-section[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color-secondary, #6c757d);margin-bottom:1.5rem}@media (max-width: 768px){.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]{padding:1rem}.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1rem}.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{min-width:100%}.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%], .content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{height:48px}.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%], .content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap}.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]{min-width:100%;max-width:100%;height:48px}.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]     .p-select .p-select-label{height:48px}.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{height:48px}.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]{justify-content:center;height:48px}.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .controls-section[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:48px;min-width:48px}.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1rem;padding:1rem}.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-checkbox[_ngcontent-%COMP%]{align-self:flex-start;width:auto;height:auto}.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]   .list-title-section[_ngcontent-%COMP%]   .list-portfolio-description[_ngcontent-%COMP%]{max-width:none}.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]   .list-action-buttons[_ngcontent-%COMP%]{justify-content:center}.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]   .list-metadata[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]{justify-content:space-between}.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-main-content[_ngcontent-%COMP%]   .list-metadata[_ngcontent-%COMP%]   .metadata-item[_ngcontent-%COMP%]   .metadata-label[_ngcontent-%COMP%]{min-width:auto}.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-right-metrics[_ngcontent-%COMP%]{text-align:center;min-width:auto;flex-direction:row;justify-content:space-around}.content-section[_ngcontent-%COMP%]   .portfolio-display-container[_ngcontent-%COMP%]   .portfolio-cards[_ngcontent-%COMP%]   .portfolio-list-card[_ngcontent-%COMP%]   .list-right-metrics[_ngcontent-%COMP%]   .metric-item[_ngcontent-%COMP%]{text-align:center}}@media (max-width: 1200px){.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]{gap:1.5rem}.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{min-width:180px}.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]{min-width:160px}.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem;font-size:.8rem}.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]{min-width:180px}}@media (max-width: 992px){.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]{gap:1rem}.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{min-width:150px}.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]{min-width:140px}.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   .sort-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4rem;font-size:.75rem;min-height:32px}.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]{min-width:160px}.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{padding:.4rem .5rem;min-height:32px;font-size:.8rem}.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]{min-width:100px}.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   .layout-btn[_ngcontent-%COMP%]{width:32px;height:32px}}@media (max-width: 768px){.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]{flex-wrap:wrap;gap:1rem}.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{flex:1 1 100%;min-width:auto;order:1}.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]{flex:1 1 auto;min-width:auto;order:2}.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .filter-controls[_ngcontent-%COMP%]{flex:1 1 auto;min-width:auto;order:3}.controls-section[_ngcontent-%COMP%]   .controls-row[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]{flex:1 1 auto;min-width:auto;order:4}}.controls-card[_ngcontent-%COMP%]     .p-card{background:var(--surface-card, white);border:1px solid var(--surface-border, #e9ecef);border-radius:8px;box-shadow:0 1px 3px #0000001a}.controls-card[_ngcontent-%COMP%]     .p-card .p-card-body{padding:1rem}.controls-card[_ngcontent-%COMP%]     .p-card .p-card-content{padding:0}"]});let c=g;return c})();var st=(()=>{let g=class g extends qt{getPortfolios(){return this.get("/api/v1/portfolio")}getPortfolio(t){return this.get(`/api/v1/portfolio/${t}`)}createPortfolio(t){return this.post("/api/v1/portfolio",t)}updatePortfolio(t,e){return this.put(`/api/v1/portfolio/${t}`,e)}patchPortfolio(t,e){return this.patch(`/api/v1/portfolio/${t}`,e)}deletePortfolio(t){return this.delete(`/api/v1/portfolio/${t}`)}getTransactions(t,e,i,s){let p=`/api/v1/portfolio/${t}/transactions`,O=new URLSearchParams;return e&&O.append("start",e),i&&O.append("end",i),s&&O.append("symbol",s),O.toString()&&(p+=`?${O.toString()}`),this.get(p)}addTransaction(t,e){return this.post(`/api/v1/portfolio/${t}/transactions`,e)}getHoldings(t,e){let i=`/api/v1/portfolio/${t}/holdings`;return e&&(i+=`?symbol=${e}`),this.get(i)}addHoldings(t,e){return this.post(`/api/v1/portfolio/${t}/holdings`,e)}putHolding(t,e,i){return this.put(`/api/v1/portfolio/${t}/holdings/${e}`,i)}patchHolding(t,e,i){return this.patch(`/api/v1/portfolio/${t}/holdings/${e}`,i)}getCashFlows(t,e,i){let s=`/api/v1/portfolio/${t}/cashflows`;return e&&i&&(s+=`?start=${e}&end=${i}`),this.get(s)}getValuations(t,e,i){let s=`/api/v1/portfolio/${t}/valuations/daily`;return e&&i&&(s+=`?start=${e}&end=${i}`),this.get(s)}getHoldingValuations(t,e,i,s){let p=`/api/v1/portfolio/${t}/holdings/valuations/daily`,O=new URLSearchParams;return e&&O.append("start",e),i&&O.append("end",i),s&&O.append("symbol",s),O.toString()&&(p+=`?${O.toString()}`),this.get(p)}getMetrics(t,e,i){let s=`/api/v1/portfolio/${t}/metrics/daily`;return e&&i&&(s+=`?start=${e}&end=${i}`),this.get(s)}getBenchmarks(t){return this.get(`/api/v1/portfolio/${t}/benchmarks`)}};g.\u0275fac=(()=>{let t;return function(i){return(t||(t=Y(g)))(i||g)}})(),g.\u0275prov=Z({token:g,factory:g.\u0275fac,providedIn:"root"});let c=g;return c})();var $e=()=>({width:"500px",height:"620px"}),je=()=>({"min-width":"100%"}),qe=()=>["symbol"],Ge=()=>[5,10,25],Ue=(c,g)=>g.symbol;function Ye(c,g){if(c&1){let n=h();o(0,"button",37),P("click",function(){f(n);let e=d(2);return C(e.startEditAll())}),m(1,"i",38),a(2," Edit "),r()}}function Qe(c,g){c&1&&(m(0,"i",42),a(1," Saving... "))}function Je(c,g){c&1&&(m(0,"i",43),a(1," Save "))}function Ke(c,g){if(c&1){let n=h();o(0,"div",20)(1,"button",39),P("click",function(){f(n);let e=d(2);return C(e.saveEditAll())}),b(2,Qe,2,0)(3,Je,2,0),r(),o(4,"button",40),P("click",function(){f(n);let e=d(2);return C(e.cancelEdit())}),m(5,"i",41),a(6," Cancel "),r()()}if(c&2){let n=d(2);l(),_("disabled",n.isSaving),l(),v(n.isSaving?2:3),l(2),_("disabled",n.isSaving)}}function Xe(c,g){if(c&1&&(o(0,"span",24),a(1),r()),c&2){let n=d(2);l(),M(n.editingPortfolio.name||"Untitled Portfolio")}}function Ze(c,g){if(c&1){let n=h();o(0,"textarea",44),T("ngModelChange",function(e){f(n);let i=d(2);return E(i.editingPortfolio.name,e)||(i.editingPortfolio.name=e),C(e)}),a(1,"                "),r()}if(c&2){let n=d(2);S("ngModel",n.editingPortfolio.name),_("disabled",n.isSaving)}}function tn(c,g){if(c&1&&(o(0,"span",27),a(1),r()),c&2){let n=d(2);l(),u("[",n.editingPortfolio.riskProfile||"Not set","]")}}function en(c,g){if(c&1){let n=h();o(0,"p-select",45),T("ngModelChange",function(e){f(n);let i=d(2);return E(i.editingPortfolio.riskProfile,e)||(i.editingPortfolio.riskProfile=e),C(e)}),r()}if(c&2){let n=d(2);_("options",n.riskProfileOptions),S("ngModel",n.editingPortfolio.riskProfile),_("disabled",n.isSaving)}}function nn(c,g){if(c&1&&(o(0,"span",30),a(1),r()),c&2){let n=d(2);l(),M(n.editingPortfolio.description||"No description provided")}}function on(c,g){if(c&1){let n=h();o(0,"textarea",46),T("ngModelChange",function(e){f(n);let i=d(2);return E(i.editingPortfolio.description,e)||(i.editingPortfolio.description=e),C(e)}),a(1,"              "),r()}if(c&2){let n=d(2);S("ngModel",n.editingPortfolio.description),_("disabled",n.isSaving)}}function rn(c,g){c&1&&(o(0,"div",34),m(1,"i",42),a(2," Loading holdings... "),r())}function cn(c,g){c&1&&(o(0,"tr")(1,"th",56),a(2,"Stock"),r(),o(3,"th",57),a(4,"LTP"),r(),o(5,"th",57),a(6,"Sector"),r(),o(7,"th",57),a(8,"Stage Analysis"),r(),o(9,"th",58),a(10,"Uptrend"),r(),o(11,"th",58),a(12,"Sector Trend"),r(),o(13,"th",58),a(14,"Sector Rank"),r(),o(15,"th",59),a(16,"Actions"),r()())}function an(c,g){c&1&&(m(0,"i",43),a(1," Yes "))}function ln(c,g){c&1&&(m(0,"i",41),a(1," No "))}function sn(c,g){if(c&1){let n=h();o(0,"tr")(1,"td")(2,"div",60)(3,"div",61),a(4),r(),o(5,"div",62),a(6),r()()(),o(7,"td")(8,"div",63)(9,"div",64),a(10),z(11,"number"),r(),o(12,"div",65),m(13,"i",66),a(14),z(15,"number"),r()()(),o(16,"td")(17,"span",67),a(18),r()(),o(19,"td")(20,"div",68)(21,"span"),a(22),r(),o(23,"div",69),a(24),r()()(),o(25,"td")(26,"span",70),b(27,an,2,0)(28,ln,2,0),r()(),o(29,"td")(30,"span",71),m(31,"i",72),a(32),r()(),o(33,"td")(34,"div",73)(35,"span"),a(36),r(),o(37,"div",74),a(38),r()()(),o(39,"td")(40,"button",75),P("click",function(){f(n);let e=d().$implicit,i=d(3);return C(i.removeHolding(e))}),m(41,"i",76),r()()()}if(c&2){let n=d().$implicit,t=d(3);l(4),M(n.symbol),l(2),M(t.getMockMarketData(n.symbol).name),l(4),u("\u20B9",I(11,21,t.getMockMarketData(n.symbol).currentPrice,"1.2-2")),l(2),_("ngClass",t.getMockMarketData(n.symbol).change>=0?"positive":"negative"),l(),_("ngClass",t.getMockMarketData(n.symbol).change>=0?"pi-arrow-up":"pi-arrow-down"),l(),B(" ",t.getMockMarketData(n.symbol).change>=0?"+":"","",I(15,24,t.getMockMarketData(n.symbol).changePercent,"1.2-2"),"% "),l(4),M(t.getMockMarketData(n.symbol).sector),l(3),y(ft("stage-tag stage-",t.getMockMarketData(n.symbol).stageAnalysis.toLowerCase().replace(" ","-"))),l(),u(" ",t.getMockMarketData(n.symbol).stageAnalysis," "),l(2),M(t.getMockMarketData(n.symbol).stageLabel),l(2),_("ngClass",t.getMockMarketData(n.symbol).uptrend?"uptrend-yes":"uptrend-no"),l(),v(t.getMockMarketData(n.symbol).uptrend?27:28),l(5),u(" ",t.getMockMarketData(n.symbol).sectorTrend," "),l(3),y(ft("rank-circle rank-",t.getMockMarketData(n.symbol).sectorRank<=3?"top":t.getMockMarketData(n.symbol).sectorRank<=5?"middle":"bottom")),l(),u(" ",t.getMockMarketData(n.symbol).sectorRank," "),l(2),u("of ",t.getMockMarketData(n.symbol).totalSectorStocks)}}function gn(c,g){if(c&1&&b(0,sn,42,27,"tr"),c&2){let n=g.$implicit,t=d(3);v(t.getMockMarketData(n.symbol).name?0:-1)}}function dn(c,g){c&1&&(o(0,"tr")(1,"td",77)(2,"div",78),m(3,"i",79),o(4,"p"),a(5,"No holdings found for this portfolio."),r(),o(6,"p"),a(7,"Add stocks to start building your portfolio."),r()()()())}function pn(c,g){if(c&1){let n=h();o(0,"div",35)(1,"div",47)(2,"span",7),m(3,"i",8),o(4,"input",48),T("ngModelChange",function(e){f(n);let i=d(2);return E(i.globalFilterValue,e)||(i.globalFilterValue=e),C(e)}),P("input",function(e){f(n);let i=d(2);return C(i.onGlobalFilterChange(e))}),r()(),o(5,"div",49)(6,"button",50),P("click",function(){f(n);let e=d(2);return C(e.refreshHoldings())}),r(),o(7,"button",51),P("click",function(){f(n);let e=d(2);return C(e.openAddStockDialog())}),r()()(),o(8,"p-table",52),k(9,cn,17,0,"ng-template",53)(10,gn,1,1,"ng-template",54)(11,dn,8,0,"ng-template",55),r()()}if(c&2){let n=d(2);l(4),S("ngModel",n.globalFilterValue),l(4),_("value",n.portfolioHoldings)("tableStyle",Q(10,je))("scrollable",!0)("sortMode","multiple")("globalFilterFields",Q(11,qe))("showCurrentPageReport",!0)("rowsPerPageOptions",Q(12,Ge))("paginator",!0)("rows",10)}}function mn(c,g){if(c&1){let n=h();o(0,"div",36),m(1,"i",79),o(2,"h4"),a(3,"No Holdings"),r(),o(4,"p"),a(5,"This portfolio doesn't have any holdings yet."),r(),o(6,"button",80),P("click",function(){f(n);let e=d(2);return C(e.addHoldings())}),r()()}}function _n(c,g){if(c&1&&(o(0,"div",16)(1,"div",17)(2,"div",18),b(3,Ye,3,0,"button",19)(4,Ke,7,3,"div",20),r(),o(5,"div",21)(6,"div",22)(7,"div",23),b(8,Xe,2,1,"span",24)(9,Ze,2,2,"textarea",25),r(),o(10,"div",26),b(11,tn,2,1,"span",27)(12,en,1,3,"p-select",28),r()(),o(13,"div",29),b(14,nn,2,1,"span",30)(15,on,2,2,"textarea",31),r()()()(),o(16,"div",32)(17,"div",33)(18,"h3"),a(19,"Portfolio Holdings"),r(),b(20,rn,3,0,"div",34),r(),b(21,pn,12,13,"div",35)(22,mn,7,0,"div",36),r()),c&2){let n=d();l(3),v(n.isEditing?4:3),l(5),v(n.isEditing?9:8),l(3),v(n.isEditing?12:11),l(3),v(n.isEditing?15:14),l(6),v(n.isLoadingHoldings?20:-1),l(),v(n.portfolioHoldings.length>0?21:n.isLoadingHoldings?-1:22)}}function fn(c,g){if(c&1){let n=h();o(0,"div",1),m(1,"i",79),o(2,"h3"),a(3,"No Portfolio Selected"),r(),o(4,"p"),a(5,'Please select a portfolio from the Overview tab to configure it, or click "Create Portfolio" to create a new one.'),r(),o(6,"button",81),P("click",function(){f(n);let e=d();return C(e.navigateToOverview())}),r()()}}function Cn(c,g){c&1&&(o(0,"div",10),m(1,"i",42),r())}function Pn(c,g){if(c&1&&(o(0,"div",85),a(1),z(2,"number"),r()),c&2){let n=d().$implicit;l(),u(" \u20B9",I(2,1,n.price,"1.2-2")," ")}}function Mn(c,g){if(c&1){let n=h();o(0,"div",83),P("click",function(){let e=f(n).$implicit,i=d(2);return C(i.selectStock(e))}),o(1,"div",60)(2,"div",61),a(3),r(),o(4,"div",62),a(5),r()(),k(6,Pn,3,4,"div",84),r()}if(c&2){let n=g.$implicit,t=d(2);Et("selected",(t.selectedStock==null?null:t.selectedStock.symbol)===n.symbol),l(3),M(n.symbol),l(2),M(n.name),l(),_("ngIf",n.price&&n.price>0)}}function un(c,g){if(c&1&&(o(0,"div",11),kt(1,Mn,7,5,"div",82,Ue),r()),c&2){let n=d();l(),wt(n.stockSearchResults)}}function On(c,g){c&1&&(o(0,"div",12),m(1,"i",79),o(2,"span"),a(3,"No stocks found. Try a different search term."),r()())}function hn(c,g){c&1&&(o(0,"div",87),m(1,"i",42),o(2,"span"),a(3,"Loading stock details..."),r()())}function bn(c,g){if(c&1&&(o(0,"span"),a(1),r()),c&2){let n=d(3);l(),u(" - ",n.selectedStockDetails.industry)}}function vn(c,g){if(c&1&&(o(0,"div",88)(1,"div",89)(2,"div",61),a(3),r(),o(4,"div",90),a(5),k(6,bn,2,1,"span",91),r()(),o(7,"div",92)(8,"div",93)(9,"div",94)(10,"span",95),a(11,"Open:"),r(),o(12,"span",96),a(13),z(14,"number"),r()(),o(15,"div",94)(16,"span",95),a(17,"Close:"),r(),o(18,"span",96),a(19),z(20,"number"),r()()(),o(21,"div",93)(22,"div",94)(23,"span",95),a(24,"High:"),r(),o(25,"span",96),a(26),z(27,"number"),r()(),o(28,"div",94)(29,"span",95),a(30,"Low:"),r(),o(31,"span",96),a(32),z(33,"number"),r()()(),o(34,"div",93)(35,"div",94)(36,"span",95),a(37,"Change:"),r(),o(38,"span",96),a(39),z(40,"number"),r()(),o(41,"div",94)(42,"span",95),a(43,"Change %:"),r(),o(44,"span",96),a(45),z(46,"number"),r()()(),o(47,"div",93)(48,"div",94)(49,"span",95),a(50,"Volume:"),r(),o(51,"span",96),a(52),z(53,"number"),r()(),o(54,"div",94)(55,"span",95),a(56,"VWAP:"),r(),o(57,"span",96),a(58),z(59,"number"),r()()()()()),c&2){let n=d(2);l(3),M(n.selectedStockDetails.symbol||n.selectedStock.symbol),l(2),u(" ",n.selectedStockDetails.name||n.selectedStock.name||n.selectedStock.companyName||n.selectedStock.symbol+" Limited"," "),l(),_("ngIf",n.selectedStockDetails.industry),l(7),u("\u20B9",I(14,13,n.selectedStockDetails.open||0,"1.2-2")),l(6),u("\u20B9",I(20,16,n.selectedStockDetails.previousClose||0,"1.2-2")),l(7),u("\u20B9",I(27,19,n.selectedStockDetails.dayHigh||0,"1.2-2")),l(6),u("\u20B9",I(33,22,n.selectedStockDetails.dayLow||0,"1.2-2")),l(7),B("",(n.selectedStockDetails.change||0)>=0?"+":"","\u20B9",I(40,25,n.selectedStockDetails.change||0,"1.2-2")),l(6),B("",(n.selectedStockDetails.changePercent||0)>=0?"+":"","",I(46,28,n.selectedStockDetails.changePercent||0,"1.2-2"),"%"),l(7),M(I(53,31,n.selectedStockDetails.volume||0,"1.0-0")),l(6),u("\u20B9",I(59,34,n.selectedStockDetails.vwap||0,"1.2-2"))}}function xn(c,g){if(c&1&&(o(0,"div",88)(1,"div",89)(2,"div",61),a(3),r(),o(4,"div",62),a(5),r()()()),c&2){let n=d(2);l(3),M(n.selectedStock.symbol),l(2),M(n.selectedStock.name||n.selectedStock.companyName)}}function yn(c,g){if(c&1&&(o(0,"div",86)(1,"h4"),a(2,"Selected Stock"),r(),b(3,hn,4,0,"div",87)(4,vn,60,37,"div",88)(5,xn,6,2,"div",88),r()),c&2){let n=d();l(3),v(n.isLoadingStockDetails?3:n.selectedStockDetails?4:5)}}function kn(c,g){if(c&1){let n=h();o(0,"div",97)(1,"label",98),a(2,"Quantity"),r(),o(3,"input",99),T("ngModelChange",function(e){f(n);let i=d();return E(i.stockQuantity,e)||(i.stockQuantity=e),C(e)}),r(),o(4,"small",100),a(5,"Default quantity is 0. You can modify this later."),r()()}if(c&2){let n=d();l(3),S("ngModel",n.stockQuantity)}}function wn(c,g){c&1&&(m(0,"i",42),a(1," Adding... "))}function Sn(c,g){if(c&1){let n=h();o(0,"div",101)(1,"button",102),P("click",function(){f(n);let e=d();return C(e.closeAddStockDialog())}),r(),o(2,"button",103),P("click",function(){f(n);let e=d();return C(e.addSelectedStock())}),b(3,wn,2,0),r()()}if(c&2){let n=d();l(),_("disabled",n.isAddingStock),l(),_("disabled",!n.selectedStock||n.isAddingStock),l(),v(n.isAddingStock?3:-1)}}var Oe=(()=>{let g=class g{constructor(){this.selectedPortfolio=null,this.riskProfileOptions=[],this.saveChanges=new x,this.cancel=new x,this.goToOverview=new x,this.portfolioApiService=D(st),this.authService=D(jt),this.marketService=D(Gt),this.stockService=D(fe),this.indicesService=D(ge),this.editingPortfolio=null,this.isCreationMode=!1,this.isEditing=!1,this.isSaving=!1,this.portfolioHoldings=[],this.isLoadingHoldings=!1,this.globalFilterValue="",this.showAddStockDialog=!1,this.stockSearchQuery="",this.stockSearchResults=[],this.selectedStock=null,this.selectedStockDetails=null,this.stockQuantity=0,this.isSearchingStocks=!1,this.isAddingStock=!1,this.isLoadingStockDetails=!1,this.allStocks=[]}ngOnInit(){this.loadAllStocksForSearch()}loadAllStocksForSearch(){this.stockService.getAllStocks().subscribe({next:t=>{this.allStocks=t||[],console.log("Loaded stocks for search:",this.allStocks.length)},error:t=>{console.error("Error loading stocks for search:",t),this.allStocks=[]}})}ngOnChanges(){this.selectedPortfolio?(this.isCreationMode=this.selectedPortfolio.id===0,this.editingPortfolio=R({},this.selectedPortfolio),this.isCreationMode&&(this.isEditing=!0),!this.isCreationMode&&this.selectedPortfolio.id>0&&this.loadPortfolioHoldings(this.selectedPortfolio.id)):(this.editingPortfolio=null,this.isCreationMode=!1,this.isEditing=!1,this.portfolioHoldings=[])}loadPortfolioHoldings(t){this.isLoadingHoldings=!0,this.portfolioApiService.getHoldings(t).subscribe({next:e=>{this.portfolioHoldings=e,this.isLoadingHoldings=!1},error:e=>{console.error("Error loading portfolio holdings:",e),this.isLoadingHoldings=!1,this.loadMockHoldings()}})}loadMockHoldings(){this.portfolioHoldings=[{id:1,portfolioId:this.selectedPortfolio?.id||0,symbol:"TCS",quantity:100,avgCost:3812.4,realizedPnl:0,lastUpdated:new Date().toISOString()},{id:2,portfolioId:this.selectedPortfolio?.id||0,symbol:"INFY",quantity:150,avgCost:1567.3,realizedPnl:0,lastUpdated:new Date().toISOString()},{id:3,portfolioId:this.selectedPortfolio?.id||0,symbol:"HCLTECH",quantity:200,avgCost:1234.75,realizedPnl:0,lastUpdated:new Date().toISOString()},{id:4,portfolioId:this.selectedPortfolio?.id||0,symbol:"WIPRO",quantity:300,avgCost:456.8,realizedPnl:0,lastUpdated:new Date().toISOString()}]}getMockMarketData(t){return{TCS:{name:"Tata Consultancy Services",currentPrice:3812.4,change:-15.6,changePercent:-.41,sector:"Information Technology",stageAnalysis:"Stage 2",stageLabel:"Markup",uptrend:!0,sectorTrend:"Bullish",sectorRank:3,totalSectorStocks:10},INFY:{name:"Infosys Limited",currentPrice:1567.3,change:21.5,changePercent:1.39,sector:"Information Technology",stageAnalysis:"Stage 2",stageLabel:"Markup",uptrend:!0,sectorTrend:"Bullish",sectorRank:2,totalSectorStocks:10},HCLTECH:{name:"HCL Technologies",currentPrice:1234.75,change:12.4,changePercent:1.01,sector:"Information Technology",stageAnalysis:"Stage 2",stageLabel:"Markup",uptrend:!0,sectorTrend:"Bullish",sectorRank:1,totalSectorStocks:10},WIPRO:{name:"Wipro Limited",currentPrice:456.8,change:-8.2,changePercent:-1.76,sector:"Information Technology",stageAnalysis:"Stage 3",stageLabel:"Distribution",uptrend:!1,sectorTrend:"Bullish",sectorRank:6,totalSectorStocks:10}}[t]||{}}getCurrentValue(t){let e=this.getMockMarketData(t.symbol);return e.currentPrice?t.quantity*e.currentPrice:0}getUnrealizedPnl(t){let e=this.getCurrentValue(t),i=t.quantity*t.avgCost;return e-i}getUnrealizedPnlPercent(t){let e=t.quantity*t.avgCost;return e===0?0:this.getUnrealizedPnl(t)/e*100}openAddStockDialog(){this.showAddStockDialog=!0,this.stockSearchQuery="",this.stockSearchResults=[],this.selectedStock=null,this.stockQuantity=0,this.isSearchingStocks=!1}closeAddStockDialog(){this.showAddStockDialog=!1,this.stockSearchQuery="",this.stockSearchResults=[],this.selectedStock=null,this.selectedStockDetails=null,this.stockQuantity=0,this.isSearchingStocks=!1,this.isLoadingStockDetails=!1}onStockSearchInput(t){let e=t.target.value;if(this.stockSearchQuery=e,!e||e.length<2){this.stockSearchResults=[];return}this.isSearchingStocks=!0;let i=e.toLowerCase().trim(),s=this.allStocks.filter(p=>p.symbol?.toLowerCase().includes(i)||p.name?.toLowerCase().includes(i));this.stockSearchResults=s.map(p=>({symbol:p.symbol,name:p.name,companyName:p.name,price:0})),this.isSearchingStocks=!1}getMockStockSearchResults(t){let e=[{symbol:"TCS",name:"Tata Consultancy Services",companyName:"Tata Consultancy Services",price:3812.4},{symbol:"INFY",name:"Infosys Limited",companyName:"Infosys Limited",price:1567.3},{symbol:"HCLTECH",name:"HCL Technologies",companyName:"HCL Technologies",price:1234.75},{symbol:"WIPRO",name:"Wipro Limited",companyName:"Wipro Limited",price:456.8},{symbol:"RELIANCE",name:"Reliance Industries",companyName:"Reliance Industries",price:2456.7},{symbol:"HDFC",name:"HDFC Bank",companyName:"HDFC Bank",price:1654.3},{symbol:"ICICIBANK",name:"ICICI Bank",companyName:"ICICI Bank",price:987.2},{symbol:"SBIN",name:"State Bank of India",companyName:"State Bank of India",price:543.8},{symbol:"BHARTIARTL",name:"Bharti Airtel",companyName:"Bharti Airtel",price:876.5},{symbol:"ITC",name:"ITC Limited",companyName:"ITC Limited",price:432.1}],i=t.toLowerCase();return e.filter(s=>s.symbol.toLowerCase().includes(i)||s.name.toLowerCase().includes(i))}selectStock(t){this.selectedStock=t,this.selectedStockDetails=null,this.isLoadingStockDetails=!0,this.stockSearchResults=[],this.stockSearchQuery="",console.log("Stock selected:",t),this.tryMultipleStockApis(t)}tryMultipleStockApis(t){console.log("Trying multiple APIs for stock:",t.symbol),this.stockService.getStockBySymbol(t.symbol).subscribe({next:e=>{console.log("API response from getStockBySymbol:",e),this.selectedStockDetails={symbol:e.symbol||t.symbol,name:e.companyName||e.name||t.name||t.companyName,industry:e.industry||"",price:e.tickDetails?.close||0,change:e.tickDetails?.close&&e.tickDetails?.previousClose?e.tickDetails.close-e.tickDetails.previousClose:0,changePercent:e.tickDetails?.close&&e.tickDetails?.previousClose?(e.tickDetails.close-e.tickDetails.previousClose)/e.tickDetails.previousClose*100:0,dayHigh:e.tickDetails?.high||0,dayLow:e.tickDetails?.low||0,previousClose:e.tickDetails?.previousClose||0,volume:e.tickDetails?.volume||0,open:e.tickDetails?.open||0,marketCap:0,yearHigh:0,yearLow:0,totalTradedValue:e.tickDetails?.totalTradedValue||0,vwap:e.tickDetails?.vwap||0,identifier:"",series:e.tickDetails?.series||e.stockDetails?.series||"",isin:e.stockDetails?.isin||"",nearWeekHigh:0,nearWeekLow:0,percentChange365d:0,percentChange30d:0,lastUpdated:e.tickDetails?.date||"",exchange:"NSE",currency:"INR"},this.isLoadingStockDetails=!1,console.log("Stock details loaded from StockService:",this.selectedStockDetails)},error:e=>{console.error("StockService failed, trying IndicesService:",e),this.indicesService.getIndexBySymbol(t.symbol).subscribe({next:i=>{console.log("API response from getIndexBySymbol:",i),this.selectedStockDetails={symbol:i.indexSymbol||t.symbol,name:i.indexName||t.name||t.companyName,price:i.lastPrice||0,change:i.variation||0,changePercent:i.percentChange||0,dayHigh:i.highPrice||0,dayLow:i.lowPrice||0,previousClose:i.previousClose||0,volume:0,open:i.openPrice||0,marketCap:0,yearHigh:i.yearHigh||0,yearLow:i.yearLow||0,peRatio:i.peRatio||0,pbRatio:i.pbRatio||0,dividendYield:i.dividendYield||0,sector:i.keyCategory||"",industry:"",exchange:"",currency:"INR",lastUpdated:""},this.isLoadingStockDetails=!1,console.log("Stock details loaded from IndicesService:",this.selectedStockDetails)},error:i=>{console.error("IndicesService also failed, trying MarketService:",i),this.marketService.getStockDetails(t.symbol).subscribe({next:s=>{console.log("API response from getStockDetails:",s),this.selectedStockDetails={symbol:s.symbol||t.symbol,name:s.name||t.name||t.companyName,price:s.price||0,change:s.change||0,changePercent:s.changePercent||0,dayHigh:s.dayHigh||0,dayLow:s.dayLow||0,previousClose:s.previousClose||0,volume:s.volume||0,open:s.open||0,marketCap:s.marketCap||0,yearHigh:0,yearLow:0,peRatio:0,pbRatio:0,dividendYield:0,sector:"",industry:"",exchange:"",currency:"INR",lastUpdated:""},this.isLoadingStockDetails=!1,console.log("Stock details loaded from MarketService:",this.selectedStockDetails)},error:s=>{console.error("All APIs failed:",s),this.isLoadingStockDetails=!1,alert(`Failed to load details for ${t.symbol}. All API endpoints failed.`),this.selectedStockDetails=null}})}})}})}addSelectedStock(){if(!this.selectedStock||!this.editingPortfolio||this.editingPortfolio.id<=0)return;this.isAddingStock=!0;let t=this.allStocks.find(s=>s.symbol?.toUpperCase()===this.selectedStock.symbol.toUpperCase()),e=t?t.symbol:this.selectedStock.symbol.toUpperCase(),i={quantity:this.stockQuantity||0,avgCost:0,realizedPnl:0};console.log("Adding stock with PUT endpoint:",{portfolioId:this.editingPortfolio.id,symbol:e,request:i}),this.portfolioApiService.putHolding(this.editingPortfolio.id,e,i).subscribe({next:s=>{console.log("Stock added successfully:",s),this.loadPortfolioHoldings(this.editingPortfolio.id),this.closeAddStockDialog(),this.isAddingStock=!1},error:s=>{console.error("Error adding stock:",s),console.error("Error details:",{status:s.status,statusText:s.statusText,message:s.message,error:s.error}),alert("Failed to add stock to portfolio. Please try again."),this.isAddingStock=!1}})}addHoldings(){this.openAddStockDialog()}removeHolding(t){confirm(`Are you sure you want to remove ${t.symbol} from this portfolio?`)&&(console.log("Remove holding:",t.symbol),this.portfolioHoldings=this.portfolioHoldings.filter(e=>e.id!==t.id))}refreshHoldings(){this.editingPortfolio&&this.editingPortfolio.id>0&&this.loadPortfolioHoldings(this.editingPortfolio.id)}onGlobalFilterChange(t){this.globalFilterValue=t.target.value}startEditAll(){this.isEditing=!0}saveEditAll(){if(this.editingPortfolio&&!this.isSaving){if(!this.editingPortfolio.name||this.editingPortfolio.name.trim()===""){alert("Portfolio name is required");return}if(!this.editingPortfolio.riskProfile){alert("Risk profile is required");return}if(this.isSaving=!0,this.isCreationMode){let t=this.authService.getCurrentUser();if(!t||!t.id){alert("User not authenticated. Please log in again."),this.isSaving=!1;return}let e={name:this.editingPortfolio.name,description:this.editingPortfolio.description||"",baseCurrency:this.editingPortfolio.baseCurrency,riskProfile:this.editingPortfolio.riskProfile,isActive:!0,userId:parseInt(t.id,10)};console.log("=== PORTFOLIO CREATION DEBUG ==="),console.log("Current user:",t),console.log("User ID (string):",t.id),console.log("User ID (parsed):",parseInt(t.id,10)),console.log("Creating portfolio with request:",JSON.stringify(e,null,2)),console.log("================================"),this.portfolioApiService.createPortfolio(e).subscribe({next:i=>{console.log("Portfolio created successfully:",i),this.editingPortfolio=R(R({},this.editingPortfolio),i),this.isEditing=!1,this.isSaving=!1,this.saveChanges.emit(this.editingPortfolio)},error:i=>{console.error("Error creating portfolio:",i),console.error("Error details:",{status:i.status,statusText:i.statusText,message:i.message,error:i.error}),i.status===500?alert("Backend service temporarily unavailable. Changes have been saved locally and will be synchronized when the service is restored."):i.status===401?alert("Authentication expired. Please log in again."):i.status===403?alert("You do not have permission to create portfolios."):i.status===400?alert("Invalid portfolio data. Please check your input and try again."):alert(`Failed to create portfolio (${i.status}). Changes have been saved locally.`),console.log("Falling back to local save for new portfolio"),this.isEditing=!1,this.isSaving=!1,this.editingPortfolio&&this.saveChanges.emit(this.editingPortfolio)}})}else{let t={name:this.editingPortfolio.name,description:this.editingPortfolio.description,riskProfile:this.editingPortfolio.riskProfile};console.log("=== PORTFOLIO UPDATE DEBUG ==="),console.log("Portfolio ID:",this.editingPortfolio.id),console.log("Update Request:",JSON.stringify(t,null,2)),console.log("Full editing portfolio data:",JSON.stringify(this.editingPortfolio,null,2)),console.log("Original portfolio data:",JSON.stringify(this.selectedPortfolio,null,2)),console.log("================================"),this.portfolioApiService.updatePortfolio(this.editingPortfolio.id,t).subscribe({next:e=>{console.log("Portfolio updated successfully:",e),this.editingPortfolio=R(R({},this.editingPortfolio),e),this.isEditing=!1,this.isSaving=!1,this.saveChanges.emit(this.editingPortfolio)},error:e=>{console.error("Error updating portfolio:",e),console.error("Error details:",{status:e.status,statusText:e.statusText,message:e.message,error:e.error,url:e.url}),console.log("Falling back to local save for existing portfolio"),this.isEditing=!1,this.isSaving=!1,this.editingPortfolio&&this.saveChanges.emit(this.editingPortfolio),e.status===500?alert("Backend service temporarily unavailable. Changes have been saved locally and will be synchronized when the service is restored."):e.status===401?alert("Authentication expired. Please log in again."):e.status===403?alert("You do not have permission to update this portfolio."):e.status===404?alert("Portfolio not found. It may have been deleted by another user."):alert(`Failed to update portfolio (${e.status}). Changes have been saved locally.`)}})}}}cancelEdit(){this.selectedPortfolio&&(this.editingPortfolio=R({},this.selectedPortfolio)),this.isEditing=!1,this.isSaving=!1,this.navigateToOverview()}onCancel(){this.cancel.emit()}navigateToOverview(){this.goToOverview.emit()}};g.\u0275fac=function(e){return new(e||g)},g.\u0275cmp=A({type:g,selectors:[["app-portfolio-configure"]],inputs:{selectedPortfolio:"selectedPortfolio",riskProfileOptions:"riskProfileOptions"},outputs:{saveChanges:"saveChanges",cancel:"cancel",goToOverview:"goToOverview"},features:[bt],decls:18,vars:14,consts:[[1,"configure-tab-content"],[1,"no-selection-message"],["header","Add Stock to Portfolio","styleClass","add-stock-dialog",3,"visibleChange","visible","modal","closable","draggable","resizable"],[1,"add-stock-content"],[1,"stock-search-section"],["for","stockSearch",1,"field-label"],[1,"stock-search-input-container"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","id","stockSearch","type","text","placeholder","Type stock symbol or name...",1,"stock-search-input",3,"ngModelChange","input","ngModel"],[1,"search-loading"],[1,"search-results"],[1,"no-results"],["class","selected-stock-section",4,"ngIf"],["class","quantity-section",4,"ngIf"],["pTemplate","footer"],[1,"portfolio-header"],[1,"header-content"],[1,"edit-controls"],["title","Edit portfolio",1,"edit-all-btn"],[1,"edit-buttons"],[1,"portfolio-title-section"],[1,"title-row"],[1,"portfolio-name"],[1,"name-text"],["pInputTextarea","","placeholder","Enter portfolio name","rows","1","autoResize","true",1,"inline-edit-textarea",3,"ngModel","disabled"],[1,"risk-profile-inline"],[1,"risk-text"],["optionLabel","label","optionValue","value","placeholder","Select risk profile",1,"inline-edit-select",3,"options","ngModel","disabled"],[1,"description-row"],[1,"description-text"],["pInputTextarea","","placeholder","Enter portfolio description (optional)","rows","2","autoResize","true",1,"inline-edit-textarea",3,"ngModel","disabled"],[1,"holdings-section"],[1,"holdings-header"],[1,"loading-indicator"],[1,"holdings-table-container"],[1,"no-holdings-message"],["title","Edit portfolio",1,"edit-all-btn",3,"click"],[1,"pi","pi-pencil"],["title","Save all changes",1,"save-all-btn",3,"click","disabled"],["title","Cancel editing",1,"cancel-btn",3,"click","disabled"],[1,"pi","pi-times"],[1,"pi","pi-spin","pi-spinner"],[1,"pi","pi-check"],["pInputTextarea","","placeholder","Enter portfolio name","rows","1","autoResize","true",1,"inline-edit-textarea",3,"ngModelChange","ngModel","disabled"],["optionLabel","label","optionValue","value","placeholder","Select risk profile",1,"inline-edit-select",3,"ngModelChange","options","ngModel","disabled"],["pInputTextarea","","placeholder","Enter portfolio description (optional)","rows","2","autoResize","true",1,"inline-edit-textarea",3,"ngModelChange","ngModel","disabled"],[1,"table-filter-row"],["pInputText","","type","text","placeholder","Search holdings...",1,"p-inputtext-sm",3,"ngModelChange","input","ngModel"],[1,"table-actions"],["pButton","","icon","pi pi-refresh","title","Refresh holdings",1,"p-button-outlined","p-button-sm",3,"click"],["pButton","","label","Add Stock","icon","pi pi-plus","title","Add stock to portfolio",1,"p-button-sm",3,"click"],["styleClass","p-datatable-sm holdings-table","scrollHeight","400px","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} holdings",3,"value","tableStyle","scrollable","sortMode","globalFilterFields","showCurrentPageReport","rowsPerPageOptions","paginator","rows"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","20%"],[2,"width","15%"],[2,"width","10%"],[2,"width","5%"],[1,"stock-info"],[1,"stock-symbol"],[1,"stock-name"],[1,"ltp-info"],[1,"current-price"],[1,"price-change",3,"ngClass"],[1,"pi",3,"ngClass"],[1,"sector-tag"],[1,"stage-analysis"],[1,"stage-label"],[1,"trend-tag",3,"ngClass"],[1,"sector-trend-tag"],[1,"pi","pi-arrow-up"],[1,"sector-rank"],[1,"rank-total"],["title","Remove holding",1,"action-btn","delete-btn",3,"click"],[1,"pi","pi-trash"],["colspan","8",1,"text-center"],[1,"empty-holdings"],[1,"pi","pi-info-circle"],["pButton","","label","Add Holdings","icon","pi pi-plus",1,"p-button-outlined","p-button-sm",3,"click"],["pButton","","label","Back to Overview","icon","pi pi-arrow-left",1,"p-button-outlined",3,"click"],[1,"search-result-item",3,"selected"],[1,"search-result-item",3,"click"],["class","stock-price",4,"ngIf"],[1,"stock-price"],[1,"selected-stock-section"],[1,"loading-stock-details"],[1,"selected-stock-info"],[1,"stock-basic-info"],[1,"stock-name-with-industry"],[4,"ngIf"],[1,"stock-market-data"],[1,"market-data-row"],[1,"market-item"],[1,"market-label"],[1,"market-value"],[1,"quantity-section"],["for","stockQuantity",1,"field-label"],["pInputText","","id","stockQuantity","type","number","placeholder","Enter quantity","min","0",1,"quantity-input",3,"ngModelChange","ngModel"],[1,"field-help"],[1,"dialog-footer"],["pButton","","label","Cancel","icon","pi pi-times",1,"p-button-outlined",3,"click","disabled"],["pButton","","label","Add Stock","icon","pi pi-plus",1,"p-button",3,"click","disabled"]],template:function(e,i){e&1&&(o(0,"div",0),b(1,_n,23,6)(2,fn,7,0,"div",1),o(3,"p-dialog",2),T("visibleChange",function(p){return E(i.showAddStockDialog,p)||(i.showAddStockDialog=p),p}),o(4,"div",3)(5,"div",4)(6,"label",5),a(7,"Search Stock"),r(),o(8,"div",6)(9,"span",7),m(10,"i",8),o(11,"input",9),T("ngModelChange",function(p){return E(i.stockSearchQuery,p)||(i.stockSearchQuery=p),p}),P("input",function(p){return i.onStockSearchInput(p)}),r()(),b(12,Cn,2,0,"div",10),r(),b(13,un,3,0,"div",11)(14,On,4,0,"div",12),r(),k(15,yn,6,1,"div",13)(16,kn,6,1,"div",14),r(),k(17,Sn,4,3,"ng-template",15),r()()),e&2&&(l(),v(i.editingPortfolio?1:2),l(2),Tt(Q(13,$e)),S("visible",i.showAddStockDialog),_("modal",!0)("closable",!0)("draggable",!1)("resizable",!1),l(8),S("ngModel",i.stockSearchQuery),l(),v(i.isSearchingStocks?12:-1),l(),v(i.stockSearchResults.length>0?13:i.stockSearchQuery&&i.stockSearchQuery.length>=2&&!i.isSearchingStocks&&!i.selectedStock?14:-1),l(2),_("ngIf",i.selectedStock),l(),_("ngIf",i.selectedStock))},dependencies:[L,At,q,H,N,tt,$,G,ct,lt,de,U,at,Zt,Xt,_e,me,W,ot,Ut,it,Yt,rt,Bt],styles:[".configure-tab-content[_ngcontent-%COMP%]{background:var(--surface-card, white);border-radius:12px;padding:1.5rem;box-shadow:var(--card-shadow, 0 2px 12px rgba(0, 0, 0, .08));border:1px solid var(--surface-border, #e9ecef);position:relative}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]{margin-bottom:1rem}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{position:relative}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]{position:absolute;top:0;right:0;z-index:10;display:flex;align-items:center}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   .edit-all-btn[_ngcontent-%COMP%], .configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   .save-all-btn[_ngcontent-%COMP%], .configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{background:none;border:1px solid var(--surface-border, #dee2e6);cursor:pointer;padding:.75rem 1rem;border-radius:6px;transition:all .2s ease;display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:500;height:48px;min-height:48px;box-sizing:border-box}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   .edit-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   .edit-all-btn[_ngcontent-%COMP%]{color:var(--text-color-secondary, #6c757d);background-color:var(--surface-100, #f8f9fa)}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   .edit-all-btn[_ngcontent-%COMP%]:hover{color:var(--primary-color, #667eea);background-color:var(--primary-color-alpha-10, rgba(102, 126, 234, .1));border-color:var(--primary-color, #667eea)}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   .save-all-btn[_ngcontent-%COMP%]{color:var(--success-color, #28a745);background-color:var(--success-color-alpha-10, rgba(40, 167, 69, .1));border-color:var(--success-color, #667eea)}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   .save-all-btn[_ngcontent-%COMP%]:hover{background-color:var(--success-color-alpha-20, rgba(40, 167, 69, .2))}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   .save-all-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;background-color:var(--surface-200, #e9ecef);color:var(--text-color-secondary, #6c757d);border-color:var(--surface-border, #dee2e6)}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{color:var(--text-color, #495057);background-color:#fff;border-color:var(--text-color, #495057)}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{background-color:var(--surface-100, #f8f9fa);border-color:var(--text-color, #495057)}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;background-color:var(--surface-200, #e9ecef);color:var(--text-color-secondary, #6c757d);border-color:var(--surface-border, #dee2e6)}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]{padding-right:140px}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem;min-height:3rem}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .portfolio-name[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;justify-content:flex-start}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .portfolio-name[_ngcontent-%COMP%]   .name-text[_ngcontent-%COMP%]{color:var(--text-color, #495057);font-size:2rem;font-weight:700;line-height:1.2}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .portfolio-name[_ngcontent-%COMP%]   .inline-edit-textarea[_ngcontent-%COMP%]{flex:1;border:2px solid var(--primary-color, #667eea);border-radius:8px;padding:.75rem;font-size:1.75rem;font-weight:600;resize:none;outline:none;background:#fff;height:48px;min-height:48px;max-height:48px;box-sizing:border-box;line-height:1.2;display:block}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .portfolio-name[_ngcontent-%COMP%]   .inline-edit-textarea[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;background-color:var(--surface-100, #f8f9fa);border-color:var(--surface-border, #dee2e6)}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .risk-profile-inline[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .risk-profile-inline[_ngcontent-%COMP%]   .risk-text[_ngcontent-%COMP%]{color:var(--text-color-secondary, #6c757d);font-size:1rem;font-weight:500;white-space:nowrap}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .risk-profile-inline[_ngcontent-%COMP%]   .inline-edit-select[_ngcontent-%COMP%]{min-width:120px;border:2px solid var(--primary-color, #667eea);border-radius:6px;outline:none;height:48px;min-height:48px;box-sizing:border-box}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .risk-profile-inline[_ngcontent-%COMP%]   .inline-edit-select[_ngcontent-%COMP%]     .p-select{height:48px;min-height:48px;border:none;background:transparent;display:flex;align-items:center}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .risk-profile-inline[_ngcontent-%COMP%]   .inline-edit-select[_ngcontent-%COMP%]     .p-select .p-select-trigger{height:48px;width:48px;display:flex;align-items:center;justify-content:center;border-left:1px solid var(--surface-border, #dee2e6)}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .risk-profile-inline[_ngcontent-%COMP%]   .inline-edit-select[_ngcontent-%COMP%]     .p-select .p-select-label{height:48px;line-height:48px;padding:0 .75rem;font-size:1rem;font-weight:500;flex:1;display:flex;align-items:center}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .risk-profile-inline[_ngcontent-%COMP%]   .inline-edit-select[_ngcontent-%COMP%]     .p-select .p-select-trigger-icon{font-size:.875rem;color:var(--text-color-secondary, #6c757d)}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .risk-profile-inline[_ngcontent-%COMP%]   .inline-edit-select[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;background-color:var(--surface-100, #f8f9fa);border-color:var(--surface-border, #dee2e6)}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .description-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;min-height:3rem}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .description-row[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%]{color:var(--text-color-secondary, #6c757d);font-size:1.125rem;line-height:1.4;flex:1;margin-top:.25rem}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .description-row[_ngcontent-%COMP%]   .inline-edit-textarea[_ngcontent-%COMP%]{flex:1;border:2px solid var(--primary-color, #667eea);border-radius:8px;padding:.75rem;font-size:1.125rem;resize:none;outline:none;background:#fff;height:48px;min-height:48px;max-height:48px;box-sizing:border-box;line-height:1.4;display:block}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .description-row[_ngcontent-%COMP%]   .inline-edit-textarea[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;background-color:var(--surface-100, #f8f9fa);border-color:var(--surface-border, #dee2e6)}.configure-tab-content[_ngcontent-%COMP%]   .no-selection-message[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.configure-tab-content[_ngcontent-%COMP%]   .no-selection-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:var(--surface-border, #e9ecef);margin-bottom:1rem}.configure-tab-content[_ngcontent-%COMP%]   .no-selection-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-color, #495057);margin-bottom:.5rem}.configure-tab-content[_ngcontent-%COMP%]   .no-selection-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color-secondary, #6c757d);margin-bottom:1.5rem}.configure-tab-content[_ngcontent-%COMP%]   .no-selection-message[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;min-width:160px}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]{margin-top:2rem;border-top:1px solid var(--surface-border, #e9ecef);padding-top:2rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-color, #495057);font-size:1.5rem;font-weight:600;margin:0}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-header[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:var(--text-color-secondary, #6c757d);font-size:.875rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-header[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .table-filter-row[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;justify-content:space-between;align-items:center;gap:1rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .table-filter-row[_ngcontent-%COMP%]   .p-input-icon-left[_ngcontent-%COMP%]{position:relative;display:inline-block}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .table-filter-row[_ngcontent-%COMP%]   .p-input-icon-left[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:.75rem;top:50%;transform:translateY(-50%);color:var(--text-color-secondary, #6c757d);font-size:.875rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .table-filter-row[_ngcontent-%COMP%]   .p-input-icon-left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:2.5rem;padding-right:.75rem;border:1px solid var(--surface-border, #dee2e6);border-radius:6px;font-size:.875rem;min-width:250px}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .table-filter-row[_ngcontent-%COMP%]   .p-input-icon-left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color, #667eea);box-shadow:0 0 0 2px var(--primary-color-alpha-20, rgba(102, 126, 234, .2))}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .table-filter-row[_ngcontent-%COMP%]   .table-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]     .p-datatable-wrapper{border-radius:8px;overflow:hidden}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]     .p-datatable-header{background:var(--surface-100, #f8f9fa);border-bottom:1px solid var(--surface-border, #dee2e6)}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]     .p-datatable-thead>tr>th{background:var(--surface-100, #f8f9fa);border-bottom:1px solid var(--surface-border, #dee2e6);color:var(--text-color, #495057);font-weight:600;font-size:.875rem;padding:1rem .75rem;text-align:left}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]     .p-datatable-tbody>tr{border-bottom:1px solid var(--surface-border, #e9ecef);transition:background-color .2s ease}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]     .p-datatable-tbody>tr:hover{background-color:var(--surface-50, #f8f9fa)}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]     .p-datatable-tbody>tr>td{padding:1rem .75rem;vertical-align:top}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .stock-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:var(--text-color, #495057);margin-bottom:.25rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .stock-name[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-color-secondary, #6c757d);line-height:1.3}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .ltp-info[_ngcontent-%COMP%]   .current-price[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;color:var(--text-color, #495057);margin-bottom:.25rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .ltp-info[_ngcontent-%COMP%]   .price-change[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.875rem;font-weight:500}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .ltp-info[_ngcontent-%COMP%]   .price-change.positive[_ngcontent-%COMP%]{color:var(--success-color, #28a745)}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .ltp-info[_ngcontent-%COMP%]   .price-change.negative[_ngcontent-%COMP%]{color:var(--danger-color, #dc3545)}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .ltp-info[_ngcontent-%COMP%]   .price-change[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .sector-tag[_ngcontent-%COMP%]{display:inline-block;background:var(--surface-200, #e9ecef);color:var(--text-color-secondary, #6c757d);padding:.375rem .75rem;border-radius:16px;font-size:.75rem;font-weight:500;text-align:center}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .stage-analysis[_ngcontent-%COMP%]{text-align:center}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .stage-analysis[_ngcontent-%COMP%]   .stage-tag[_ngcontent-%COMP%]{display:inline-block;padding:.375rem .75rem;border-radius:16px;font-size:.75rem;font-weight:600;margin-bottom:.25rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .stage-analysis[_ngcontent-%COMP%]   .stage-tag.stage-2[_ngcontent-%COMP%]{background:var(--primary-color-alpha-20, rgba(102, 126, 234, .2));color:var(--primary-color, #667eea)}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .stage-analysis[_ngcontent-%COMP%]   .stage-tag.stage-3[_ngcontent-%COMP%]{background:var(--warning-color-alpha-20, rgba(255, 193, 7, .2));color:var(--warning-color, #ffc107)}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .stage-analysis[_ngcontent-%COMP%]   .stage-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-color-secondary, #6c757d);text-transform:capitalize}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .trend-tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;padding:.375rem .75rem;border-radius:16px;font-size:.75rem;font-weight:500;text-align:center}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .trend-tag.uptrend-yes[_ngcontent-%COMP%]{background:var(--success-color-alpha-20, rgba(40, 167, 69, .2));color:var(--success-color, #28a745)}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .trend-tag.uptrend-no[_ngcontent-%COMP%]{background:var(--danger-color-alpha-20, rgba(220, 53, 69, .2));color:var(--danger-color, #dc3545)}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .trend-tag[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .sector-trend-tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;background:var(--primary-color-alpha-20, rgba(102, 126, 234, .2));color:var(--primary-color, #667eea);padding:.375rem .75rem;border-radius:16px;font-size:.75rem;font-weight:500;text-align:center}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .sector-trend-tag[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .sector-rank[_ngcontent-%COMP%]{text-align:center}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .sector-rank[_ngcontent-%COMP%]   .rank-circle[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:50%;font-weight:700;font-size:.875rem;margin-bottom:.25rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .sector-rank[_ngcontent-%COMP%]   .rank-circle.rank-top[_ngcontent-%COMP%]{background:var(--success-color, #28a745);color:#fff}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .sector-rank[_ngcontent-%COMP%]   .rank-circle.rank-middle[_ngcontent-%COMP%]{background:var(--primary-color, #667eea);color:#fff}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .sector-rank[_ngcontent-%COMP%]   .rank-circle.rank-bottom[_ngcontent-%COMP%]{background:var(--warning-color, #ffc107);color:var(--text-color, #495057)}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .sector-rank[_ngcontent-%COMP%]   .rank-total[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-color-secondary, #6c757d)}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:.5rem;border-radius:4px;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]{color:var(--danger-color, #dc3545)}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .action-btn.delete-btn[_ngcontent-%COMP%]:hover{background:var(--danger-color-alpha-10, rgba(220, 53, 69, .1))}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .no-holdings-message[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;background:var(--surface-50, #f8f9fa);border-radius:8px;border:1px dashed var(--surface-border, #dee2e6)}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .no-holdings-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:var(--surface-border, #c1c7d0);margin-bottom:1rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .no-holdings-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-color, #495057);margin-bottom:.5rem;font-size:1.25rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .no-holdings-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color-secondary, #6c757d);margin-bottom:1.5rem;font-size:.875rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .empty-holdings[_ngcontent-%COMP%]{text-align:center;padding:2rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .empty-holdings[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:var(--surface-border, #c1c7d0);margin-bottom:.5rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .empty-holdings[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color-secondary, #6c757d);margin:.25rem 0;font-size:.875rem}  .add-stock-dialog .p-dialog{height:620px!important;max-height:620px!important}  .add-stock-dialog .p-dialog-content{height:500px!important;max-height:500px!important;overflow-y:auto;padding:1.5rem;background:var(--surface-card, white)}  .add-stock-dialog .p-dialog-header{background:var(--surface-card, white);border-bottom:1px solid var(--surface-border, #e9ecef);padding:1.5rem 1.5rem 1rem;height:60px}  .add-stock-dialog .p-dialog-header .p-dialog-title{font-size:1.25rem;font-weight:600;color:var(--text-color, #495057)}  .add-stock-dialog .p-dialog-footer{background:var(--surface-card, white);border-top:1px solid var(--surface-border, #e9ecef);padding:1rem 1.5rem 1.5rem;height:60px}.add-stock-content[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;font-weight:600;color:var(--text-color, #495057);margin-bottom:.5rem;font-size:.875rem}.add-stock-content[_ngcontent-%COMP%]   .field-help[_ngcontent-%COMP%]{display:block;color:var(--text-color-secondary, #6c757d);font-size:.75rem;margin-top:.25rem}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .stock-search-input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:.5rem}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .stock-search-input-container[_ngcontent-%COMP%]   .p-input-icon-left[_ngcontent-%COMP%]{flex:1;position:relative}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .stock-search-input-container[_ngcontent-%COMP%]   .p-input-icon-left[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:.75rem;top:50%;transform:translateY(-50%);color:var(--text-color-secondary, #6c757d);font-size:.875rem}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .stock-search-input-container[_ngcontent-%COMP%]   .p-input-icon-left[_ngcontent-%COMP%]   .stock-search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem .75rem .75rem 2.5rem;border:1px solid var(--surface-border, #dee2e6);border-radius:6px;font-size:.875rem}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .stock-search-input-container[_ngcontent-%COMP%]   .p-input-icon-left[_ngcontent-%COMP%]   .stock-search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color, #667eea);box-shadow:0 0 0 2px var(--primary-color-alpha-20, rgba(102, 126, 234, .2))}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .stock-search-input-container[_ngcontent-%COMP%]   .search-loading[_ngcontent-%COMP%]{display:flex;align-items:center;color:var(--text-color-secondary, #6c757d)}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .stock-search-input-container[_ngcontent-%COMP%]   .search-loading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]{margin-top:.5rem;border:1px solid var(--surface-border, #dee2e6);border-radius:6px;background:#fff;box-shadow:0 2px 8px #0000001a;max-height:120px;overflow-y:auto}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .search-result-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;border-bottom:1px solid var(--surface-border, #e9ecef);cursor:pointer;transition:background-color .2s ease}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .search-result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .search-result-item[_ngcontent-%COMP%]:hover{background-color:var(--surface-50, #f8f9fa)}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .search-result-item.selected[_ngcontent-%COMP%]{background-color:var(--primary-color-alpha-10, rgba(102, 126, 234, .1));border-color:var(--primary-color, #667eea)}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .search-result-item[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]{flex:1}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .search-result-item[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .stock-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem;color:var(--text-color, #495057);margin-bottom:.25rem}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .search-result-item[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .stock-name[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-color-secondary, #6c757d);line-height:1.3}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .search-result-item[_ngcontent-%COMP%]   .stock-price[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;color:var(--text-color, #495057);min-width:80px;text-align:right}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;align-items:center;gap:.5rem;padding:1rem;color:var(--text-color-secondary, #6c757d);font-size:.875rem;text-align:center;justify-content:center;background:var(--surface-50, #f8f9fa);border-radius:6px;border:1px dashed var(--surface-border, #dee2e6)}.add-stock-content[_ngcontent-%COMP%]   .stock-search-section[_ngcontent-%COMP%]   .no-results[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.add-stock-content[_ngcontent-%COMP%]   .selected-stock-section[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding:1rem;background:var(--surface-50, #f8f9fa);border-radius:8px;border:1px solid var(--surface-border, #e9ecef)}.add-stock-content[_ngcontent-%COMP%]   .selected-stock-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:1rem;font-weight:600;color:var(--text-color, #495057)}.add-stock-content[_ngcontent-%COMP%]   .selected-stock-section[_ngcontent-%COMP%]   .loading-stock-details[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:var(--text-color-secondary, #6c757d);font-size:.875rem;padding:1rem 0}.add-stock-content[_ngcontent-%COMP%]   .selected-stock-section[_ngcontent-%COMP%]   .loading-stock-details[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.add-stock-content[_ngcontent-%COMP%]   .selected-stock-section[_ngcontent-%COMP%]   .selected-stock-info[_ngcontent-%COMP%]   .stock-basic-info[_ngcontent-%COMP%]{margin-bottom:.5rem;padding:.75rem;background:#fff;border-radius:6px;border:1px solid var(--surface-border, #e9ecef)}.add-stock-content[_ngcontent-%COMP%]   .selected-stock-section[_ngcontent-%COMP%]   .selected-stock-info[_ngcontent-%COMP%]   .stock-basic-info[_ngcontent-%COMP%]   .stock-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:1.125rem;color:var(--text-color, #495057);margin-bottom:.25rem}.add-stock-content[_ngcontent-%COMP%]   .selected-stock-section[_ngcontent-%COMP%]   .selected-stock-info[_ngcontent-%COMP%]   .stock-basic-info[_ngcontent-%COMP%]   .stock-name-with-industry[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-color-secondary, #6c757d);line-height:1.3}.add-stock-content[_ngcontent-%COMP%]   .selected-stock-section[_ngcontent-%COMP%]   .selected-stock-info[_ngcontent-%COMP%]   .stock-market-data[_ngcontent-%COMP%]   .market-data-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.5rem;margin-bottom:.25rem}.add-stock-content[_ngcontent-%COMP%]   .selected-stock-section[_ngcontent-%COMP%]   .selected-stock-info[_ngcontent-%COMP%]   .stock-market-data[_ngcontent-%COMP%]   .market-data-row[_ngcontent-%COMP%]   .market-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.15rem 0;font-size:.8rem}.add-stock-content[_ngcontent-%COMP%]   .selected-stock-section[_ngcontent-%COMP%]   .selected-stock-info[_ngcontent-%COMP%]   .stock-market-data[_ngcontent-%COMP%]   .market-data-row[_ngcontent-%COMP%]   .market-item[_ngcontent-%COMP%]   .market-label[_ngcontent-%COMP%]{color:var(--text-color-secondary, #6c757d);font-weight:500}.add-stock-content[_ngcontent-%COMP%]   .selected-stock-section[_ngcontent-%COMP%]   .selected-stock-info[_ngcontent-%COMP%]   .stock-market-data[_ngcontent-%COMP%]   .market-data-row[_ngcontent-%COMP%]   .market-item[_ngcontent-%COMP%]   .market-value[_ngcontent-%COMP%]{color:var(--text-color, #495057);font-weight:600}.add-stock-content[_ngcontent-%COMP%]   .quantity-section[_ngcontent-%COMP%]{margin-bottom:1rem}.add-stock-content[_ngcontent-%COMP%]   .quantity-section[_ngcontent-%COMP%]   .quantity-input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid var(--surface-border, #dee2e6);border-radius:6px;font-size:.875rem}.add-stock-content[_ngcontent-%COMP%]   .quantity-section[_ngcontent-%COMP%]   .quantity-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color, #667eea);box-shadow:0 0 0 2px var(--primary-color-alpha-20, rgba(102, 126, 234, .2))}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem}@media (max-width: 768px){.configure-tab-content[_ngcontent-%COMP%]{padding:1rem}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]{position:static;margin-bottom:1rem;display:flex;justify-content:flex-end}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   .edit-buttons[_ngcontent-%COMP%]{flex-direction:row;gap:.5rem}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]{padding-right:0}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .portfolio-name[_ngcontent-%COMP%]{width:100%}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .risk-profile-inline[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.configure-tab-content[_ngcontent-%COMP%]   .portfolio-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .portfolio-title-section[_ngcontent-%COMP%]   .description-row[_ngcontent-%COMP%]   .inline-edit-textarea[_ngcontent-%COMP%]{min-height:60px}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .table-filter-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.75rem;margin-bottom:.75rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .table-filter-row[_ngcontent-%COMP%]   .p-input-icon-left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-width:200px;font-size:.8rem;width:100%}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .table-filter-row[_ngcontent-%COMP%]   .table-actions[_ngcontent-%COMP%]{justify-content:flex-end}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]     .p-datatable-thead>tr>th, .configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]     .p-datatable-tbody>tr>td{padding:.75rem .5rem;font-size:.8rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .stock-symbol[_ngcontent-%COMP%]{font-size:.9rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .stock-name[_ngcontent-%COMP%]{font-size:.8rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .ltp-info[_ngcontent-%COMP%]   .current-price[_ngcontent-%COMP%]{font-size:.9rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .ltp-info[_ngcontent-%COMP%]   .price-change[_ngcontent-%COMP%]{font-size:.8rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .sector-tag[_ngcontent-%COMP%], .configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .stage-tag[_ngcontent-%COMP%], .configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .trend-tag[_ngcontent-%COMP%], .configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .sector-trend-tag[_ngcontent-%COMP%]{font-size:.7rem;padding:.25rem .5rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .sector-rank[_ngcontent-%COMP%]   .rank-circle[_ngcontent-%COMP%]{width:28px;height:28px;font-size:.8rem}.configure-tab-content[_ngcontent-%COMP%]   .holdings-section[_ngcontent-%COMP%]   .holdings-table-container[_ngcontent-%COMP%]   .holdings-table[_ngcontent-%COMP%]   .sector-rank[_ngcontent-%COMP%]   .rank-total[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 768px){.add-stock-content[_ngcontent-%COMP%]   .selected-stock-section[_ngcontent-%COMP%]   .selected-stock-info[_ngcontent-%COMP%]   .stock-market-data[_ngcontent-%COMP%]   .market-data-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.5rem}}"]});let c=g;return c})();function En(c,g){if(c&1){let n=h();o(0,"div",2)(1,"h2"),a(2),r(),o(3,"p",3),a(4,"Performance optimization and rebalancing recommendations"),r()(),o(5,"div",4)(6,"div",5)(7,"div",6)(8,"h4"),a(9,"Current Performance"),r(),o(10,"div",7)(11,"span",8),a(12,"Total Return:"),r(),o(13,"span",9),a(14),r()(),o(15,"div",7)(16,"span",8),a(17,"Benchmark Return:"),r(),o(18,"span",9),a(19),r()(),o(20,"div",7)(21,"span",8),a(22,"Outperformance:"),r(),o(23,"span",9),a(24),r()()()(),o(25,"div",10)(26,"h3"),a(27,"Optimization Recommendations"),r(),o(28,"div",11)(29,"div",12),m(30,"i",13),o(31,"div",14)(32,"h4"),a(33,"Rebalance Portfolio"),r(),o(34,"p"),a(35,"Consider rebalancing to maintain target asset allocation and risk profile."),r()()(),o(36,"div",12),m(37,"i",15),o(38,"div",14)(39,"h4"),a(40,"Diversification Check"),r(),o(41,"p"),a(42,"Review sector allocation to ensure adequate diversification across industries."),r()()(),o(43,"div",12),m(44,"i",16),o(45,"div",14)(46,"h4"),a(47,"Risk Assessment"),r(),o(48,"p"),a(49,"Evaluate current risk exposure and adjust if it exceeds your risk tolerance."),r()()()(),o(50,"div",17)(51,"button",18),P("click",function(){f(n);let e=d();return C(e.onApplyOptimization())}),r()()()()}if(c&2){let n=d();l(2),u("Optimize Portfolio: ",n.selectedPortfolio.name),l(11),w("color",n.getPerformanceColor(n.selectedPortfolio.totalReturn||0)),l(),u(" ",n.formatReturn(n.selectedPortfolio.totalReturn||0)," "),l(5),M(n.formatReturn(n.selectedPortfolio.benchmarkReturn||0)),l(4),w("color",n.getPerformanceColor(n.selectedPortfolio.outperformance||0)),l(),u(" ",n.formatReturn(n.selectedPortfolio.outperformance||0)," ")}}function Tn(c,g){c&1&&(o(0,"div",1),m(1,"i",19),o(2,"h3"),a(3,"No Portfolio Selected"),r(),o(4,"p"),a(5,"Please select a portfolio from the Overview tab to view optimization recommendations."),r()())}var he=(()=>{let g=class g{constructor(){this.selectedPortfolio=null,this.applyOptimization=new x}formatReturn(t){return t==null?"N/A":`${t>0?"+":""}${t.toFixed(1)}%`}getPerformanceColor(t){return t==null?"var(--text-color-secondary)":t>=0?"var(--green-600)":"var(--red-600)"}onApplyOptimization(){this.selectedPortfolio&&this.applyOptimization.emit(this.selectedPortfolio)}};g.\u0275fac=function(e){return new(e||g)},g.\u0275cmp=A({type:g,selectors:[["app-portfolio-optimize"]],inputs:{selectedPortfolio:"selectedPortfolio"},outputs:{applyOptimization:"applyOptimization"},decls:3,vars:1,consts:[[1,"optimize-tab-content"],[1,"no-selection-message"],[1,"portfolio-detail-header"],[1,"portfolio-description"],[1,"optimization-content"],[1,"performance-summary"],[1,"summary-card"],[1,"performance-metric"],[1,"metric-label"],[1,"metric-value"],[1,"optimization-recommendations"],[1,"recommendation-list"],[1,"recommendation-item"],[1,"pi","pi-lightbulb","recommendation-icon"],[1,"recommendation-content"],[1,"pi","pi-chart-line","recommendation-icon"],[1,"pi","pi-shield","recommendation-icon"],[1,"optimization-actions"],["pButton","","label","Apply Optimization","icon","pi pi-check",1,"p-button-primary",3,"click"],[1,"pi","pi-info-circle"]],template:function(e,i){e&1&&(o(0,"div",0),b(1,En,52,8)(2,Tn,6,0,"div",1),r()),e&2&&(l(),v(i.selectedPortfolio?1:2))},dependencies:[L,H,N,$,W],styles:[".optimize-tab-content[_ngcontent-%COMP%]{background:var(--surface-card, white);border-radius:12px;padding:2rem;box-shadow:var(--card-shadow, 0 2px 12px rgba(0, 0, 0, .08));border:1px solid var(--surface-border, #e9ecef)}.optimize-tab-content[_ngcontent-%COMP%]   .portfolio-detail-header[_ngcontent-%COMP%]{margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid var(--surface-border, #e9ecef)}.optimize-tab-content[_ngcontent-%COMP%]   .portfolio-detail-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-color, #495057);margin:0 0 .5rem;font-size:1.75rem}.optimize-tab-content[_ngcontent-%COMP%]   .portfolio-detail-header[_ngcontent-%COMP%]   .portfolio-description[_ngcontent-%COMP%]{color:var(--text-color-secondary, #6c757d);margin:0;font-size:1rem}.optimize-tab-content[_ngcontent-%COMP%]   .optimization-content[_ngcontent-%COMP%]   .performance-summary[_ngcontent-%COMP%]{margin-bottom:2rem}.optimize-tab-content[_ngcontent-%COMP%]   .optimization-content[_ngcontent-%COMP%]   .performance-summary[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:var(--surface-ground, #f8f9fa);border-radius:12px;padding:1.5rem;border:1px solid var(--surface-border, #e9ecef)}.optimize-tab-content[_ngcontent-%COMP%]   .optimization-content[_ngcontent-%COMP%]   .performance-summary[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-color, #495057);margin:0 0 1rem;font-size:1.125rem}.optimize-tab-content[_ngcontent-%COMP%]   .optimization-content[_ngcontent-%COMP%]   .performance-summary[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .performance-metric[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.optimize-tab-content[_ngcontent-%COMP%]   .optimization-content[_ngcontent-%COMP%]   .performance-summary[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .performance-metric[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{color:var(--text-color-secondary, #6c757d);font-weight:500}.optimize-tab-content[_ngcontent-%COMP%]   .optimization-content[_ngcontent-%COMP%]   .performance-summary[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .performance-metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.optimize-tab-content[_ngcontent-%COMP%]   .optimization-content[_ngcontent-%COMP%]   .optimization-recommendations[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-color, #495057);margin:0 0 1.5rem;font-size:1.5rem}.optimize-tab-content[_ngcontent-%COMP%]   .optimization-content[_ngcontent-%COMP%]   .optimization-recommendations[_ngcontent-%COMP%]   .recommendation-list[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1rem;background:var(--surface-ground, #f8f9fa);border-radius:8px;margin-bottom:1rem;border:1px solid var(--surface-border, #e9ecef)}.optimize-tab-content[_ngcontent-%COMP%]   .optimization-content[_ngcontent-%COMP%]   .optimization-recommendations[_ngcontent-%COMP%]   .recommendation-list[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .recommendation-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary-color, #667eea);flex-shrink:0}.optimize-tab-content[_ngcontent-%COMP%]   .optimization-content[_ngcontent-%COMP%]   .optimization-recommendations[_ngcontent-%COMP%]   .recommendation-list[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .recommendation-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-color, #495057);margin:0 0 .5rem;font-size:1.125rem}.optimize-tab-content[_ngcontent-%COMP%]   .optimization-content[_ngcontent-%COMP%]   .optimization-recommendations[_ngcontent-%COMP%]   .recommendation-list[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .recommendation-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color-secondary, #6c757d);margin:0;font-size:.95rem}.optimize-tab-content[_ngcontent-%COMP%]   .optimization-content[_ngcontent-%COMP%]   .optimization-recommendations[_ngcontent-%COMP%]   .optimization-actions[_ngcontent-%COMP%]{margin-top:2rem;padding-top:1.5rem;border-top:1px solid var(--surface-border, #e9ecef);text-align:center}.optimize-tab-content[_ngcontent-%COMP%]   .no-selection-message[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.optimize-tab-content[_ngcontent-%COMP%]   .no-selection-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:var(--surface-border, #dee2e6);margin-bottom:1rem}.optimize-tab-content[_ngcontent-%COMP%]   .no-selection-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-color, #495057);margin-bottom:.5rem}.optimize-tab-content[_ngcontent-%COMP%]   .no-selection-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color-secondary, #6c757d);margin-bottom:1.5rem}@media (max-width: 768px){.optimize-tab-content[_ngcontent-%COMP%]{padding:1.5rem}.optimize-tab-content[_ngcontent-%COMP%]   .optimization-content[_ngcontent-%COMP%]   .performance-summary[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{padding:1rem}.optimize-tab-content[_ngcontent-%COMP%]   .optimization-content[_ngcontent-%COMP%]   .optimization-recommendations[_ngcontent-%COMP%]   .recommendation-list[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.optimize-tab-content[_ngcontent-%COMP%]   .optimization-content[_ngcontent-%COMP%]   .optimization-recommendations[_ngcontent-%COMP%]   .recommendation-list[_ngcontent-%COMP%]   .recommendation-item[_ngcontent-%COMP%]   .recommendation-icon[_ngcontent-%COMP%]{align-self:center}}"]});let c=g;return c})();var gi=(()=>{let g=class g{constructor(t){this.portfolioApiService=t,this.destroy$=new Pt,this.portfolios=[],this.filteredPortfolios=[],this.loading=!1,this.error=null,this.searchText="",this.selectedRiskProfile=null,this.layout="grid",this.sortField="name",this.sortOrder=1,this.selectedPortfolio=null,this.activeTab="0",this.riskProfileOptions=[{label:"Conservative",value:"CONSERVATIVE"},{label:"Moderate",value:"MODERATE"},{label:"Aggressive",value:"AGGRESSIVE"}]}ngOnInit(){if(console.log("PortfoliosComponent initialized with activeTab:",this.activeTab),!this.hasValidToken()){this.goToLogin();return}this.loadPortfolios()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}hasValidToken(){let t=localStorage.getItem("auth_token");if(!t)return!1;try{let e=JSON.parse(atob(t.split(".")[1])),i=Date.now()/1e3;return e.exp>i}catch(e){return console.error("Error parsing token:",e),!1}}loadPortfolios(){this.loading=!0,this.error=null,this.portfolioApiService.getPortfolios().pipe(ut(this.destroy$),Mt(()=>this.loading=!1)).subscribe({next:t=>{Array.isArray(t)?(this.portfolios=this.enhancePortfoliosWithMetrics(t),this.applyFilters()):(console.error("API response is not an array:",t),this.error="Invalid data format received from API")},error:t=>{console.error("Error loading portfolios:",t),t.status===401?(this.error="Authentication expired. Please log in again.",localStorage.removeItem("auth_token")):(console.log("Creating mock portfolios for demonstration"),this.portfolios=this.createMockPortfolios(),this.applyFilters())}})}createMockPortfolios(){let t=[{id:1,name:"Tech Portfolio",description:"Technology-focused growth portfolio with high-growth potential stocks",baseCurrency:"INR",inceptionDate:"2024-01-15",riskProfile:"MODERATE",isActive:!0},{id:2,name:"Dividend Portfolio",description:"Income-generating portfolio focused on dividend-paying stocks",baseCurrency:"INR",inceptionDate:"2024-02-01",riskProfile:"CONSERVATIVE",isActive:!0},{id:3,name:"Momentum Portfolio",description:"High-momentum trading portfolio with aggressive growth strategy",baseCurrency:"INR",inceptionDate:"2024-01-01",riskProfile:"AGGRESSIVE",isActive:!0}];return this.enhancePortfoliosWithMetrics(t)}enhancePortfoliosWithMetrics(t){return t.map((e,i)=>{let p,O,V,j,K,X;switch(e.riskProfile){case"CONSERVATIVE":p=18.2-1.8,O=-1.8,V=15,j=3,K="1 month ago",X={portfolio:[100,102,105,103,107,110,108,112,115,116.4],benchmark:[100,102,105,107,110,113,116,118,120,118.2],labels:["6M","5M","4M","3M","2M","1M","3W","2W","1W","Now"]};break;case"AGGRESSIVE":p=18.2+13.3,O=13.3,V=10,j=4,K="1.5 months ago",X={portfolio:[100,105,112,120,128,135,142,150,158,131.5],benchmark:[100,102,105,107,110,113,116,118,120,118.2],labels:["6M","5M","4M","3M","2M","1M","3W","2W","1W","Now"]};break;default:p=18.2+6.6,O=6.6,V=12,j=2,K="2 months ago",X={portfolio:[100,103,107,110,115,118,122,125,128,124.8],benchmark:[100,102,105,107,110,113,116,118,120,118.2],labels:["6M","5M","4M","3M","2M","1M","3W","2W","1W","Now"]};break}return gt(R({},e),{totalReturn:p,benchmarkReturn:18.2,outperformance:O,stockCount:V,rebalanceEvents:j,lastRebalance:K,performanceData:X})})}get totalPortfolios(){return this.portfolios.length}get activePortfolios(){return this.portfolios.filter(t=>t.isActive).length}get conservativePortfolios(){return this.portfolios.filter(t=>t.riskProfile==="CONSERVATIVE").length}get moderatePortfolios(){return this.portfolios.filter(t=>t.riskProfile==="MODERATE").length}get aggressivePortfolios(){return this.portfolios.filter(t=>t.riskProfile==="AGGRESSIVE").length}onSearchChange(){this.applyFilters()}onRiskProfileChange(){this.applyFilters()}clearFilters(){this.searchText="",this.selectedRiskProfile=null,this.applyFilters()}applyFilters(){let t=[...this.portfolios];if(this.searchText.trim()){let e=this.searchText.toLowerCase();t=t.filter(i=>i.name.toLowerCase().includes(e)||i.description.toLowerCase().includes(e))}this.selectedRiskProfile&&(t=t.filter(e=>e.riskProfile===this.selectedRiskProfile)),t.sort((e,i)=>{let s=e[this.sortField],p=i[this.sortField];return this.sortField==="inceptionDate"?(s=new Date(s).getTime(),p=new Date(p).getTime()):typeof s=="string"&&(s=s.toLowerCase(),p=p.toLowerCase()),s<p?-1*this.sortOrder:s>p?1*this.sortOrder:0}),this.filteredPortfolios=t}onSortChange(t){this.sortField===t?this.sortOrder=this.sortOrder===1?-1:1:(this.sortField=t,this.sortOrder=1),this.applyFilters()}createPortfolio(){console.log("Create portfolio clicked"),this.selectedPortfolio={id:0,name:"",description:"",baseCurrency:"INR",inceptionDate:new Date().toISOString().split("T")[0],riskProfile:"MODERATE",isActive:!0,totalReturn:0,benchmarkReturn:0,outperformance:0,stockCount:0,rebalanceEvents:0,lastRebalance:"N/A",performanceData:{portfolio:[100],benchmark:[100],labels:["Now"]}},this.activeTab="1",console.log("Switched to Configure tab for new portfolio creation")}selectPortfolio(t){console.log("Select portfolio:",t)}editPortfolio(t){console.log("Edit portfolio:",t)}configurePortfolio(t){console.log("Configure portfolio:",t),console.log("Current activeTab before switch:",this.activeTab),this.selectedPortfolio=t,this.activeTab="1",console.log("ActiveTab after switch to Configure:",this.activeTab)}optimizePortfolio(t){console.log("Optimize portfolio:",t),console.log("Current activeTab before switch:",this.activeTab),this.selectedPortfolio=t,this.activeTab="2",console.log("ActiveTab after switch to Optimize:",this.activeTab)}resetToOverview(){this.activeTab="0",this.selectedPortfolio=null}onTabChange(t){console.log("Tab changed to:",t),this.activeTab=typeof t=="string"?t:t.toString()}viewPortfolioData(t){console.log("View portfolio data:",t)}viewPortfolioInsights(t){console.log("View portfolio insights:",t)}goToLogin(){window.location.href="/login"}trackPortfolioById(t,e){return e.id}getRebalanceYPosition(t,e){if(!t||t.length===0)return 50;let i=Math.floor(e/100*(t.length-1)),s=t[i]||t[t.length-1],p=Math.min(...t),V=Math.max(...t)-p;return V===0?50:100-((s-p)/V*80+10)}formatDate(t){try{return new Date(t).toLocaleDateString()}catch{return t}}getRiskProfileLabel(t){return{CONSERVATIVE:"Low Risk",MODERATE:"Medium Risk",AGGRESSIVE:"High Risk"}[t]||t}formatReturn(t){return t==null?"N/A":`${t>0?"+":""}${t.toFixed(1)}%`}getPerformanceColor(t){return t==null?"var(--text-color-secondary)":t>=0?"var(--green-600)":"var(--red-600)"}getPortfolioIcon(t){switch(t){case"CONSERVATIVE":return"pi pi-shield";case"AGGRESSIVE":return"pi pi-arrow-up";default:return"pi pi-chart-line"}}getPortfolioColor(t){switch(t){case"CONSERVATIVE":return"#ff9800";case"AGGRESSIVE":return"#9c27b0";default:return"#4caf50"}}getChartHeight(t){if(!t||t.length===0)return"100px";let e=Math.max(...t),i=Math.min(...t),s=e-i;return s===0?"100px":`${(t[t.length-1]-i)/s*80+20}px`}getRebalancePositions(t){if(!t||t===0)return[];let e=[];for(let i=0;i<t;i++){let s=20+(i+1)*(60/(t+1));e.push(s)}return e}getChartPath(t){return!t||t.length<2?"":`M ${t.map((i,s)=>{let p=s/(t.length-1)*100,O=100-(i-Math.min(...t))/(Math.max(...t)-Math.min(...t))*80;return`${p},${O}`}).join(" L ")}`}getChartGradient(t){let e=this.getPortfolioColor(t);return`linear-gradient(180deg, ${e}20 0%, ${e} 100%)`}onSaveChanges(t){if(console.log("Save changes for portfolio:",t),t.id===0){console.log("Creating new portfolio:",t.name);let e=gt(R({},t),{id:Date.now(),inceptionDate:new Date().toISOString().split("T")[0]});this.portfolios.push(e),console.log("New portfolio added:",e),this.resetToOverview()}else{console.log("Updating existing portfolio:",t.name);let e=this.portfolios.findIndex(i=>i.id===t.id);e!==-1&&(this.portfolios[e]=R({},t),console.log("Portfolio updated:",this.portfolios[e]))}}onCancel(){console.log("Cancel configuration"),this.selectedPortfolio=null}onApplyOptimization(t){console.log("Apply optimization for portfolio:",t),this.selectedPortfolio=null}goToOverview(){console.log("Navigating to Overview tab"),this.activeTab="0",this.selectedPortfolio=null}};g.\u0275fac=function(e){return new(e||g)(vt(st))},g.\u0275cmp=A({type:g,selectors:[["app-portfolios"]],decls:69,vars:19,consts:[[1,"portfolios-container"],[1,"header-section"],[1,"header-content"],[1,"title-section"],[1,"main-title"],[1,"subtitle"],["pButton","","label","Create Portfolio","icon","pi pi-plus",1,"p-button-primary","create-btn",3,"click"],[1,"header-divider"],[1,"summary-cards"],[1,"summary-card"],[1,"card-content"],[1,"card-value"],[1,"card-label"],[1,"card-icon"],[1,"pi","pi-chart-line"],[1,"pi","pi-check-circle"],[1,"pi","pi-shield"],[1,"pi","pi-balance-scale"],[1,"pi","pi-rocket"],[1,"portfolio-tabs",3,"valueChange","value"],["value","0"],["value","1"],[1,"pi","pi-cog"],["value","2"],[1,"pi","pi-chart-bar"],[3,"searchChange","riskProfileChange","clearFilters","sortChange","layoutChange","configurePortfolio","optimizePortfolio","createPortfolio","goToLogin","portfolios","filteredPortfolios","loading","error","searchText","selectedRiskProfile","layout","sortField","sortOrder","riskProfileOptions"],[3,"saveChanges","cancel","goToOverview","selectedPortfolio","riskProfileOptions"],[3,"applyOptimization","selectedPortfolio"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),a(5,"Portfolios"),r(),o(6,"p",5),a(7,"Configure and manage your investment portfolios"),r()(),o(8,"button",6),P("click",function(){return i.createPortfolio()}),r()(),m(9,"div",7),r(),o(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11),a(14),r(),o(15,"div",12),a(16,"Total Portfolios"),r()(),o(17,"div",13),m(18,"i",14),r()(),o(19,"div",9)(20,"div",10)(21,"div",11),a(22),r(),o(23,"div",12),a(24,"Active Portfolios"),r()(),o(25,"div",13),m(26,"i",15),r()(),o(27,"div",9)(28,"div",10)(29,"div",11),a(30),r(),o(31,"div",12),a(32,"Conservative"),r()(),o(33,"div",13),m(34,"i",16),r()(),o(35,"div",9)(36,"div",10)(37,"div",11),a(38),r(),o(39,"div",12),a(40,"Moderate"),r()(),o(41,"div",13),m(42,"i",17),r()(),o(43,"div",9)(44,"div",10)(45,"div",11),a(46),r(),o(47,"div",12),a(48,"Aggressive"),r()(),o(49,"div",13),m(50,"i",18),r()()(),o(51,"p-tabs",19),T("valueChange",function(p){return E(i.activeTab,p)||(i.activeTab=p),p}),P("valueChange",function(p){return i.onTabChange(p)}),o(52,"p-tablist")(53,"p-tab",20),m(54,"i",14),a(55," Overview "),r(),o(56,"p-tab",21),m(57,"i",22),a(58," Configure "),r(),o(59,"p-tab",23),m(60,"i",24),a(61," Optimize "),r()(),o(62,"p-tabpanels")(63,"p-tabpanel",20)(64,"app-portfolio-overview",25),P("searchChange",function(){return i.onSearchChange()})("riskProfileChange",function(){return i.onRiskProfileChange()})("clearFilters",function(){return i.clearFilters()})("sortChange",function(p){return i.onSortChange(p)})("layoutChange",function(p){return i.layout=p})("configurePortfolio",function(p){return i.configurePortfolio(p)})("optimizePortfolio",function(p){return i.optimizePortfolio(p)})("createPortfolio",function(){return i.createPortfolio()})("goToLogin",function(){return i.goToLogin()}),r()(),o(65,"p-tabpanel",21)(66,"app-portfolio-configure",26),P("saveChanges",function(p){return i.onSaveChanges(p)})("cancel",function(){return i.onCancel()})("goToOverview",function(){return i.goToOverview()}),r()(),o(67,"p-tabpanel",23)(68,"app-portfolio-optimize",27),P("applyOptimization",function(p){return i.onApplyOptimization(p)}),r()()()()()),e&2&&(l(14),M(i.totalPortfolios),l(8),M(i.activePortfolios),l(8),M(i.conservativePortfolios),l(8),M(i.moderatePortfolios),l(8),M(i.aggressivePortfolios),l(5),S("value",i.activeTab),l(13),_("portfolios",i.portfolios)("filteredPortfolios",i.filteredPortfolios)("loading",i.loading)("error",i.error)("searchText",i.searchText)("selectedRiskProfile",i.selectedRiskProfile)("layout",i.layout)("sortField",i.sortField)("sortOrder",i.sortOrder)("riskProfileOptions",i.riskProfileOptions),l(2),_("selectedPortfolio",i.selectedPortfolio)("riskProfileOptions",i.riskProfileOptions),l(2),_("selectedPortfolio",i.selectedPortfolio))},dependencies:[L,Dt,H,N,te,$,G,lt,U,pe,Me,nt,le,ae,ce,re,oe,ie,W,ue,Oe,he],styles:[".portfolios-container[_ngcontent-%COMP%]{padding:1.5rem;background-color:#f8f9fa;min-height:100vh}.portfolios-container[_ngcontent-%COMP%]   .header-divider[_ngcontent-%COMP%]{width:100%;height:1px;background-color:var(--surface-border, #e9ecef);margin:0;padding:0}.portfolios-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{margin-bottom:2rem}.portfolios-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem;margin-bottom:1rem}.portfolios-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0 0 .5rem;color:var(--text-color, #2c3e50)}.portfolios-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.1rem;margin:0;color:var(--text-color-secondary, #6c757d);font-weight:400}.portfolios-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]{background:var(--primary-color, #667eea);border:1px solid var(--primary-color, #667eea);color:var(--primary-color-text, white);font-weight:600;padding:.75rem 1.5rem;border-radius:8px;transition:all .3s ease}.portfolios-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]:hover{background:var(--primary-600, #5a6fd8);border-color:var(--primary-600, #5a6fd8);transform:translateY(-2px)}.portfolios-container[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin-bottom:2rem}.portfolios-container[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:var(--surface-card, white);border-radius:12px;padding:1.25rem;box-shadow:var(--card-shadow, 0 2px 12px rgba(0, 0, 0, .08));transition:all .3s ease;border:1px solid var(--surface-border, #e9ecef);display:flex;justify-content:space-between;align-items:center;min-height:80px}.portfolios-container[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:var(--card-shadow-hover, 0 8px 25px rgba(0, 0, 0, .15))}.portfolios-container[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1}.portfolios-container[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--text-color, #2c3e50);margin-bottom:.25rem;line-height:1.2}.portfolios-container[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-color-secondary, #6c757d);font-weight:500;line-height:1.2}.portfolios-container[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:10px;display:flex;align-items:center;justify-content:center;background:var(--primary-color, #667eea);color:var(--primary-color-text, white);font-size:1.25rem;flex-shrink:0;margin-left:1rem}.portfolios-container[_ngcontent-%COMP%]     .p-tabs .p-tablist{background:var(--surface-card, white);border-radius:12px 12px 0 0;border:1px solid var(--surface-border, #e9ecef);border-bottom:none;margin-bottom:0}.portfolios-container[_ngcontent-%COMP%]     .p-tabs .p-tablist .p-tab{background:var(--surface-ground, #f8f9fa);border:none;border-radius:0;padding:1rem 1.5rem;margin:0;color:var(--text-color-secondary, #6c757d);font-weight:500;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem;min-width:120px}.portfolios-container[_ngcontent-%COMP%]     .p-tabs .p-tablist .p-tab:hover{color:var(--text-color, #495057);background:var(--surface-hover, #e9ecef)}.portfolios-container[_ngcontent-%COMP%]     .p-tabs .p-tablist .p-tab.p-highlight{color:var(--primary-color, #667eea);background:var(--surface-card, white);border-bottom:3px solid var(--primary-color, #667eea)}.portfolios-container[_ngcontent-%COMP%]     .p-tabs .p-tablist .p-tab i{font-size:1rem}.portfolios-container[_ngcontent-%COMP%]     .p-tabs .p-tabpanels{height:75vh!important;background:var(--surface-card, white);border-radius:0 0 12px 12px;border:1px solid var(--surface-border, #e9ecef);border-top:none;padding:2rem;box-shadow:var(--card-shadow, 0 2px 12px rgba(0, 0, 0, .08));margin-bottom:2rem}.portfolios-container[_ngcontent-%COMP%]     .p-tabs .p-tabpanels .p-tabpanel{padding:0}@media (max-width: 768px){.portfolios-container[_ngcontent-%COMP%]{padding:1rem}.portfolios-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{padding:1.5rem}.portfolios-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.portfolios-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.portfolios-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{font-size:2rem}.portfolios-container[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}}"]});let c=g;return c})();export{gi as PortfoliosComponent};
