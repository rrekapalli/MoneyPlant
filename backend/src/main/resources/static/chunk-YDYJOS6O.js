import{a as P}from"./chunk-SR3WNCV7.js";import"./chunk-PUWSDGFS.js";import"./chunk-NBMXCGLL.js";import"./chunk-6DF6NXBA.js";import{i as A,k as L,p as N}from"./chunk-AR7LHXST.js";import{Da as r,Fc as F,Ia as I,Lb as i,Mb as c,Nb as x,Oa as T,Ob as M,Pb as V,Qc as D,Uc as $,Yb as f,ca as h,da as S,db as b,dc as d,eb as v,ec as y,fc as p,hb as g,ib as k,jb as _,kb as t,lb as e,tb as E,vb as C,xb as u}from"./chunk-53IN4TFO.js";import"./chunk-GAL4ENT6.js";var G=(a,l)=>({"bg-green-100":a,"bg-red-100":l}),B=(a,l)=>({"text-green-600":a,"text-red-600":l}),R=(a,l)=>l.indexName,w=(a,l)=>l.symbol;function O(a,l){a&1&&(t(0,"div",3)(1,"div",6)(2,"div",7)(3,"span",8),i(4,"Loading..."),e()(),t(5,"p",9),i(6,"Loading market data..."),e()()())}function q(a,l){if(a&1&&(t(0,"div",4)(1,"strong"),i(2,"Error:"),e(),i(3),e()),a&2){let n=u();r(3),x(" ",n.error," ")}}function z(a,l){if(a&1&&(t(0,"div",13)(1,"h4",20),i(2),e(),t(3,"p",21),i(4),d(5,"number"),e(),t(6,"p",22),i(7),d(8,"number"),d(9,"number"),e()()),a&2){let n=l.$implicit;_("ngClass",f(16,G,n.change>0,n.change<0)),r(2),c(n.indexName),r(2),c(p(5,7,n.value,"1.2-2")),r(2),_("ngClass",f(19,B,n.change>0,n.change<0)),r(),V(" ",n.change>0?"+":"","",p(8,10,n.change,"1.2-2")," (",p(9,13,n.changePercent*100,"1.2-2"),"%) ")}}function H(a,l){if(a&1){let n=E();t(0,"tr",19)(1,"td",23),i(2),e(),t(3,"td",24),i(4),e(),t(5,"td",17),i(6),d(7,"number"),e(),t(8,"td",25),i(9),d(10,"number"),e(),t(11,"td",17),i(12),d(13,"number"),e(),t(14,"td",17),i(15),d(16,"number"),e(),t(17,"td",18)(18,"button",26),C("click",function(){let m=h(n).$implicit,s=u(2);return S(s.viewStockDetails(m.symbol))}),i(19," View "),e()()()}if(a&2){let n=l.$implicit;r(2),c(n.symbol),r(2),c(n.name),r(2),c(p(7,6,n.price,"1.2-2")),r(3),x(" +",p(10,9,n.change*100,"1.2-2"),"% "),r(3),c(y(13,12,n.volume)),r(3),x("",p(16,14,n.marketCap/1e9,"1.0-1"),"B")}}function J(a,l){if(a&1){let n=E();t(0,"tr",19)(1,"td",23),i(2),e(),t(3,"td",24),i(4),e(),t(5,"td",17),i(6),d(7,"number"),e(),t(8,"td",27),i(9),d(10,"number"),e(),t(11,"td",17),i(12),d(13,"number"),e(),t(14,"td",17),i(15),d(16,"number"),e(),t(17,"td",18)(18,"button",26),C("click",function(){let m=h(n).$implicit,s=u(2);return S(s.viewStockDetails(m.symbol))}),i(19," View "),e()()()}if(a&2){let n=l.$implicit;r(2),c(n.symbol),r(2),c(n.name),r(2),c(p(7,6,n.price,"1.2-2")),r(3),x(" ",p(10,9,n.change*100,"1.2-2"),"% "),r(3),c(y(13,12,n.volume)),r(3),x("",p(16,14,n.marketCap/1e9,"1.0-1"),"B")}}function K(a,l){if(a&1){let n=E();t(0,"tr",19)(1,"td",23),i(2),e(),t(3,"td",24),i(4),e(),t(5,"td",17),i(6),d(7,"number"),e(),t(8,"td",28),i(9),d(10,"number"),e(),t(11,"td",17),i(12),d(13,"number"),e(),t(14,"td",17),i(15),d(16,"number"),e(),t(17,"td",18)(18,"button",26),C("click",function(){let m=h(n).$implicit,s=u(2);return S(s.viewStockDetails(m.symbol))}),i(19," View "),e()()()}if(a&2){let n=l.$implicit;r(2),c(n.symbol),r(2),c(n.name),r(2),c(p(7,8,n.price,"1.2-2")),r(2),_("ngClass",f(19,B,n.change>0,n.change<0)),r(),M(" ",n.change>0?"+":"","",p(10,11,n.change*100,"1.2-2"),"% "),r(3),c(y(13,14,n.volume)),r(3),x("",p(16,16,n.marketCap/1e9,"1.0-1"),"B")}}function Q(a,l){if(a&1&&(t(0,"div",5)(1,"div",10)(2,"h3",11),i(3,"Market Summary"),e(),t(4,"div",12),g(5,z,10,22,"div",13,R),e()(),t(7,"div",10)(8,"h3",11),i(9,"Top Gainers"),e(),t(10,"div",14)(11,"table",15)(12,"thead")(13,"tr")(14,"th",16),i(15,"Symbol"),e(),t(16,"th",16),i(17,"Name"),e(),t(18,"th",17),i(19,"Price"),e(),t(20,"th",17),i(21,"Change %"),e(),t(22,"th",17),i(23,"Volume"),e(),t(24,"th",17),i(25,"Market Cap"),e(),t(26,"th",18),i(27,"Action"),e()()(),t(28,"tbody"),g(29,H,20,17,"tr",19,w),e()()()(),t(31,"div",10)(32,"h3",11),i(33,"Top Losers"),e(),t(34,"div",14)(35,"table",15)(36,"thead")(37,"tr")(38,"th",16),i(39,"Symbol"),e(),t(40,"th",16),i(41,"Name"),e(),t(42,"th",17),i(43,"Price"),e(),t(44,"th",17),i(45,"Change %"),e(),t(46,"th",17),i(47,"Volume"),e(),t(48,"th",17),i(49,"Market Cap"),e(),t(50,"th",18),i(51,"Action"),e()()(),t(52,"tbody"),g(53,J,20,17,"tr",19,w),e()()()(),t(55,"div",10)(56,"h3",11),i(57,"Most Active"),e(),t(58,"div",14)(59,"table",15)(60,"thead")(61,"tr")(62,"th",16),i(63,"Symbol"),e(),t(64,"th",16),i(65,"Name"),e(),t(66,"th",17),i(67,"Price"),e(),t(68,"th",17),i(69,"Change %"),e(),t(70,"th",17),i(71,"Volume"),e(),t(72,"th",17),i(73,"Market Cap"),e(),t(74,"th",18),i(75,"Action"),e()()(),t(76,"tbody"),g(77,K,20,22,"tr",19,w),e()()()()()),a&2){let n=u();r(5),k(n.marketSummary),r(24),k(n.topGainers),r(24),k(n.topLosers),r(24),k(n.mostActive)}}function U(a,l){if(a&1){let n=E();t(0,"div",5)(1,"div",1)(2,"h3",29),i(3),e(),t(4,"div",30)(5,"button",31),C("click",function(){h(n);let m=u();return S(m.backToList())}),i(6," Back to Markets "),e()()(),t(7,"div",32)(8,"div",33)(9,"div")(10,"h4",34),i(11),e(),t(12,"p",35),i(13),d(14,"number"),e(),t(15,"p",36),i(16),d(17,"number"),e()(),t(18,"div",37)(19,"div")(20,"p",38),i(21,"Volume"),e(),t(22,"p",20),i(23),d(24,"number"),e()(),t(25,"div")(26,"p",38),i(27,"Market Cap"),e(),t(28,"p",20),i(29),d(30,"number"),e()()()()()()}if(a&2){let n=u();r(3),x("Stock Details: ",n.selectedStock.symbol),r(8),M("",n.selectedStock.name," (",n.selectedStock.symbol,")"),r(2),c(p(14,9,n.selectedStock.price,"1.2-2")),r(2),_("ngClass",f(20,B,n.selectedStock.change>0,n.selectedStock.change<0)),r(),M(" ",n.selectedStock.change>0?"+":"","",p(17,12,n.selectedStock.change*100,"1.2-2"),"% "),r(7),c(y(24,15,n.selectedStock.volume)),r(6),x("",p(30,17,n.selectedStock.marketCap/1e9,"1.0-1"),"B")}}var ne=(()=>{let l=class l{constructor(o,m,s){this.route=o,this.router=m,this.marketState=s,this.selectedMarketId=null,this.marketSummary=[],this.topGainers=[],this.topLosers=[],this.mostActive=[],this.selectedStock=null,this.loading=!1,this.error=null,this.route.params.subscribe(j=>{this.selectedMarketId=j.id||null,this.selectedMarketId&&this.loadStockDetails(this.selectedMarketId)})}ngOnInit(){this.loading=!0,this.loadMarketData()}loadMarketData(){this.marketState.getMarketSummary().subscribe({next:o=>{this.marketSummary=o,this.loading=!1},error:o=>{this.error="Failed to load market summary",this.loading=!1,console.error(o)}}),this.marketState.getTopGainers().subscribe({next:o=>{this.topGainers=o},error:o=>{console.error("Failed to load top gainers:",o)}}),this.marketState.getTopLosers().subscribe({next:o=>{this.topLosers=o},error:o=>{console.error("Failed to load top losers:",o)}}),this.marketState.getMostActive().subscribe({next:o=>{this.mostActive=o},error:o=>{console.error("Failed to load most active stocks:",o)}})}loadStockDetails(o){this.loading=!0,this.marketState.getStockDetails(o).subscribe({next:m=>{this.selectedStock=m,this.loading=!1},error:m=>{this.error=`Failed to load details for ${o}`,this.loading=!1,console.error(m)}})}viewStockDetails(o){this.router.navigate(["/market",o])}onEdit(){}onDelete(){}backToList(){this.router.navigate(["/market"])}};l.\u0275fac=function(m){return new(m||l)(I(A),I(L),I(P))},l.\u0275cmp=T({type:l,selectors:[["app-market"]],decls:9,vars:4,consts:[[1,"container","mx-auto","p-4"],[1,"flex","justify-between","items-center","mb-4"],[1,"m-0"],[1,"flex","justify-center","items-center","p-4"],[1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","mb-4"],[1,"grid","gap-4"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"mt-2"],[1,"bg-white","p-4","rounded","shadow"],[1,"text-xl","font-bold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"p-3","border","rounded",3,"ngClass"],[1,"overflow-x-auto"],[1,"min-w-full","bg-white"],[1,"py-2","px-4","border-b","text-left"],[1,"py-2","px-4","border-b","text-right"],[1,"py-2","px-4","border-b","text-center"],[1,"hover:bg-gray-100","cursor-pointer"],[1,"font-bold"],[1,"text-2xl"],[3,"ngClass"],[1,"py-2","px-4","border-b","font-bold"],[1,"py-2","px-4","border-b"],[1,"py-2","px-4","border-b","text-right","text-green-600"],[1,"bg-blue-500","text-white","px-2","py-1","rounded","hover:bg-blue-600","text-sm",3,"click"],[1,"py-2","px-4","border-b","text-right","text-red-600"],[1,"py-2","px-4","border-b","text-right",3,"ngClass"],[1,"text-xl","font-bold"],[1,"space-x-2"],[1,"bg-gray-500","text-white","px-4","py-2","rounded","hover:bg-gray-600",3,"click"],[1,"bg-white","p-6","rounded","shadow"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"text-2xl","font-bold"],[1,"text-3xl","my-4"],[1,"text-xl",3,"ngClass"],[1,"grid","grid-cols-2","gap-4"],[1,"text-gray-600"]],template:function(m,s){m&1&&(t(0,"div",0)(1,"div",1)(2,"h2",2),i(3,"Markets"),e()(),b(4,O,7,0,"div",3),b(5,q,4,1,"div",4),t(6,"div",5),b(7,Q,79,0,"div",5),b(8,U,31,23,"div",5),e()()),m&2&&(r(4),v(s.loading?4:-1),r(),v(s.error?5:-1),r(2),v(s.selectedMarketId?-1:7),r(),v(s.selectedMarketId&&s.selectedStock?8:-1))},dependencies:[$,F,N,D],encapsulation:2});let a=l;return a})();export{ne as MarketComponent};
