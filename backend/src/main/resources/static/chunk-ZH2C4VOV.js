import{b as v}from"./chunk-6DF6NXBA.js";import{c as y,d as b,f as w,g as S,k,n as I,o as E,u as L,w as F}from"./chunk-RSWLFW5Q.js";import{k as O}from"./chunk-AR7LHXST.js";import{Da as l,Ia as f,Ic as C,Lb as n,Mb as M,Nb as x,Oa as h,Ta as p,Uc as P,jb as s,kb as t,lb as e,mb as d,vb as u,xb as _}from"./chunk-53IN4TFO.js";import"./chunk-GAL4ENT6.js";function T(i,a){i&1&&(t(0,"small",21),n(1," Email is required. "),e())}function G(i,a){i&1&&(t(0,"small",21),n(1," Please enter a valid email address. "),e())}function j(i,a){if(i&1&&(t(0,"div",22),n(1),e()),i&2){let z=_();l(),x(" ",z.errorMessage," ")}}function N(i,a){i&1&&d(0,"span",23)}var V=(()=>{let a=class a{constructor(g,r,o){this.fb=g,this.authService=r,this.router=o,this.isLoading=!1,this.errorMessage="",this.loginForm=this.fb.group({email:["",[b.required,b.email]]})}ngOnInit(){this.authService.isLoggedIn()&&this.router.navigate(["/dashboard"])}onSubmit(){if(this.loginForm.valid){this.isLoading=!0,this.errorMessage="";let g=this.loginForm.get("email")?.value;this.authService.loginWithEmail(g).subscribe({next:r=>{this.isLoading=!1,r.success?this.router.navigate(["/dashboard"]):this.errorMessage=r.message||"Login failed. Please try again."},error:r=>{this.isLoading=!1,this.errorMessage=r.message||"Login failed. Please try again."}})}else this.errorMessage="Please enter a valid email address."}signInWithGoogle(){this.isLoading=!0,this.errorMessage="",window.location.href="http://localhost:8080/oauth2/authorization/google"}signInWithMicrosoft(){this.isLoading=!0,this.errorMessage="",window.location.href="http://localhost:8080/oauth2/authorization/microsoft"}getErrorMessage(){let g=this.loginForm.get("email");return g?.hasError("required")?"Email is required.":g?.hasError("email")?"Please enter a valid email address.":""}};a.\u0275fac=function(r){return new(r||a)(f(L),f(v),f(O))},a.\u0275cmp=h({type:a,selectors:[["app-login"]],decls:41,vars:8,consts:[[1,"login-container"],[1,"logo-section"],["src","assets/images/moneytree-logo.png","alt","MoneyPlant Logo",1,"logo"],[1,"logo-text"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"email-field"],["id","email","type","email","formControlName","email","placeholder","Enter your email...","autocomplete","email",1,"email-input"],["class","error-text",4,"ngIf"],["class","error-message",4,"ngIf"],["type","submit",1,"signin-button",3,"disabled"],["class","loading-spinner",4,"ngIf"],[1,"separator"],[1,"separator-text"],[1,"oauth-buttons"],["type","button",1,"oauth-button","google-button",3,"click","disabled"],["src","assets/images/google-logo.svg","alt","Google",1,"oauth-icon"],["type","button",1,"oauth-button","microsoft-button",3,"click"],["src","assets/images/microsoft-logo.svg","alt","Microsoft",1,"oauth-icon"],[1,"footer"],["href","#",1,"footer-link"],[1,"footer-legal"],[1,"error-text"],[1,"error-message"],[1,"loading-spinner"]],template:function(r,o){if(r&1&&(t(0,"div",0)(1,"div",1),d(2,"img",2),t(3,"h1",3),n(4,"MoneyPlant"),e()(),t(5,"form",4),u("ngSubmit",function(){return o.onSubmit()}),t(6,"div",5),d(7,"input",6),p(8,T,2,0,"small",7)(9,G,2,0,"small",7),e(),p(10,j,2,1,"div",8),t(11,"button",9),p(12,N,1,0,"span",10),t(13,"span"),n(14),e()()(),t(15,"div",11)(16,"span",12),n(17,"OR"),e()(),t(18,"div",13)(19,"button",14),u("click",function(){return o.signInWithGoogle()}),d(20,"img",15),t(21,"span"),n(22,"Sign in with Google"),e()(),t(23,"button",16),u("click",function(){return o.signInWithMicrosoft()}),d(24,"img",17),t(25,"span"),n(26,"Sign in with Microsoft"),e()()(),t(27,"div",18)(28,"p"),n(29,"First time? Learn more at "),t(30,"a",19),n(31,"moneyplant.com"),e(),n(32,"."),e(),t(33,"p",20),n(34,"By clicking the buttons above, you acknowledge that you have read, understood, and agree to MoneyPlant's "),t(35,"a",19),n(36,"Terms of Service"),e(),n(37," and "),t(38,"a",19),n(39,"Privacy Policy"),e(),n(40,"."),e()()()),r&2){let c,m;l(5),s("formGroup",o.loginForm),l(3),s("ngIf",((c=o.loginForm.get("email"))==null?null:c.hasError("required"))&&((c=o.loginForm.get("email"))==null?null:c.touched)),l(),s("ngIf",((m=o.loginForm.get("email"))==null?null:m.hasError("email"))&&((m=o.loginForm.get("email"))==null?null:m.touched)),l(),s("ngIf",o.errorMessage),l(),s("disabled",!o.loginForm.valid||o.isLoading),l(),s("ngIf",o.isLoading),l(2),M(o.isLoading?"Signing in...":"Sign in"),l(5),s("disabled",!0)}},dependencies:[P,C,F,k,y,w,S,I,E],styles:['.login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;background-color:#fff;padding:20px;padding-top:15vh;box-sizing:border-box}.logo-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.logo-section[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:8px;border-radius:4px}.logo-section[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:24px;font-weight:500;color:#1a1a1a;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.login-form[_ngcontent-%COMP%]{width:100%;max-width:320px;margin-bottom:24px}.login-form[_ngcontent-%COMP%]   .email-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.login-form[_ngcontent-%COMP%]   .email-field[_ngcontent-%COMP%]   .email-input[_ngcontent-%COMP%]{width:100%;height:44px;border-radius:6px;border:1px solid #d1d5db;padding:12px 16px;font-size:16px;transition:all .2s ease;background-color:#f9fafb;color:#1a1a1a;box-sizing:border-box}.login-form[_ngcontent-%COMP%]   .email-field[_ngcontent-%COMP%]   .email-input[_ngcontent-%COMP%]:hover{border-color:#9ca3af;background-color:#fff}.login-form[_ngcontent-%COMP%]   .email-field[_ngcontent-%COMP%]   .email-input[_ngcontent-%COMP%]:focus{border-color:#3b82f6;background-color:#fff;box-shadow:0 0 0 3px #3b82f61a;outline:none}.login-form[_ngcontent-%COMP%]   .email-field[_ngcontent-%COMP%]   .email-input[_ngcontent-%COMP%]::placeholder{color:#6b7280}.login-form[_ngcontent-%COMP%]   .email-field[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{color:#dc2626;font-size:12px;margin-top:4px;display:block}.login-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin-bottom:16px;padding:8px 12px;border-radius:6px;border:1px solid #fecaca;background-color:#fef2f2;color:#dc2626;font-size:14px;text-align:center}.login-form[_ngcontent-%COMP%]   .signin-button[_ngcontent-%COMP%]{width:100%;height:44px;border-radius:6px;font-size:16px;font-weight:500;text-transform:none;background-color:#374151;border:1px solid #374151;color:#fff;transition:all .2s ease;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px}.login-form[_ngcontent-%COMP%]   .signin-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1f2937;border-color:#1f2937;transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.login-form[_ngcontent-%COMP%]   .signin-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0);box-shadow:0 2px 8px #00000026}.login-form[_ngcontent-%COMP%]   .signin-button[_ngcontent-%COMP%]:disabled{background-color:#d1d5db;border-color:#d1d5db;color:#9ca3af;cursor:not-allowed;transform:none;box-shadow:none}.login-form[_ngcontent-%COMP%]   .signin-button[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.separator[_ngcontent-%COMP%]{position:relative;text-align:center;margin:24px 0;width:100%;max-width:320px}.separator[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background-color:#e5e7eb}.separator[_ngcontent-%COMP%]   .separator-text[_ngcontent-%COMP%]{background:#fff;padding:0 16px;color:#6b7280;font-size:14px;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.oauth-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px;width:320px}.oauth-buttons[_ngcontent-%COMP%]   .oauth-button[_ngcontent-%COMP%]{width:320px;height:44px;display:flex;align-items:center;justify-content:center;gap:12px;border-radius:6px;font-size:16px;font-weight:500;text-transform:none;border:1px solid #d1d5db;background-color:transparent;color:#374151;transition:all .2s ease;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.oauth-buttons[_ngcontent-%COMP%]   .oauth-button[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#9ca3af;background-color:#f9fafb;transform:translateY(-1px);box-shadow:0 4px 12px #0000001a}.oauth-buttons[_ngcontent-%COMP%]   .oauth-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0);box-shadow:0 2px 8px #0000001a}.oauth-buttons[_ngcontent-%COMP%]   .oauth-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none;box-shadow:none}.oauth-buttons[_ngcontent-%COMP%]   .oauth-button[_ngcontent-%COMP%]   .oauth-icon[_ngcontent-%COMP%]{width:20px;height:20px;object-fit:contain}.oauth-buttons[_ngcontent-%COMP%]   .oauth-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.oauth-buttons[_ngcontent-%COMP%]   .google-button[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#ea4335;background-color:#fef2f2}.oauth-buttons[_ngcontent-%COMP%]   .microsoft-button[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#0078d4;background-color:#f0f8ff}.footer[_ngcontent-%COMP%]{margin-top:40px;text-align:center;max-width:320px}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:14px;margin:0 0 8px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;line-height:1.5}.footer[_ngcontent-%COMP%]   .footer-link[_ngcontent-%COMP%]{color:#3b82f6;text-decoration:none;font-weight:500}.footer[_ngcontent-%COMP%]   .footer-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.footer[_ngcontent-%COMP%]   .footer-legal[_ngcontent-%COMP%]{font-size:12px;color:#9ca3af;margin-top:16px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:16px;padding-top:25vh}.logo-section[_ngcontent-%COMP%]{margin-bottom:32px}.logo-section[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:35px;height:35px}.logo-section[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:18px}.login-form[_ngcontent-%COMP%]{max-width:100%}.login-form[_ngcontent-%COMP%]   .signin-button[_ngcontent-%COMP%]{height:44px;font-size:16px}.oauth-buttons[_ngcontent-%COMP%]{width:100%;max-width:320px}.oauth-buttons[_ngcontent-%COMP%]   .oauth-button[_ngcontent-%COMP%]{width:100%;height:44px;gap:10px}.oauth-buttons[_ngcontent-%COMP%]   .oauth-button[_ngcontent-%COMP%]   .oauth-icon[_ngcontent-%COMP%]{width:18px;height:18px}.separator[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]{max-width:100%}}@media (prefers-color-scheme: dark){.login-container[_ngcontent-%COMP%]{background-color:#111827}.logo-text[_ngcontent-%COMP%]{color:#fff}.login-form[_ngcontent-%COMP%]   .email-field[_ngcontent-%COMP%]   .email-input[_ngcontent-%COMP%]{background-color:#1f2937;border-color:#374151;color:#fff}.login-form[_ngcontent-%COMP%]   .email-field[_ngcontent-%COMP%]   .email-input[_ngcontent-%COMP%]:hover{border-color:#6b7280;background-color:#374151}.login-form[_ngcontent-%COMP%]   .email-field[_ngcontent-%COMP%]   .email-input[_ngcontent-%COMP%]:focus{border-color:#3b82f6;background-color:#374151}.login-form[_ngcontent-%COMP%]   .email-field[_ngcontent-%COMP%]   .email-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.login-form[_ngcontent-%COMP%]   .signin-button[_ngcontent-%COMP%]{background-color:#3b82f6;border-color:#3b82f6}.login-form[_ngcontent-%COMP%]   .signin-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb;border-color:#2563eb}.separator-text[_ngcontent-%COMP%]{background-color:#111827;color:#9ca3af}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af}.footer[_ngcontent-%COMP%]   .footer-link[_ngcontent-%COMP%]{color:#60a5fa}.footer[_ngcontent-%COMP%]   .footer-legal[_ngcontent-%COMP%]{color:#6b7280}.error-message[_ngcontent-%COMP%]{background-color:#1f1f1f;border-color:#5d2f2f;color:#fca5a5}.oauth-button[_ngcontent-%COMP%]{border-color:#374151;color:#fff}.oauth-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#374151}}@media (prefers-reduced-motion: reduce){.signin-button[_ngcontent-%COMP%], .oauth-button[_ngcontent-%COMP%]{transition:none}.loading-spinner[_ngcontent-%COMP%]{animation:none}}@media (prefers-contrast: high){.oauth-button[_ngcontent-%COMP%]{border-width:2px}.separator[_ngcontent-%COMP%]:before{height:2px}}']});let i=a;return i})();export{V as LoginComponent};
